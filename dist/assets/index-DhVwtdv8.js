function Eg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Af={exports:{}},Yi={},Rf={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Fg=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),yd=Symbol.iterator;function Vg(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lf=Object.assign,$f={};function es(e,t,r){this.props=e,this.context=t,this.refs=$f,this.updater=r||Mf}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Df(){}Df.prototype=es.prototype;function Gc(e,t,r){this.props=e,this.context=t,this.refs=$f,this.updater=r||Mf}var Jc=Gc.prototype=new Df;Jc.constructor=Gc;Lf(Jc,es.prototype);Jc.isPureReactComponent=!0;var bd=Array.isArray,Ff=Object.prototype.hasOwnProperty,Yc={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function Vf(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ff.call(t,n)&&!Uf.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:la,type:e,key:i,ref:o,props:s,_owner:Yc.current}}function zg(e,t){return{$$typeof:la,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===la}function Bg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wd=/\/+/g;function Bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bg(""+e.key):t.toString(36)}function Ka(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case la:case Ig:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Bo(o,0):n,bd(s)?(r="",e!=null&&(r=e.replace(wd,"$&/")+"/"),Ka(s,t,r,"",function(u){return u})):s!=null&&(Qc(s)&&(s=zg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",bd(e))for(var c=0;c<e.length;c++){i=e[c];var l=n+Bo(i,c);o+=Ka(i,t,r,l,s)}else if(l=Vg(e),typeof l=="function")for(e=l.call(e),c=0;!(i=e.next()).done;)i=i.value,l=n+Bo(i,c++),o+=Ka(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,r){if(e==null)return e;var n=[],s=0;return Ka(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Hg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Ga={transition:null},Wg={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Yc};function zf(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ba,forEach:function(e,t,r){ba(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!Qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=es;se.Fragment=Og;se.Profiler=Rg;se.PureComponent=Gc;se.StrictMode=Ag;se.Suspense=Dg;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;se.act=zf;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Lf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Ff.call(t,l)&&!Uf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:la,type:e.type,key:s,ref:i,props:n,_owner:o}};se.createContext=function(e){return e={$$typeof:Lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mg,_context:e},e.Consumer=e};se.createElement=Vf;se.createFactory=function(e){var t=Vf.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:$g,render:e}};se.isValidElement=Qc;se.lazy=function(e){return{$$typeof:Ug,_payload:{_status:-1,_result:e},_init:Hg}};se.memo=function(e,t){return{$$typeof:Fg,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ga.transition;Ga.transition={};try{e()}finally{Ga.transition=t}};se.unstable_act=zf;se.useCallback=function(e,t){return tt.current.useCallback(e,t)};se.useContext=function(e){return tt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};se.useEffect=function(e,t){return tt.current.useEffect(e,t)};se.useId=function(){return tt.current.useId()};se.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return tt.current.useMemo(e,t)};se.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};se.useRef=function(e){return tt.current.useRef(e)};se.useState=function(e){return tt.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return tt.current.useTransition()};se.version="18.3.1";Rf.exports=se;var x=Rf.exports;const wr=Pg(x),Il=Eg({__proto__:null,default:wr},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=x,Kg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Jg=Object.prototype.hasOwnProperty,Yg=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Jg.call(t,n)&&!Qg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Kg,type:e,key:i,ref:o,props:s,_owner:Yg.current}}Yi.Fragment=Gg;Yi.jsx=Bf;Yi.jsxs=Bf;Af.exports=Yi;var a=Af.exports,Hf={exports:{}},vt={},Wf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,z){var K=R.length;R.push(z);e:for(;0<K;){var E=K-1>>>1,T=R[E];if(0<s(T,z))R[E]=z,R[K]=T,K=E;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var z=R[0],K=R.pop();if(K!==z){R[0]=K;e:for(var E=0,T=R.length,V=T>>>1;E<V;){var O=2*(E+1)-1,B=R[O],S=O+1,M=R[S];if(0>s(B,K))S<T&&0>s(M,B)?(R[E]=M,R[S]=K,E=S):(R[E]=B,R[O]=K,E=O);else if(S<T&&0>s(M,K))R[E]=M,R[S]=K,E=S;else break e}}return z}function s(R,z){var K=R.sortIndex-z.sortIndex;return K!==0?K:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,h=null,m=3,v=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=R)n(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(u)}}function j(R){if(y=!1,g(R),!w)if(r(l)!==null)w=!0,Y(N);else{var z=r(u);z!==null&&le(j,z.startTime-R)}}function N(R,z){w=!1,y&&(y=!1,f(C),C=-1),v=!0;var K=m;try{for(g(z),h=r(l);h!==null&&(!(h.expirationTime>z)||R&&!J());){var E=h.callback;if(typeof E=="function"){h.callback=null,m=h.priorityLevel;var T=E(h.expirationTime<=z);z=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(l)&&n(l),g(z)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var O=r(u);O!==null&&le(j,O.startTime-z),V=!1}return V}finally{h=null,m=K,v=!1}}var _=!1,k=null,C=-1,D=5,F=-1;function J(){return!(e.unstable_now()-F<D)}function W(){if(k!==null){var R=e.unstable_now();F=R;var z=!0;try{z=k(!0,R)}finally{z?$():(_=!1,k=null)}}else _=!1}var $;if(typeof p=="function")$=function(){p(W)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,P=q.port2;q.port1.onmessage=W,$=function(){P.postMessage(null)}}else $=function(){b(W,0)};function Y(R){k=R,_||(_=!0,$())}function le(R,z){C=b(function(){R(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,Y(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return R()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=m;m=R;try{return z()}finally{m=K}},e.unstable_scheduleCallback=function(R,z,K){var E=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?E+K:E):K=E,R){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=K+T,R={id:d++,callback:z,priorityLevel:R,startTime:K,expirationTime:T,sortIndex:-1},K>E?(R.sortIndex=K,t(u,R),r(l)===null&&R===r(u)&&(y?(f(C),C=-1):y=!0,le(j,K-E))):(R.sortIndex=T,t(l,R),w||v||(w=!0,Y(N))),R},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(R){var z=m;return function(){var K=m;m=z;try{return R.apply(this,arguments)}finally{m=K}}}})(qf);Wf.exports=qf;var Zg=Wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=x,xt=Zg;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,$s={};function cn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for($s[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=Object.prototype.hasOwnProperty,ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},Nd={};function tx(e){return Ol.call(Nd,e)?!0:Ol.call(jd,e)?!1:ex.test(e)?Nd[e]=!0:(jd[e]=!0,!1)}function rx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nx(e,t,r,n){if(t===null||typeof t>"u"||rx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function Xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zc,Xc);We[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zc,Xc);We[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zc,Xc);We[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,r,n){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nx(t,r,s,n)&&(r=null),n||s===null?tx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ur=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),wn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Yf=Symbol.for("react.offscreen"),kd=Symbol.iterator;function ls(e){return e===null||typeof e!="object"?null:(e=kd&&e[kd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Ho;function ys(e){if(Ho===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||""}return`
`+Ho+e}var Wo=!1;function qo(e,t){if(!e||Wo)return"";Wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{Wo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ys(e):""}function sx(e){switch(e.tag){case 5:return ys(e.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 2:case 15:return e=qo(e.type,!1),e;case 11:return e=qo(e.type.render,!1),e;case 1:return e=qo(e.type,!0),e;default:return""}}function Ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case wn:return"Portal";case Al:return"Profiler";case tu:return"StrictMode";case Rl:return"Suspense";case Ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jf:return(e.displayName||"Context")+".Consumer";case Gf:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return t=e.displayName||null,t!==null?t:Ll(e.type)||"Memo";case xr:t=e._payload,e=e._init;try{return Ll(e(t))}catch{}}return null}function ax(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ix(e){var t=Qf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=ix(e))}function Zf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Qf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$r(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xf(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Dl(e,t){Xf(e,t);var r=$r(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fl(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _d(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fl(e,t,r){(t!=="number"||di(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bs=Array.isArray;function An(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$r(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(bs(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$r(r)}}function em(e,t){var r=$r(t.value),n=$r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ed(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,rm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ox=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){ox.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function nm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function sm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var lx=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(e,t){if(t){if(lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wl=null,Rn=null,Mn=null;function Pd(e){if(e=da(e)){if(typeof Wl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=to(t),Wl(e.stateNode,e.type,t))}}function am(e){Rn?Mn?Mn.push(e):Mn=[e]:Rn=e}function im(){if(Rn){var e=Rn,t=Mn;if(Mn=Rn=null,Pd(e),t)for(e=0;e<t.length;e++)Pd(t[e])}}function om(e,t){return e(t)}function lm(){}var Ko=!1;function cm(e,t,r){if(Ko)return e(t,r);Ko=!0;try{return om(e,t,r)}finally{Ko=!1,(Rn!==null||Mn!==null)&&(lm(),im())}}function Fs(e,t){var r=e.stateNode;if(r===null)return null;var n=to(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var ql=!1;if(ar)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){ql=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{ql=!1}function cx(e,t,r,n,s,i,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _s=!1,hi=null,fi=!1,Kl=null,ux={onError:function(e){_s=!0,hi=e}};function dx(e,t,r,n,s,i,o,c,l){_s=!1,hi=null,cx.apply(ux,arguments)}function hx(e,t,r,n,s,i,o,c,l){if(dx.apply(this,arguments),_s){if(_s){var u=hi;_s=!1,hi=null}else throw Error(L(198));fi||(fi=!0,Kl=u)}}function un(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Td(e){if(un(e)!==e)throw Error(L(188))}function fx(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Td(s),e;if(i===n)return Td(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=i;break}if(c===n){o=!0,n=s,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=s;break}if(c===n){o=!0,n=i,r=s;break}c=c.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function dm(e){return e=fx(e),e!==null?hm(e):null}function hm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hm(e);if(t!==null)return t;e=e.sibling}return null}var fm=xt.unstable_scheduleCallback,Id=xt.unstable_cancelCallback,mx=xt.unstable_shouldYield,px=xt.unstable_requestPaint,Te=xt.unstable_now,gx=xt.unstable_getCurrentPriorityLevel,au=xt.unstable_ImmediatePriority,mm=xt.unstable_UserBlockingPriority,mi=xt.unstable_NormalPriority,xx=xt.unstable_LowPriority,pm=xt.unstable_IdlePriority,Qi=null,Kt=null;function vx(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:wx,yx=Math.log,bx=Math.LN2;function wx(e){return e>>>=0,e===0?32:31-(yx(e)/bx|0)|0}var ka=64,Sa=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~s;c!==0?n=ws(c):(i&=o,i!==0&&(n=ws(i)))}else o=r&~s,o!==0?n=ws(o):i!==0&&(n=ws(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mt(t),s=1<<r,n|=e[r],t&=~s;return n}function jx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mt(i),c=1<<o,l=s[o];l===-1?(!(c&r)||c&n)&&(s[o]=jx(c,t)):l<=t&&(e.expiredLanes|=c),i&=~c}}function Gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gm(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function Go(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ca(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=r}function kx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function iu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var de=0;function xm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vm,ou,ym,bm,wm,Jl=!1,_a=[],Er=null,Pr=null,Tr=null,Us=new Map,Vs=new Map,jr=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function us(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=da(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _x(e,t,r,n,s){switch(t){case"focusin":return Er=us(Er,e,t,r,n,s),!0;case"dragenter":return Pr=us(Pr,e,t,r,n,s),!0;case"mouseover":return Tr=us(Tr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Us.set(i,us(Us.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vs.set(i,us(Vs.get(i)||null,e,t,r,n,s)),!0}return!1}function jm(e){var t=Yr(e.target);if(t!==null){var r=un(t);if(r!==null){if(t=r.tag,t===13){if(t=um(r),t!==null){e.blockedOn=t,wm(e.priority,function(){ym(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hl=n,r.target.dispatchEvent(n),Hl=null}else return t=da(r),t!==null&&ou(t),e.blockedOn=r,!1;t.shift()}return!0}function Ad(e,t,r){Ja(e)&&r.delete(t)}function Cx(){Jl=!1,Er!==null&&Ja(Er)&&(Er=null),Pr!==null&&Ja(Pr)&&(Pr=null),Tr!==null&&Ja(Tr)&&(Tr=null),Us.forEach(Ad),Vs.forEach(Ad)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,Jl||(Jl=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Cx)))}function zs(e){function t(s){return ds(s,e)}if(0<_a.length){ds(_a[0],e);for(var r=1;r<_a.length;r++){var n=_a[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Er!==null&&ds(Er,e),Pr!==null&&ds(Pr,e),Tr!==null&&ds(Tr,e),Us.forEach(t),Vs.forEach(t),r=0;r<jr.length;r++)n=jr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)jm(r),r.blockedOn===null&&jr.shift()}var Ln=ur.ReactCurrentBatchConfig,gi=!0;function Ex(e,t,r,n){var s=de,i=Ln.transition;Ln.transition=null;try{de=1,lu(e,t,r,n)}finally{de=s,Ln.transition=i}}function Px(e,t,r,n){var s=de,i=Ln.transition;Ln.transition=null;try{de=4,lu(e,t,r,n)}finally{de=s,Ln.transition=i}}function lu(e,t,r,n){if(gi){var s=Yl(e,t,r,n);if(s===null)sl(e,t,n,xi,r),Od(e,n);else if(_x(s,e,t,r,n))n.stopPropagation();else if(Od(e,n),t&4&&-1<Sx.indexOf(e)){for(;s!==null;){var i=da(s);if(i!==null&&vm(i),i=Yl(e,t,r,n),i===null&&sl(e,t,n,xi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else sl(e,t,n,null,r)}}var xi=null;function Yl(e,t,r,n){if(xi=null,e=su(n),e=Yr(e),e!==null)if(t=un(e),t===null)e=null;else if(r=t.tag,r===13){if(e=um(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xi=e,null}function Nm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gx()){case au:return 1;case mm:return 4;case mi:case xx:return 16;case pm:return 536870912;default:return 16}default:return 16}}var Sr=null,cu=null,Ya=null;function km(){if(Ya)return Ya;var e,t=cu,r=t.length,n,s="value"in Sr?Sr.value:Sr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ya=s.slice(e,1<n?1-n:void 0)}function Qa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function Rd(){return!1}function yt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ca:Rd,this.isPropagationStopped=Rd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=yt(ts),ua=_e({},ts,{view:0,detail:0}),Tx=yt(ua),Jo,Yo,hs,Zi=_e({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(Jo=e.screenX-hs.screenX,Yo=e.screenY-hs.screenY):Yo=Jo=0,hs=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),Md=yt(Zi),Ix=_e({},Zi,{dataTransfer:0}),Ox=yt(Ix),Ax=_e({},ua,{relatedTarget:0}),Qo=yt(Ax),Rx=_e({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=yt(Rx),Lx=_e({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$x=yt(Lx),Dx=_e({},ts,{data:0}),Ld=yt(Dx),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vx[e])?!!t[e]:!1}function du(){return zx}var Bx=_e({},ua,{key:function(e){if(e.key){var t=Fx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ux[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hx=yt(Bx),Wx=_e({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=yt(Wx),qx=_e({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Kx=yt(qx),Gx=_e({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=yt(Gx),Yx=_e({},Zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=yt(Yx),Zx=[9,13,27,32],hu=ar&&"CompositionEvent"in window,Cs=null;ar&&"documentMode"in document&&(Cs=document.documentMode);var Xx=ar&&"TextEvent"in window&&!Cs,Sm=ar&&(!hu||Cs&&8<Cs&&11>=Cs),Dd=" ",Fd=!1;function _m(e,t){switch(e){case"keyup":return Zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function ev(e,t){switch(e){case"compositionend":return Cm(t);case"keypress":return t.which!==32?null:(Fd=!0,Dd);case"textInput":return e=t.data,e===Dd&&Fd?null:e;default:return null}}function tv(e,t){if(Nn)return e==="compositionend"||!hu&&_m(e,t)?(e=km(),Ya=cu=Sr=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sm&&t.locale!=="ko"?null:t.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rv[e.type]:t==="textarea"}function Em(e,t,r,n){am(n),t=vi(t,"onChange"),0<t.length&&(r=new uu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Es=null,Bs=null;function nv(e){Fm(e,0)}function Xi(e){var t=_n(e);if(Zf(t))return e}function sv(e,t){if(e==="change")return t}var Pm=!1;if(ar){var Zo;if(ar){var Xo="oninput"in document;if(!Xo){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Xo=typeof Vd.oninput=="function"}Zo=Xo}else Zo=!1;Pm=Zo&&(!document.documentMode||9<document.documentMode)}function zd(){Es&&(Es.detachEvent("onpropertychange",Tm),Bs=Es=null)}function Tm(e){if(e.propertyName==="value"&&Xi(Bs)){var t=[];Em(t,Bs,e,su(e)),cm(nv,t)}}function av(e,t,r){e==="focusin"?(zd(),Es=t,Bs=r,Es.attachEvent("onpropertychange",Tm)):e==="focusout"&&zd()}function iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(Bs)}function ov(e,t){if(e==="click")return Xi(t)}function lv(e,t){if(e==="input"||e==="change")return Xi(t)}function cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:cv;function Hs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ol.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hd(e,t){var r=Bd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bd(r)}}function Im(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Im(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Om(){for(var e=window,t=di();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=di(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uv(e){var t=Om(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Im(r.ownerDocument.documentElement,r)){if(n!==null&&fu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hd(r,i);var o=Hd(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dv=ar&&"documentMode"in document&&11>=document.documentMode,kn=null,Ql=null,Ps=null,Zl=!1;function Wd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zl||kn==null||kn!==di(n)||(n=kn,"selectionStart"in n&&fu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ps&&Hs(Ps,n)||(Ps=n,n=vi(Ql,"onSelect"),0<n.length&&(t=new uu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kn)))}function Ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},el={},Am={};ar&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function eo(e){if(el[e])return el[e];if(!Sn[e])return e;var t=Sn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Am)return el[e]=t[r];return e}var Rm=eo("animationend"),Mm=eo("animationiteration"),Lm=eo("animationstart"),$m=eo("transitionend"),Dm=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Dm.set(e,t),cn(t,[e])}for(var tl=0;tl<qd.length;tl++){var rl=qd[tl],hv=rl.toLowerCase(),fv=rl[0].toUpperCase()+rl.slice(1);Fr(hv,"on"+fv)}Fr(Rm,"onAnimationEnd");Fr(Mm,"onAnimationIteration");Fr(Lm,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr($m,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Kd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hx(n,t,void 0,e),e.currentTarget=null}function Fm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&s.isPropagationStopped())break e;Kd(s,c,u),i=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&s.isPropagationStopped())break e;Kd(s,c,u),i=l}}}if(fi)throw e=Kl,fi=!1,Kl=null,e}function ye(e,t){var r=t[nc];r===void 0&&(r=t[nc]=new Set);var n=e+"__bubble";r.has(n)||(Um(t,e,2,!1),r.add(n))}function nl(e,t,r){var n=0;t&&(n|=4),Um(r,e,n,t)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Pa]){e[Pa]=!0,Kf.forEach(function(r){r!=="selectionchange"&&(mv.has(r)||nl(r,!1,e),nl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pa]||(t[Pa]=!0,nl("selectionchange",!1,t))}}function Um(e,t,r,n){switch(Nm(t)){case 1:var s=Ex;break;case 4:s=Px;break;default:s=lu}r=s.bind(null,t,r,e),s=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function sl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Yr(c),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}c=c.parentNode}}n=n.return}cm(function(){var u=i,d=su(r),h=[];e:{var m=Dm.get(e);if(m!==void 0){var v=uu,w=e;switch(e){case"keypress":if(Qa(r)===0)break e;case"keydown":case"keyup":v=Hx;break;case"focusin":w="focus",v=Qo;break;case"focusout":w="blur",v=Qo;break;case"beforeblur":case"afterblur":v=Qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Kx;break;case Rm:case Mm:case Lm:v=Mx;break;case $m:v=Jx;break;case"scroll":v=Tx;break;case"wheel":v=Qx;break;case"copy":case"cut":case"paste":v=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$d}var y=(t&4)!==0,b=!y&&e==="scroll",f=y?m!==null?m+"Capture":null:m;y=[];for(var p=u,g;p!==null;){g=p;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,f!==null&&(j=Fs(p,f),j!=null&&y.push(qs(p,j,g)))),b)break;p=p.return}0<y.length&&(m=new v(m,w,null,r,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==Hl&&(w=r.relatedTarget||r.fromElement)&&(Yr(w)||w[ir]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?Yr(w):null,w!==null&&(b=un(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=Md,j="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=$d,j="onPointerLeave",f="onPointerEnter",p="pointer"),b=v==null?m:_n(v),g=w==null?m:_n(w),m=new y(j,p+"leave",v,r,d),m.target=b,m.relatedTarget=g,j=null,Yr(d)===u&&(y=new y(f,p+"enter",w,r,d),y.target=g,y.relatedTarget=b,j=y),b=j,v&&w)t:{for(y=v,f=w,p=0,g=y;g;g=fn(g))p++;for(g=0,j=f;j;j=fn(j))g++;for(;0<p-g;)y=fn(y),p--;for(;0<g-p;)f=fn(f),g--;for(;p--;){if(y===f||f!==null&&y===f.alternate)break t;y=fn(y),f=fn(f)}y=null}else y=null;v!==null&&Gd(h,m,v,y,!1),w!==null&&b!==null&&Gd(h,b,w,y,!0)}}e:{if(m=u?_n(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=sv;else if(Ud(m))if(Pm)N=lv;else{N=iv;var _=av}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=ov);if(N&&(N=N(e,u))){Em(h,N,r,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Fl(m,"number",m.value)}switch(_=u?_n(u):window,e){case"focusin":(Ud(_)||_.contentEditable==="true")&&(kn=_,Ql=u,Ps=null);break;case"focusout":Ps=Ql=kn=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Wd(h,r,d);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":Wd(h,r,d)}var k;if(hu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nn?_m(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Sm&&r.locale!=="ko"&&(Nn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nn&&(k=km()):(Sr=d,cu="value"in Sr?Sr.value:Sr.textContent,Nn=!0)),_=vi(u,C),0<_.length&&(C=new Ld(C,e,null,r,d),h.push({event:C,listeners:_}),k?C.data=k:(k=Cm(r),k!==null&&(C.data=k)))),(k=Xx?ev(e,r):tv(e,r))&&(u=vi(u,"onBeforeInput"),0<u.length&&(d=new Ld("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Fm(h,t)})}function qs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fs(e,r),i!=null&&n.unshift(qs(e,i,s)),i=Fs(e,t),i!=null&&n.push(qs(e,i,s))),e=e.return}return n}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gd(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,s?(l=Fs(r,i),l!=null&&o.unshift(qs(r,l,c))):s||(l=Fs(r,i),l!=null&&o.push(qs(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(pv,`
`).replace(gv,"")}function Ta(e,t,r){if(t=Jd(t),Jd(e)!==t&&r)throw Error(L(425))}function yi(){}var Xl=null,ec=null;function tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch(yv)}:rc;function yv(e){setTimeout(function(){throw e})}function al(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),zs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zs(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),qt="__reactFiber$"+rs,Ks="__reactProps$"+rs,ir="__reactContainer$"+rs,nc="__reactEvents$"+rs,bv="__reactListeners$"+rs,wv="__reactHandles$"+rs;function Yr(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qd(e);e!==null;){if(r=e[qt])return r;e=Qd(e)}return t}e=r,r=e.parentNode}return null}function da(e){return e=e[qt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function to(e){return e[Ks]||null}var sc=[],Cn=-1;function Ur(e){return{current:e}}function be(e){0>Cn||(e.current=sc[Cn],sc[Cn]=null,Cn--)}function xe(e,t){Cn++,sc[Cn]=e.current,e.current=t}var Dr={},Qe=Ur(Dr),lt=Ur(!1),rn=Dr;function zn(e,t){var r=e.type.contextTypes;if(!r)return Dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function bi(){be(lt),be(Qe)}function Zd(e,t,r){if(Qe.current!==Dr)throw Error(L(168));xe(Qe,t),xe(lt,r)}function Vm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,ax(e)||"Unknown",s));return _e({},r,n)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,rn=Qe.current,xe(Qe,e),xe(lt,lt.current),!0}function Xd(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Vm(e,t,rn),n.__reactInternalMemoizedMergedChildContext=e,be(lt),be(Qe),xe(Qe,e)):be(lt),xe(lt,r)}var er=null,ro=!1,il=!1;function zm(e){er===null?er=[e]:er.push(e)}function jv(e){ro=!0,zm(e)}function Vr(){if(!il&&er!==null){il=!0;var e=0,t=de;try{var r=er;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}er=null,ro=!1}catch(s){throw er!==null&&(er=er.slice(e+1)),fm(au,Vr),s}finally{de=t,il=!1}}return null}var En=[],Pn=0,ji=null,Ni=0,jt=[],Nt=0,nn=null,tr=1,rr="";function qr(e,t){En[Pn++]=Ni,En[Pn++]=ji,ji=e,Ni=t}function Bm(e,t,r){jt[Nt++]=tr,jt[Nt++]=rr,jt[Nt++]=nn,nn=e;var n=tr;e=rr;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,tr=1<<32-Mt(t)+s|r<<s|n,rr=i+e}else tr=1<<i|r<<s|n,rr=e}function mu(e){e.return!==null&&(qr(e,1),Bm(e,1,0))}function pu(e){for(;e===ji;)ji=En[--Pn],En[Pn]=null,Ni=En[--Pn],En[Pn]=null;for(;e===nn;)nn=jt[--Nt],jt[Nt]=null,rr=jt[--Nt],jt[Nt]=null,tr=jt[--Nt],jt[Nt]=null}var pt=null,mt=null,we=!1,Rt=null;function Hm(e,t){var r=kt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nn!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=kt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,mt=null,!0):!1;default:return!1}}function ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ic(e){if(we){var t=mt;if(t){var r=t;if(!eh(e,t)){if(ac(e))throw Error(L(418));t=Ir(r.nextSibling);var n=pt;t&&eh(e,t)?Hm(n,r):(e.flags=e.flags&-4097|2,we=!1,pt=e)}}else{if(ac(e))throw Error(L(418));e.flags=e.flags&-4097|2,we=!1,pt=e}}}function th(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Ia(e){if(e!==pt)return!1;if(!we)return th(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tc(e.type,e.memoizedProps)),t&&(t=mt)){if(ac(e))throw Wm(),Error(L(418));for(;t;)Hm(e,t),t=Ir(t.nextSibling)}if(th(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mt=Ir(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?Ir(e.stateNode.nextSibling):null;return!0}function Wm(){for(var e=mt;e;)e=Ir(e.nextSibling)}function Bn(){mt=pt=null,we=!1}function gu(e){Rt===null?Rt=[e]:Rt.push(e)}var Nv=ur.ReactCurrentBatchConfig;function fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rh(e){var t=e._init;return t(e._payload)}function qm(e){function t(f,p){if(e){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function r(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=Mr(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,p,g,j){return p===null||p.tag!==6?(p=fl(g,f.mode,j),p.return=f,p):(p=s(p,g),p.return=f,p)}function l(f,p,g,j){var N=g.type;return N===jn?d(f,p,g.props.children,j,g.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xr&&rh(N)===p.type)?(j=s(p,g.props),j.ref=fs(f,p,g),j.return=f,j):(j=si(g.type,g.key,g.props,null,f.mode,j),j.ref=fs(f,p,g),j.return=f,j)}function u(f,p,g,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ml(g,f.mode,j),p.return=f,p):(p=s(p,g.children||[]),p.return=f,p)}function d(f,p,g,j,N){return p===null||p.tag!==7?(p=en(g,f.mode,j,N),p.return=f,p):(p=s(p,g),p.return=f,p)}function h(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fl(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wa:return g=si(p.type,p.key,p.props,null,f.mode,g),g.ref=fs(f,null,p),g.return=f,g;case wn:return p=ml(p,f.mode,g),p.return=f,p;case xr:var j=p._init;return h(f,j(p._payload),g)}if(bs(p)||ls(p))return p=en(p,f.mode,g,null),p.return=f,p;Oa(f,p)}return null}function m(f,p,g,j){var N=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:c(f,p,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wa:return g.key===N?l(f,p,g,j):null;case wn:return g.key===N?u(f,p,g,j):null;case xr:return N=g._init,m(f,p,N(g._payload),j)}if(bs(g)||ls(g))return N!==null?null:d(f,p,g,j,null);Oa(f,g)}return null}function v(f,p,g,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(g)||null,c(p,f,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wa:return f=f.get(j.key===null?g:j.key)||null,l(p,f,j,N);case wn:return f=f.get(j.key===null?g:j.key)||null,u(p,f,j,N);case xr:var _=j._init;return v(f,p,g,_(j._payload),N)}if(bs(j)||ls(j))return f=f.get(g)||null,d(p,f,j,N,null);Oa(p,j)}return null}function w(f,p,g,j){for(var N=null,_=null,k=p,C=p=0,D=null;k!==null&&C<g.length;C++){k.index>C?(D=k,k=null):D=k.sibling;var F=m(f,k,g[C],j);if(F===null){k===null&&(k=D);break}e&&k&&F.alternate===null&&t(f,k),p=i(F,p,C),_===null?N=F:_.sibling=F,_=F,k=D}if(C===g.length)return r(f,k),we&&qr(f,C),N;if(k===null){for(;C<g.length;C++)k=h(f,g[C],j),k!==null&&(p=i(k,p,C),_===null?N=k:_.sibling=k,_=k);return we&&qr(f,C),N}for(k=n(f,k);C<g.length;C++)D=v(k,f,C,g[C],j),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?C:D.key),p=i(D,p,C),_===null?N=D:_.sibling=D,_=D);return e&&k.forEach(function(J){return t(f,J)}),we&&qr(f,C),N}function y(f,p,g,j){var N=ls(g);if(typeof N!="function")throw Error(L(150));if(g=N.call(g),g==null)throw Error(L(151));for(var _=N=null,k=p,C=p=0,D=null,F=g.next();k!==null&&!F.done;C++,F=g.next()){k.index>C?(D=k,k=null):D=k.sibling;var J=m(f,k,F.value,j);if(J===null){k===null&&(k=D);break}e&&k&&J.alternate===null&&t(f,k),p=i(J,p,C),_===null?N=J:_.sibling=J,_=J,k=D}if(F.done)return r(f,k),we&&qr(f,C),N;if(k===null){for(;!F.done;C++,F=g.next())F=h(f,F.value,j),F!==null&&(p=i(F,p,C),_===null?N=F:_.sibling=F,_=F);return we&&qr(f,C),N}for(k=n(f,k);!F.done;C++,F=g.next())F=v(k,f,C,F.value,j),F!==null&&(e&&F.alternate!==null&&k.delete(F.key===null?C:F.key),p=i(F,p,C),_===null?N=F:_.sibling=F,_=F);return e&&k.forEach(function(W){return t(f,W)}),we&&qr(f,C),N}function b(f,p,g,j){if(typeof g=="object"&&g!==null&&g.type===jn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case wa:e:{for(var N=g.key,_=p;_!==null;){if(_.key===N){if(N=g.type,N===jn){if(_.tag===7){r(f,_.sibling),p=s(_,g.props.children),p.return=f,f=p;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xr&&rh(N)===_.type){r(f,_.sibling),p=s(_,g.props),p.ref=fs(f,_,g),p.return=f,f=p;break e}r(f,_);break}else t(f,_);_=_.sibling}g.type===jn?(p=en(g.props.children,f.mode,j,g.key),p.return=f,f=p):(j=si(g.type,g.key,g.props,null,f.mode,j),j.ref=fs(f,p,g),j.return=f,f=j)}return o(f);case wn:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(f,p.sibling),p=s(p,g.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else t(f,p);p=p.sibling}p=ml(g,f.mode,j),p.return=f,f=p}return o(f);case xr:return _=g._init,b(f,p,_(g._payload),j)}if(bs(g))return w(f,p,g,j);if(ls(g))return y(f,p,g,j);Oa(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(f,p.sibling),p=s(p,g),p.return=f,f=p):(r(f,p),p=fl(g,f.mode,j),p.return=f,f=p),o(f)):r(f,p)}return b}var Hn=qm(!0),Km=qm(!1),ki=Ur(null),Si=null,Tn=null,xu=null;function vu(){xu=Tn=Si=null}function yu(e){var t=ki.current;be(ki),e._currentValue=t}function oc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){Si=e,xu=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Si===null)throw Error(L(308));Tn=e,Si.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var Qr=null;function bu(e){Qr===null?Qr=[e]:Qr.push(e)}function Gm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,bu(t)):(r.next=s.next,s.next=r),t.interleaved=r,or(e,n)}function or(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vr=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,or(e,r)}return s=n.interleaved,s===null?(t.next=t,bu(n)):(t.next=s.next,s.next=t),n.interleaved=t,or(e,r)}function Za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iu(e,r)}}function nh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _i(e,t,r,n){var s=e.updateQueue;vr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,c=i;do{var m=c.lane,v=c.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,y=c;switch(m=t,v=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(v,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(v,h,m):w,m==null)break e;h=_e({},h,m);break e;case 2:vr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else v={eventTime:v,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);an|=o,e.lanes=o,e.memoizedState=h}}function sh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var ha={},Gt=Ur(ha),Gs=Ur(ha),Js=Ur(ha);function Zr(e){if(e===ha)throw Error(L(174));return e}function ju(e,t){switch(xe(Js,t),xe(Gs,e),xe(Gt,ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vl(t,e)}be(Gt),xe(Gt,t)}function Wn(){be(Gt),be(Gs),be(Js)}function Ym(e){Zr(Js.current);var t=Zr(Gt.current),r=Vl(t,e.type);t!==r&&(xe(Gs,e),xe(Gt,r))}function Nu(e){Gs.current===e&&(be(Gt),be(Gs))}var ke=Ur(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function ku(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var Xa=ur.ReactCurrentDispatcher,ll=ur.ReactCurrentBatchConfig,sn=0,Se=null,Re=null,De=null,Ei=!1,Ts=!1,Ys=0,kv=0;function Ke(){throw Error(L(321))}function Su(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function _u(e,t,r,n,s,i){if(sn=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=e===null||e.memoizedState===null?Ev:Pv,e=r(n,s),Ts){i=0;do{if(Ts=!1,Ys=0,25<=i)throw Error(L(301));i+=1,De=Re=null,t.updateQueue=null,Xa.current=Tv,e=r(n,s)}while(Ts)}if(Xa.current=Pi,t=Re!==null&&Re.next!==null,sn=0,De=Re=Se=null,Ei=!1,t)throw Error(L(300));return e}function Cu(){var e=Ys!==0;return Ys=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Se.memoizedState=De=e:De=De.next=e,De}function Et(){if(Re===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=De===null?Se.memoizedState:De.next;if(t!==null)De=t,Re=e;else{if(e===null)throw Error(L(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},De===null?Se.memoizedState=De=e:De=De.next=e}return De}function Qs(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=o=null,l=null,u=i;do{var d=u.lane;if((sn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=h,o=n):l=l.next=h,Se.lanes|=d,an|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=c,Ft(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Se.lanes|=i,an|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ul(e){var t=Et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ft(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Qm(){}function Zm(e,t){var r=Se,n=Et(),s=t(),i=!Ft(n.memoizedState,s);if(i&&(n.memoizedState=s,ot=!0),n=n.queue,Eu(tp.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,Zs(9,ep.bind(null,r,n,s,t),void 0,null),Fe===null)throw Error(L(349));sn&30||Xm(r,t,s)}return s}function Xm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ep(e,t,r,n){t.value=r,t.getSnapshot=n,rp(t)&&np(e)}function tp(e,t,r){return r(function(){rp(t)&&np(e)})}function rp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function np(e){var t=or(e,1);t!==null&&Lt(t,e,1,-1)}function ah(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Cv.bind(null,Se,e),[t.memoizedState,e]}function Zs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sp(){return Et().memoizedState}function ei(e,t,r,n){var s=Bt();Se.flags|=e,s.memoizedState=Zs(1|t,r,void 0,n===void 0?null:n)}function no(e,t,r,n){var s=Et();n=n===void 0?null:n;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,n!==null&&Su(n,o.deps)){s.memoizedState=Zs(t,r,i,n);return}}Se.flags|=e,s.memoizedState=Zs(1|t,r,i,n)}function ih(e,t){return ei(8390656,8,e,t)}function Eu(e,t){return no(2048,8,e,t)}function ap(e,t){return no(4,2,e,t)}function ip(e,t){return no(4,4,e,t)}function op(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lp(e,t,r){return r=r!=null?r.concat([e]):null,no(4,4,op.bind(null,t,e),r)}function Pu(){}function cp(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function up(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dp(e,t,r){return sn&21?(Ft(r,t)||(r=gm(),Se.lanes|=r,an|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function Sv(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=ll.transition;ll.transition={};try{e(!1),t()}finally{de=r,ll.transition=n}}function hp(){return Et().memoizedState}function _v(e,t,r){var n=Rr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fp(e))mp(t,r);else if(r=Gm(e,t,r,n),r!==null){var s=et();Lt(r,e,n,s),pp(r,t,n)}}function Cv(e,t,r){var n=Rr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fp(e))mp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,r);if(s.hasEagerState=!0,s.eagerState=c,Ft(c,o)){var l=t.interleaved;l===null?(s.next=s,bu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Gm(e,t,s,n),r!==null&&(s=et(),Lt(r,e,n,s),pp(r,t,n))}}function fp(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function mp(e,t){Ts=Ei=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iu(e,r)}}var Pi={readContext:Ct,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Ev={readContext:Ct,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:ih,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,op.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_v.bind(null,Se,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:ah,useDebugValue:Pu,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=ah(!1),t=e[0];return e=Sv.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Se,s=Bt();if(we){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Fe===null)throw Error(L(349));sn&30||Xm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ih(tp.bind(null,n,i,e),[e]),n.flags|=2048,Zs(9,ep.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bt(),t=Fe.identifierPrefix;if(we){var r=rr,n=tr;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pv={readContext:Ct,useCallback:cp,useContext:Ct,useEffect:Eu,useImperativeHandle:lp,useInsertionEffect:ap,useLayoutEffect:ip,useMemo:up,useReducer:cl,useRef:sp,useState:function(){return cl(Qs)},useDebugValue:Pu,useDeferredValue:function(e){var t=Et();return dp(t,Re.memoizedState,e)},useTransition:function(){var e=cl(Qs)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Zm,useId:hp,unstable_isNewReconciler:!1},Tv={readContext:Ct,useCallback:cp,useContext:Ct,useEffect:Eu,useImperativeHandle:lp,useInsertionEffect:ap,useLayoutEffect:ip,useMemo:up,useReducer:ul,useRef:sp,useState:function(){return ul(Qs)},useDebugValue:Pu,useDeferredValue:function(e){var t=Et();return Re===null?t.memoizedState=e:dp(t,Re.memoizedState,e)},useTransition:function(){var e=ul(Qs)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Zm,useId:hp,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var so={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),s=Rr(e),i=nr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Or(e,i,s),t!==null&&(Lt(t,e,s,n),Za(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),s=Rr(e),i=nr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Or(e,i,s),t!==null&&(Lt(t,e,s,n),Za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=Rr(e),s=nr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Or(e,s,n),t!==null&&(Lt(t,e,n,r),Za(t,e,n))}};function oh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hs(r,n)||!Hs(s,i):!0}function gp(e,t,r){var n=!1,s=Dr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(s=ct(t)?rn:Qe.current,n=t.contextTypes,i=(n=n!=null)?zn(e,s):Dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function cc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ct(i):(i=ct(t)?rn:Qe.current,s.context=zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),_i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var r="",n=t;do r+=sx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function dl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function xp(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ii||(Ii=!0,bc=n),uc(e,t)},r}function vp(e,t,r){r=nr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uc(e,t),typeof n!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ch(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Iv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Wv.bind(null,e,t,r),t.then(e,e))}function uh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,Or(r,t,1))),r.lanes|=1),e)}var Ov=ur.ReactCurrentOwner,ot=!1;function Ze(e,t,r,n){t.child=e===null?Km(t,null,r,n):Hn(t,e.child,r,n)}function hh(e,t,r,n,s){r=r.render;var i=t.ref;return $n(t,s),n=_u(e,t,r,n,i,s),r=Cu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(we&&r&&mu(t),t.flags|=1,Ze(e,t,n,s),t.child)}function fh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!$u(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,yp(e,t,i,n,s)):(e=si(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hs,r(o,n)&&e.ref===t.ref)return lr(e,t,s)}return t.flags|=1,e=Mr(i,n),e.ref=t.ref,e.return=t,t.child=e}function yp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hs(i,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,lr(e,t,s)}return dc(e,t,r,n,s)}function bp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(On,ft),ft|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(On,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,xe(On,ft),ft|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,xe(On,ft),ft|=n;return Ze(e,t,s,r),t.child}function wp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dc(e,t,r,n,s){var i=ct(r)?rn:Qe.current;return i=zn(t,i),$n(t,s),r=_u(e,t,r,n,i,s),n=Cu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(we&&n&&mu(t),t.flags|=1,Ze(e,t,r,s),t.child)}function mh(e,t,r,n,s){if(ct(r)){var i=!0;wi(t)}else i=!1;if($n(t,s),t.stateNode===null)ti(e,t),gp(t,r,n),cc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=ct(r)?rn:Qe.current,u=zn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==u)&&lh(t,o,n,u),vr=!1;var m=t.memoizedState;o.state=m,_i(t,n,o,s),l=t.memoizedState,c!==n||m!==l||lt.current||vr?(typeof d=="function"&&(lc(t,r,d,n),l=t.memoizedState),(c=vr||oh(t,r,c,n,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Jm(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:It(t.type,c),o.props=u,h=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=ct(r)?rn:Qe.current,l=zn(t,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==l)&&lh(t,o,n,l),vr=!1,m=t.memoizedState,o.state=m,_i(t,n,o,s);var w=t.memoizedState;c!==h||m!==w||lt.current||vr?(typeof v=="function"&&(lc(t,r,v,n),w=t.memoizedState),(u=vr||oh(t,r,u,n,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return hc(e,t,r,n,i,s)}function hc(e,t,r,n,s,i){wp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Xd(t,r,!1),lr(e,t,i);n=t.stateNode,Ov.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hn(t,e.child,null,i),t.child=Hn(t,null,c,i)):Ze(e,t,c,i),t.memoizedState=n.state,s&&Xd(t,r,!0),t.child}function jp(e){var t=e.stateNode;t.pendingContext?Zd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zd(e,t.context,!1),ju(e,t.containerInfo)}function ph(e,t,r,n,s){return Bn(),gu(s),t.flags|=256,Ze(e,t,r,n),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Np(e,t,r){var n=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(ke,s&1),e===null)return ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oo(o,n,0,null),e=en(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mc(r),t.memoizedState=fc,e):Tu(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Av(e,t,o,n,c,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Mr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Mr(c,i):(i=en(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?mc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fc,n}return i=e.child,e=i.sibling,n=Mr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tu(e,t){return t=oo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Aa(e,t,r,n){return n!==null&&gu(n),Hn(t,e.child,null,r),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Av(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=dl(Error(L(422))),Aa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=oo({mode:"visible",children:n.children},s,0,null),i=en(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hn(t,e.child,null,o),t.child.memoizedState=mc(o),t.memoizedState=fc,i);if(!(t.mode&1))return Aa(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(L(419)),n=dl(i,n,void 0),Aa(e,t,o,n)}if(c=(o&e.childLanes)!==0,ot||c){if(n=Fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(e,s),Lt(n,e,s,-1))}return Lu(),n=dl(Error(L(421))),Aa(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=Ir(s.nextSibling),pt=t,we=!0,Rt=null,e!==null&&(jt[Nt++]=tr,jt[Nt++]=rr,jt[Nt++]=nn,tr=e.id,rr=e.overflow,nn=t),t=Tu(t,n.children),t.flags|=4096,t)}function gh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oc(e.return,t,r)}function hl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function kp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(e,t,n.children,r),n=ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gh(e,r,t);else if(e.tag===19)gh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(ke,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),hl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}hl(t,!0,r,null,i);break;case"together":hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Rv(e,t,r){switch(t.tag){case 3:jp(t),Bn();break;case 5:Ym(t);break;case 1:ct(t.type)&&wi(t);break;case 4:ju(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;xe(ki,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(ke,ke.current&1),t.flags|=128,null):r&t.child.childLanes?Np(e,t,r):(xe(ke,ke.current&1),e=lr(e,t,r),e!==null?e.sibling:null);xe(ke,ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(ke,ke.current),n)break;return null;case 22:case 23:return t.lanes=0,bp(e,t,r)}return lr(e,t,r)}var Sp,pc,_p,Cp;Sp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pc=function(){};_p=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Zr(Gt.current);var i=null;switch(r){case"input":s=$l(e,s),n=$l(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=Ul(e,s),n=Ul(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yi)}zl(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ye("scroll",e),i||c===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cp=function(e,t,r,n){r!==n&&(t.flags|=4)};function ms(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Mv(e,t,r){var n=t.pendingProps;switch(pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ct(t.type)&&bi(),Ge(t),null;case 3:return n=t.stateNode,Wn(),be(lt),be(Qe),ku(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(Nc(Rt),Rt=null))),pc(e,t),Ge(t),null;case 5:Nu(t);var s=Zr(Js.current);if(r=t.type,e!==null&&t.stateNode!=null)_p(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ge(t),null}if(e=Zr(Gt.current),Ia(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[qt]=t,n[Ks]=i,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(s=0;s<js.length;s++)ye(js[s],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":Sd(n,i),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ye("invalid",n);break;case"textarea":Cd(n,i),ye("invalid",n)}zl(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ta(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ta(n.textContent,c,e),s=["children",""+c]):$s.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ye("scroll",n)}switch(r){case"input":ja(n),_d(n,i,!0);break;case"textarea":ja(n),Ed(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[qt]=t,e[Ks]=n,Sp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bl(r,n),r){case"dialog":ye("cancel",e),ye("close",e),s=n;break;case"iframe":case"object":case"embed":ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<js.length;s++)ye(js[s],e);s=n;break;case"source":ye("error",e),s=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=n;break;case"details":ye("toggle",e),s=n;break;case"input":Sd(e,n),s=$l(e,n),ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),ye("invalid",e);break;case"textarea":Cd(e,n),s=Ul(e,n),ye("invalid",e);break;default:s=n}zl(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?sm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ds(e,l):typeof l=="number"&&Ds(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($s.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ye("scroll",e):l!=null&&eu(e,i,l,o))}switch(r){case"input":ja(e),_d(e,n,!1);break;case"textarea":ja(e),Ed(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$r(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?An(e,!!n.multiple,i,!1):n.defaultValue!=null&&An(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Cp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Zr(Js.current),Zr(Gt.current),Ia(t)){if(n=t.stateNode,r=t.memoizedProps,n[qt]=t,(i=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:Ta(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return Ge(t),null;case 13:if(be(ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&mt!==null&&t.mode&1&&!(t.flags&128))Wm(),Bn(),t.flags|=98560,i=!1;else if(i=Ia(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[qt]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else Rt!==null&&(Nc(Rt),Rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Me===0&&(Me=3):Lu())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Wn(),pc(e,t),e===null&&Ws(t.stateNode.containerInfo),Ge(t),null;case 10:return yu(t.type._context),Ge(t),null;case 17:return ct(t.type)&&bi(),Ge(t),null;case 19:if(be(ke),i=t.memoizedState,i===null)return Ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ms(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ci(e),o!==null){for(t.flags|=128,ms(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Kn&&(t.flags|=128,n=!0,ms(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Ge(t),null}else 2*Te()-i.renderingStartTime>Kn&&r!==1073741824&&(t.flags|=128,n=!0,ms(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,r=ke.current,xe(ke,n?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return Mu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Lv(e,t){switch(pu(t),t.tag){case 1:return ct(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),be(lt),be(Qe),ku(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return Wn(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Ra=!1,Ye=!1,$v=typeof WeakSet=="function"?WeakSet:Set,H=null;function In(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function gc(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var xh=!1;function Dv(e,t){if(Xl=gi,e=Om(),fu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(c=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===r&&++u===s&&(c=o),m===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ec={focusedElem:e,selectionRange:r},gi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:It(t.type,y),b);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){Ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=xh,xh=!1,w}function Is(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gc(t,r,i)}s=s.next}while(s!==n)}}function ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ep(e){var t=e.alternate;t!==null&&(e.alternate=null,Ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Ks],delete t[nc],delete t[bv],delete t[wv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yi));else if(n!==4&&(e=e.child,e!==null))for(vc(e,t,r),e=e.sibling;e!==null;)vc(e,t,r),e=e.sibling}function yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yc(e,t,r),e=e.sibling;e!==null;)yc(e,t,r),e=e.sibling}var ze=null,Ot=!1;function mr(e,t,r){for(r=r.child;r!==null;)Tp(e,t,r),r=r.sibling}function Tp(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 5:Ye||In(r,t);case 6:var n=ze,s=Ot;ze=null,mr(e,t,r),ze=n,Ot=s,ze!==null&&(Ot?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(Ot?(e=ze,r=r.stateNode,e.nodeType===8?al(e.parentNode,r):e.nodeType===1&&al(e,r),zs(e)):al(ze,r.stateNode));break;case 4:n=ze,s=Ot,ze=r.stateNode.containerInfo,Ot=!0,mr(e,t,r),ze=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gc(r,t,o),s=s.next}while(s!==n)}mr(e,t,r);break;case 1:if(!Ye&&(In(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Ce(r,t,c)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,mr(e,t,r),Ye=n):mr(e,t,r);break;default:mr(e,t,r)}}function yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $v),t.forEach(function(n){var s=Kv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:ze=c.stateNode,Ot=!1;break e;case 3:ze=c.stateNode.containerInfo,Ot=!0;break e;case 4:ze=c.stateNode.containerInfo,Ot=!0;break e}c=c.return}if(ze===null)throw Error(L(160));Tp(i,o,s),ze=null,Ot=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ip(t,e),t=t.sibling}function Ip(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Vt(e),n&4){try{Is(3,e,e.return),ao(3,e)}catch(y){Ce(e,e.return,y)}try{Is(5,e,e.return)}catch(y){Ce(e,e.return,y)}}break;case 1:Tt(t,e),Vt(e),n&512&&r!==null&&In(r,r.return);break;case 5:if(Tt(t,e),Vt(e),n&512&&r!==null&&In(r,r.return),e.flags&32){var s=e.stateNode;try{Ds(s,"")}catch(y){Ce(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Xf(s,i),Bl(c,o);var u=Bl(c,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?sm(s,h):d==="dangerouslySetInnerHTML"?rm(s,h):d==="children"?Ds(s,h):eu(s,d,h,u)}switch(c){case"input":Dl(s,i);break;case"textarea":em(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?An(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?An(s,!!i.multiple,i.defaultValue,!0):An(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ks]=i}catch(y){Ce(e,e.return,y)}}break;case 6:if(Tt(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Ce(e,e.return,y)}}break;case 3:if(Tt(t,e),Vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){Ce(e,e.return,y)}break;case 4:Tt(t,e),Vt(e);break;case 13:Tt(t,e),Vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Au=Te())),n&4&&yh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||d,Tt(t,e),Ye=u):Tt(t,e),Vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(m=H,v=m.child,m.tag){case 0:case 11:case 14:case 15:Is(4,m,m.return);break;case 1:In(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Ce(n,r,y)}}break;case 5:In(m,m.return);break;case 22:if(m.memoizedState!==null){wh(h);continue}}v!==null?(v.return=m,H=v):wh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=nm("display",o))}catch(y){Ce(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ce(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),Vt(e),n&4&&yh(e);break;case 21:break;default:Tt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pp(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ds(s,""),n.flags&=-33);var i=vh(e);yc(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=vh(e);vc(e,c,o);break;default:throw Error(L(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fv(e,t,r){H=e,Op(e)}function Op(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ra;if(!o){var c=s.alternate,l=c!==null&&c.memoizedState!==null||Ye;c=Ra;var u=Ye;if(Ra=o,(Ye=l)&&!u)for(H=s;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?jh(s):l!==null?(l.return=o,H=l):jh(s);for(;i!==null;)H=i,Op(i),i=i.sibling;H=s,Ra=c,Ye=u}bh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):bh(e)}}function bh(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||ao(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sh(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ye||t.flags&512&&xc(t)}catch(m){Ce(t,t.return,m)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function wh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function jh(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ao(4,t)}catch(l){Ce(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ce(t,s,l)}}var i=t.return;try{xc(t)}catch(l){Ce(t,i,l)}break;case 5:var o=t.return;try{xc(t)}catch(l){Ce(t,o,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){H=null;break}var c=t.sibling;if(c!==null){c.return=t.return,H=c;break}H=t.return}}var Uv=Math.ceil,Ti=ur.ReactCurrentDispatcher,Iu=ur.ReactCurrentOwner,St=ur.ReactCurrentBatchConfig,oe=0,Fe=null,Ae=null,He=0,ft=0,On=Ur(0),Me=0,Xs=null,an=0,io=0,Ou=0,Os=null,at=null,Au=0,Kn=1/0,Zt=null,Ii=!1,bc=null,Ar=null,Ma=!1,_r=null,Oi=0,As=0,wc=null,ri=-1,ni=0;function et(){return oe&6?Te():ri!==-1?ri:ri=Te()}function Rr(e){return e.mode&1?oe&2&&He!==0?He&-He:Nv.transition!==null?(ni===0&&(ni=gm()),ni):(e=de,e!==0||(e=window.event,e=e===void 0?16:Nm(e.type)),e):1}function Lt(e,t,r,n){if(50<As)throw As=0,wc=null,Error(L(185));ca(e,r,n),(!(oe&2)||e!==Fe)&&(e===Fe&&(!(oe&2)&&(io|=r),Me===4&&Nr(e,He)),ut(e,n),r===1&&oe===0&&!(t.mode&1)&&(Kn=Te()+500,ro&&Vr()))}function ut(e,t){var r=e.callbackNode;Nx(e,t);var n=pi(e,e===Fe?He:0);if(n===0)r!==null&&Id(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Id(r),t===1)e.tag===0?jv(Nh.bind(null,e)):zm(Nh.bind(null,e)),vv(function(){!(oe&6)&&Vr()}),r=null;else{switch(xm(n)){case 1:r=au;break;case 4:r=mm;break;case 16:r=mi;break;case 536870912:r=pm;break;default:r=mi}r=Up(r,Ap.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ap(e,t){if(ri=-1,ni=0,oe&6)throw Error(L(327));var r=e.callbackNode;if(Dn()&&e.callbackNode!==r)return null;var n=pi(e,e===Fe?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ai(e,n);else{t=n;var s=oe;oe|=2;var i=Mp();(Fe!==e||He!==t)&&(Zt=null,Kn=Te()+500,Xr(e,t));do try{Bv();break}catch(c){Rp(e,c)}while(!0);vu(),Ti.current=i,oe=s,Ae!==null?t=0:(Fe=null,He=0,t=Me)}if(t!==0){if(t===2&&(s=Gl(e),s!==0&&(n=s,t=jc(e,s))),t===1)throw r=Xs,Xr(e,0),Nr(e,n),ut(e,Te()),r;if(t===6)Nr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Vv(s)&&(t=Ai(e,n),t===2&&(i=Gl(e),i!==0&&(n=i,t=jc(e,i))),t===1))throw r=Xs,Xr(e,0),Nr(e,n),ut(e,Te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Kr(e,at,Zt);break;case 3:if(Nr(e,n),(n&130023424)===n&&(t=Au+500-Te(),10<t)){if(pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rc(Kr.bind(null,e,at,Zt),t);break}Kr(e,at,Zt);break;case 4:if(Nr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Mt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Uv(n/1960))-n,10<n){e.timeoutHandle=rc(Kr.bind(null,e,at,Zt),n);break}Kr(e,at,Zt);break;case 5:Kr(e,at,Zt);break;default:throw Error(L(329))}}}return ut(e,Te()),e.callbackNode===r?Ap.bind(null,e):null}function jc(e,t){var r=Os;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=Ai(e,t),e!==2&&(t=at,at=r,t!==null&&Nc(t)),e}function Nc(e){at===null?at=e:at.push.apply(at,e)}function Vv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Ou,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mt(t),n=1<<r;e[r]=-1,t&=~n}}function Nh(e){if(oe&6)throw Error(L(327));Dn();var t=pi(e,0);if(!(t&1))return ut(e,Te()),null;var r=Ai(e,t);if(e.tag!==0&&r===2){var n=Gl(e);n!==0&&(t=n,r=jc(e,n))}if(r===1)throw r=Xs,Xr(e,0),Nr(e,t),ut(e,Te()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,at,Zt),ut(e,Te()),null}function Ru(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Kn=Te()+500,ro&&Vr())}}function on(e){_r!==null&&_r.tag===0&&!(oe&6)&&Dn();var t=oe;oe|=1;var r=St.transition,n=de;try{if(St.transition=null,de=1,e)return e()}finally{de=n,St.transition=r,oe=t,!(oe&6)&&Vr()}}function Mu(){ft=On.current,be(On)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xv(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(pu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bi();break;case 3:Wn(),be(lt),be(Qe),ku();break;case 5:Nu(n);break;case 4:Wn();break;case 13:be(ke);break;case 19:be(ke);break;case 10:yu(n.type._context);break;case 22:case 23:Mu()}r=r.return}if(Fe=e,Ae=e=Mr(e.current,null),He=ft=t,Me=0,Xs=null,Ou=io=an=0,at=Os=null,Qr!==null){for(t=0;t<Qr.length;t++)if(r=Qr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Qr=null}return e}function Rp(e,t){do{var r=Ae;try{if(vu(),Xa.current=Pi,Ei){for(var n=Se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ei=!1}if(sn=0,De=Re=Se=null,Ts=!1,Ys=0,Iu.current=null,r===null||r.return===null){Me=1,Xs=t,Ae=null;break}e:{var i=e,o=r.return,c=r,l=t;if(t=He,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=uh(o);if(v!==null){v.flags&=-257,dh(v,o,c,i,t),v.mode&1&&ch(i,u,t),t=v,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){ch(i,u,t),Lu();break e}l=Error(L(426))}}else if(we&&c.mode&1){var b=uh(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dh(b,o,c,i,t),gu(qn(l,c));break e}}i=l=qn(l,c),Me!==4&&(Me=2),Os===null?Os=[i]:Os.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=xp(i,l,t);nh(i,f);break e;case 1:c=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=vp(i,c,t);nh(i,j);break e}}i=i.return}while(i!==null)}$p(r)}catch(N){t=N,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function Mp(){var e=Ti.current;return Ti.current=Pi,e===null?Pi:e}function Lu(){(Me===0||Me===3||Me===2)&&(Me=4),Fe===null||!(an&268435455)&&!(io&268435455)||Nr(Fe,He)}function Ai(e,t){var r=oe;oe|=2;var n=Mp();(Fe!==e||He!==t)&&(Zt=null,Xr(e,t));do try{zv();break}catch(s){Rp(e,s)}while(!0);if(vu(),oe=r,Ti.current=n,Ae!==null)throw Error(L(261));return Fe=null,He=0,Me}function zv(){for(;Ae!==null;)Lp(Ae)}function Bv(){for(;Ae!==null&&!mx();)Lp(Ae)}function Lp(e){var t=Fp(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?$p(e):Ae=t,Iu.current=null}function $p(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lv(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ae=null;return}}else if(r=Mv(r,t,ft),r!==null){Ae=r;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Me===0&&(Me=5)}function Kr(e,t,r){var n=de,s=St.transition;try{St.transition=null,de=1,Hv(e,t,r,n)}finally{St.transition=s,de=n}return null}function Hv(e,t,r,n){do Dn();while(_r!==null);if(oe&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kx(e,i),e===Fe&&(Ae=Fe=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ma||(Ma=!0,Up(mi,function(){return Dn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=St.transition,St.transition=null;var o=de;de=1;var c=oe;oe|=4,Iu.current=null,Dv(e,r),Ip(r,e),uv(ec),gi=!!Xl,ec=Xl=null,e.current=r,Fv(r),px(),oe=c,de=o,St.transition=i}else e.current=r;if(Ma&&(Ma=!1,_r=e,Oi=s),i=e.pendingLanes,i===0&&(Ar=null),vx(r.stateNode),ut(e,Te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ii)throw Ii=!1,e=bc,bc=null,e;return Oi&1&&e.tag!==0&&Dn(),i=e.pendingLanes,i&1?e===wc?As++:(As=0,wc=e):As=0,Vr(),null}function Dn(){if(_r!==null){var e=xm(Oi),t=St.transition,r=de;try{if(St.transition=null,de=16>e?16:e,_r===null)var n=!1;else{if(e=_r,_r=null,Oi=0,oe&6)throw Error(L(331));var s=oe;for(oe|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Is(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var m=d.sibling,v=d.return;if(Ep(d),d===u){H=null;break}if(m!==null){m.return=v,H=m;break}H=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Is(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,H=f;break e}H=i.return}}var p=e.current;for(H=p;H!==null;){o=H;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,H=g;else e:for(o=p;H!==null;){if(c=H,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ao(9,c)}}catch(N){Ce(c,c.return,N)}if(c===o){H=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,H=j;break e}H=c.return}}if(oe=s,Vr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qi,e)}catch{}n=!0}return n}finally{de=r,St.transition=t}}return!1}function kh(e,t,r){t=qn(r,t),t=xp(e,t,1),e=Or(e,t,1),t=et(),e!==null&&(ca(e,1,t),ut(e,t))}function Ce(e,t,r){if(e.tag===3)kh(e,e,r);else for(;t!==null;){if(t.tag===3){kh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ar===null||!Ar.has(n))){e=qn(r,e),e=vp(t,e,1),t=Or(t,e,1),e=et(),t!==null&&(ca(t,1,e),ut(t,e));break}}t=t.return}}function Wv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(He&r)===r&&(Me===4||Me===3&&(He&130023424)===He&&500>Te()-Au?Xr(e,0):Ou|=r),ut(e,t)}function Dp(e,t){t===0&&(e.mode&1?(t=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):t=1);var r=et();e=or(e,t),e!==null&&(ca(e,t,r),ut(e,r))}function qv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dp(e,r)}function Kv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Dp(e,r)}var Fp;Fp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,Rv(e,t,r);ot=!!(e.flags&131072)}else ot=!1,we&&t.flags&1048576&&Bm(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ti(e,t),e=t.pendingProps;var s=zn(t,Qe.current);$n(t,r),s=_u(null,t,n,e,s,r);var i=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(i=!0,wi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wu(t),s.updater=so,t.stateNode=s,s._reactInternals=t,cc(t,n,e,r),t=hc(null,t,n,!0,i,r)):(t.tag=0,we&&i&&mu(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Jv(n),e=It(n,e),s){case 0:t=dc(null,t,n,e,r);break e;case 1:t=mh(null,t,n,e,r);break e;case 11:t=hh(null,t,n,e,r);break e;case 14:t=fh(null,t,n,It(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),dc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),mh(e,t,n,s,r);case 3:e:{if(jp(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Jm(e,t),_i(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qn(Error(L(423)),t),t=ph(e,t,n,r,s);break e}else if(n!==s){s=qn(Error(L(424)),t),t=ph(e,t,n,r,s);break e}else for(mt=Ir(t.stateNode.containerInfo.firstChild),pt=t,we=!0,Rt=null,r=Km(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bn(),n===s){t=lr(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return Ym(t),e===null&&ic(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,tc(n,s)?o=null:i!==null&&tc(n,i)&&(t.flags|=32),wp(e,t),Ze(e,t,o,r),t.child;case 6:return e===null&&ic(t),null;case 13:return Np(e,t,r);case 4:return ju(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hn(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),hh(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xe(ki,n._currentValue),n._currentValue=o,i!==null)if(Ft(i.value,o)){if(i.children===s.children&&!lt.current){t=lr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=nr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),oc(i.return,r,t),c.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),oc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$n(t,r),s=Ct(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=It(n,t.pendingProps),s=It(n.type,s),fh(e,t,n,s,r);case 15:return yp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),ti(e,t),t.tag=1,ct(n)?(e=!0,wi(t)):e=!1,$n(t,r),gp(t,n,s),cc(t,n,s,r),hc(null,t,n,!0,e,r);case 19:return kp(e,t,r);case 22:return bp(e,t,r)}throw Error(L(156,t.tag))};function Up(e,t){return fm(e,t)}function Gv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,r,n){return new Gv(e,t,r,n)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jv(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===nu)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=kt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function si(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")$u(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jn:return en(r.children,s,i,t);case tu:o=8,s|=8;break;case Al:return e=kt(12,r,t,s|2),e.elementType=Al,e.lanes=i,e;case Rl:return e=kt(13,r,t,s),e.elementType=Rl,e.lanes=i,e;case Ml:return e=kt(19,r,t,s),e.elementType=Ml,e.lanes=i,e;case Yf:return oo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gf:o=10;break e;case Jf:o=9;break e;case ru:o=11;break e;case nu:o=14;break e;case xr:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=kt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function en(e,t,r,n){return e=kt(7,e,n,t),e.lanes=r,e}function oo(e,t,r,n){return e=kt(22,e,n,t),e.elementType=Yf,e.lanes=r,e.stateNode={isHidden:!1},e}function fl(e,t,r){return e=kt(6,e,null,t),e.lanes=r,e}function ml(e,t,r){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yv(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Du(e,t,r,n,s,i,o,c,l){return e=new Yv(e,t,r,c,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(i),e}function Qv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Vp(e){if(!e)return Dr;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(ct(r))return Vm(e,r,t)}return t}function zp(e,t,r,n,s,i,o,c,l){return e=Du(r,n,!0,e,s,i,o,c,l),e.context=Vp(null),r=e.current,n=et(),s=Rr(r),i=nr(n,s),i.callback=t??null,Or(r,i,s),e.current.lanes=s,ca(e,s,n),ut(e,n),e}function lo(e,t,r,n){var s=t.current,i=et(),o=Rr(s);return r=Vp(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Or(s,t,o),e!==null&&(Lt(e,s,o,i),Za(e,s,o)),o}function Ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fu(e,t){Sh(e,t),(e=e.alternate)&&Sh(e,t)}function Zv(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}co.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));lo(e,t,null,null)};co.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){lo(null,e,null,null)}),t[ir]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=bm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jr.length&&t!==0&&t<jr[r].priority;r++);jr.splice(r,0,e),r===0&&jm(e)}};function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function Xv(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ri(o);i.call(u)}}var o=zp(t,n,e,0,null,!1,!1,"",_h);return e._reactRootContainer=o,e[ir]=o.current,Ws(e.nodeType===8?e.parentNode:e),on(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=Ri(l);c.call(u)}}var l=Du(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=l,e[ir]=l.current,Ws(e.nodeType===8?e.parentNode:e),on(function(){lo(t,l,r,n)}),l}function ho(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var l=Ri(o);c.call(l)}}lo(t,o,e,s)}else o=Xv(r,t,e,s,n);return Ri(o)}vm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ws(t.pendingLanes);r!==0&&(iu(t,r|1),ut(t,Te()),!(oe&6)&&(Kn=Te()+500,Vr()))}break;case 13:on(function(){var n=or(e,1);if(n!==null){var s=et();Lt(n,e,1,s)}}),Fu(e,1)}};ou=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var r=et();Lt(t,e,134217728,r)}Fu(e,134217728)}};ym=function(e){if(e.tag===13){var t=Rr(e),r=or(e,t);if(r!==null){var n=et();Lt(r,e,t,n)}Fu(e,t)}};bm=function(){return de};wm=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};Wl=function(e,t,r){switch(t){case"input":if(Dl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=to(n);if(!s)throw Error(L(90));Zf(n),Dl(n,s)}}}break;case"textarea":em(e,r);break;case"select":t=r.value,t!=null&&An(e,!!r.multiple,t,!1)}};om=Ru;lm=on;var ey={usingClientEntryPoint:!1,Events:[da,_n,to,am,im,Ru]},ps={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ty={bundleType:ps.bundleType,version:ps.version,rendererPackageName:ps.rendererPackageName,rendererConfig:ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dm(e),e===null?null:e.stateNode},findFiberByHostInstance:ps.findFiberByHostInstance||Zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Qi=La.inject(ty),Kt=La}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey;vt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(t))throw Error(L(200));return Qv(e,t,null,r)};vt.createRoot=function(e,t){if(!Vu(e))throw Error(L(299));var r=!1,n="",s=Bp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Du(e,1,!1,null,null,r,!1,n,s),e[ir]=t.current,Ws(e.nodeType===8?e.parentNode:e),new Uu(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=dm(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return on(e)};vt.hydrate=function(e,t,r){if(!uo(t))throw Error(L(200));return ho(null,e,t,!0,r)};vt.hydrateRoot=function(e,t,r){if(!Vu(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Bp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zp(t,null,e,1,r??null,s,!1,i,o),e[ir]=t.current,Ws(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new co(t)};vt.render=function(e,t,r){if(!uo(t))throw Error(L(200));return ho(null,e,t,!1,r)};vt.unmountComponentAtNode=function(e){if(!uo(e))throw Error(L(40));return e._reactRootContainer?(on(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};vt.unstable_batchedUpdates=Ru;vt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uo(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ho(e,t,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(e){console.error(e)}}Hp(),Hf.exports=vt;var Wp=Hf.exports,qp,Ch=Wp;qp=Ch.createRoot,Ch.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ea.apply(this,arguments)}var Cr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cr||(Cr={}));const Eh="popstate";function ry(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:c}=n.location;return kc("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Mi(s)}return sy(t,r,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ny(){return Math.random().toString(36).substr(2,8)}function Ph(e,t){return{usr:e.state,key:e.key,idx:t}}function kc(e,t,r,n){return r===void 0&&(r=null),ea({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ns(t):t,{state:r,key:t&&t.key||n||ny()})}function Mi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ns(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sy(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,c=Cr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ea({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){c=Cr.Pop;let b=d(),f=b==null?null:b-u;u=b,l&&l({action:c,location:y.location,delta:f})}function m(b,f){c=Cr.Push;let p=kc(y.location,b,f);u=d()+1;let g=Ph(p,u),j=y.createHref(p);try{o.pushState(g,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&l&&l({action:c,location:y.location,delta:1})}function v(b,f){c=Cr.Replace;let p=kc(y.location,b,f);u=d();let g=Ph(p,u),j=y.createHref(p);o.replaceState(g,"",j),i&&l&&l({action:c,location:y.location,delta:0})}function w(b){let f=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:Mi(b);return p=p.replace(/ $/,"%20"),Ie(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let y={get action(){return c},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Eh,h),l=b,()=>{s.removeEventListener(Eh,h),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let f=w(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(b){return o.go(b)}};return y}var Th;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Th||(Th={}));function ay(e,t,r){return r===void 0&&(r="/"),iy(e,t,r,!1)}function iy(e,t,r,n){let s=typeof t=="string"?ns(t):t,i=zu(s.pathname||"/",r);if(i==null)return null;let o=Gp(e);oy(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=vy(i);c=gy(o[l],u,n)}return c}function Gp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Lr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:my(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let l of Jp(i.path))s(i,o,l)}),t}function Jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Jp(n.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function oy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:py(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ly=/^:[\w-]+$/,cy=3,uy=2,dy=1,hy=10,fy=-2,Ih=e=>e==="*";function my(e,t){let r=e.split("/"),n=r.length;return r.some(Ih)&&(n+=fy),t&&(n+=uy),r.filter(s=>!Ih(s)).reduce((s,i)=>s+(ly.test(i)?cy:i===""?dy:hy),n)}function py(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function gy(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Oh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Oh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Lr([i,h.pathname]),pathnameBase:jy(Lr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Lr([i,h.pathnameBase]))}return o}function Oh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xy(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let y=c[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=c[h];return v&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function xy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function vy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function yy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ns(e):e;return{pathname:r?r.startsWith("/")?r:by(r,t):t,search:Ny(n),hash:ky(s)}}function by(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bu(e,t){let r=wy(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ns(e):(s=ea({},e),Ie(!s.pathname||!s.pathname.includes("?"),pl("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),pl("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),pl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}c=h>=0?t[h]:"/"}let l=yy(s,c),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Lr=e=>e.join("/").replace(/\/\/+/g,"/"),jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ny=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ky=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yp=["post","put","patch","delete"];new Set(Yp);const _y=["get",...Yp];new Set(_y);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}const Wu=x.createContext(null),Cy=x.createContext(null),zr=x.createContext(null),fo=x.createContext(null),dr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Qp=x.createContext(null);function Ey(e,t){let{relative:r}=t===void 0?{}:t;ss()||Ie(!1);let{basename:n,navigator:s}=x.useContext(zr),{hash:i,pathname:o,search:c}=Xp(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Lr([n,o])),s.createHref({pathname:l,search:c,hash:i})}function ss(){return x.useContext(fo)!=null}function hr(){return ss()||Ie(!1),x.useContext(fo).location}function Zp(e){x.useContext(zr).static||x.useLayoutEffect(e)}function je(){let{isDataRoute:e}=x.useContext(dr);return e?zy():Py()}function Py(){ss()||Ie(!1);let e=x.useContext(Wu),{basename:t,future:r,navigator:n}=x.useContext(zr),{matches:s}=x.useContext(dr),{pathname:i}=hr(),o=JSON.stringify(Bu(s,r.v7_relativeSplatPath)),c=x.useRef(!1);return Zp(()=>{c.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let h=Hu(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function Ty(){let{matches:e}=x.useContext(dr),t=e[e.length-1];return t?t.params:{}}function Xp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(zr),{matches:s}=x.useContext(dr),{pathname:i}=hr(),o=JSON.stringify(Bu(s,n.v7_relativeSplatPath));return x.useMemo(()=>Hu(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Iy(e,t){return Oy(e,t)}function Oy(e,t,r,n){ss()||Ie(!1);let{navigator:s,static:i}=x.useContext(zr),{matches:o}=x.useContext(dr),c=o[o.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let d=hr(),h;if(t){var m;let f=typeof t=="string"?ns(t):t;u==="/"||(m=f.pathname)!=null&&m.startsWith(u)||Ie(!1),h=f}else h=d;let v=h.pathname||"/",w=v;if(u!=="/"){let f=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:ay(e,{pathname:w}),b=$y(y&&y.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:Lr([u,s.encodeLocation?s.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:Lr([u,s.encodeLocation?s.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,r,n);return t&&b?x.createElement(fo.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Cr.Pop}},b):b}function Ay(){let e=Vy(),t=Sy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const Ry=x.createElement(Ay,null);class My extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(dr.Provider,{value:this.props.routeContext},x.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ly(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Wu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(dr.Provider,{value:t},n)}function $y(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let d=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);d>=0||Ie(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,w=!1,y=null,b=null;r&&(v=c&&h.route.id?c[h.route.id]:void 0,y=h.route.errorElement||Ry,l&&(u<0&&m===0?(w=!0,b=null):u===m&&(w=!0,b=h.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,m+1)),p=()=>{let g;return v?g=y:w?g=b:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(Ly,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(My,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var e0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e0||{}),Li=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Li||{});function Dy(e){let t=x.useContext(Wu);return t||Ie(!1),t}function Fy(e){let t=x.useContext(Cy);return t||Ie(!1),t}function Uy(e){let t=x.useContext(dr);return t||Ie(!1),t}function t0(e){let t=Uy(),r=t.matches[t.matches.length-1];return r.route.id||Ie(!1),r.route.id}function Vy(){var e;let t=x.useContext(Qp),r=Fy(Li.UseRouteError),n=t0(Li.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function zy(){let{router:e}=Dy(e0.UseNavigateStable),t=t0(Li.UseNavigateStable),r=x.useRef(!1);return Zp(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ta({fromRouteId:t},i)))},[e,t])}function By(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yr(e){let{to:t,replace:r,state:n,relative:s}=e;ss()||Ie(!1);let{future:i,static:o}=x.useContext(zr),{matches:c}=x.useContext(dr),{pathname:l}=hr(),u=je(),d=Hu(t,Bu(c,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function me(e){Ie(!1)}function Hy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Cr.Pop,navigator:i,static:o=!1,future:c}=e;ss()&&Ie(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:ta({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof n=="string"&&(n=ns(n));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:w="default"}=n,y=x.useMemo(()=>{let b=zu(d,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:v,key:w},navigationType:s}},[l,d,h,m,v,w,s]);return y==null?null:x.createElement(zr.Provider,{value:u},x.createElement(fo.Provider,{children:r,value:y}))}function gl(e){let{children:t,location:r}=e;return Iy(Sc(t),r)}new Promise(()=>{});function Sc(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Sc(n.props.children,i));return}n.type!==me&&Ie(!1),!n.props.index||!n.props.children||Ie(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function Wy(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function qy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ky(e,t){return e.button===0&&(!t||t==="_self")&&!qy(e)}function Cc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Gy(e,t){let r=Cc(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yy="6";try{window.__reactRouterVersion=Yy}catch{}const Qy="startTransition",Ah=Il[Qy];function Zy(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=ry({window:s,v5Compat:!0}));let o=i.current,[c,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&Ah?Ah(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>By(n),[n]),x.createElement(Hy,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rh=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,m=Wy(t,Jy),{basename:v}=x.useContext(zr),w,y=!1;if(typeof u=="string"&&e1.test(u)&&(w=u,Xy))try{let g=new URL(window.location.href),j=u.startsWith("//")?new URL(g.protocol+u):new URL(u),N=zu(j.pathname,v);j.origin===g.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let b=Ey(u,{relative:s}),f=t1(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||f(g)}return x.createElement("a",_c({},m,{href:w||b,onClick:y||i?n:p,ref:r,target:l}))});var Mh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mh||(Mh={}));var Lh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lh||(Lh={}));function t1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,l=je(),u=hr(),d=Xp(e,{relative:o});return x.useCallback(h=>{if(Ky(h,r)){h.preventDefault();let m=n!==void 0?n:Mi(u)===Mi(d);l(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[u,l,d,n,s,r,e,i,o,c])}function r0(e){let t=x.useRef(Cc(e)),r=x.useRef(!1),n=hr(),s=x.useMemo(()=>Gy(n.search,r.current?null:t.current),[n.search]),i=je(),o=x.useCallback((c,l)=>{const u=Cc(typeof c=="function"?c(s):c);r.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const r1="modulepreload",n1=function(e){return"/"+e},$h={},Gn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=n1(l),l in $h)return;$h[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":r1,u||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},s1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gn(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a1 extends qu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i1 extends qu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o1 extends qu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ec;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ec||(Ec={}));var l1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class c1{constructor(t,{headers:r={},customFetch:n,region:s=Ec.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=s1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return l1(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let c={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(w=>{throw new a1(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new i1(d);if(!d.ok)throw new o1(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var it={},Ku={},mo={},fa={},po={},go={},u1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jn=u1();const d1=Jn.fetch,n0=Jn.fetch.bind(Jn),s0=Jn.Headers,h1=Jn.Request,f1=Jn.Response,as=Object.freeze(Object.defineProperty({__proto__:null,Headers:s0,Request:h1,Response:f1,default:n0,fetch:d1},Symbol.toStringTag,{value:"Module"})),m1=Tg(as);var xo={};Object.defineProperty(xo,"__esModule",{value:!0});let p1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xo.default=p1;var a0=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(go,"__esModule",{value:!0});const g1=a0(m1),x1=a0(xo);let v1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=g1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,l;let u=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,v="OK")}catch{i.status===404&&y===""?(m=204,v="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new x1.default(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,c,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};go.default=v1;var y1=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(po,"__esModule",{value:!0});const b1=y1(go);let w1=class extends b1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var c;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};po.default=w1;var j1=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const N1=j1(po);let k1=class extends N1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fa.default=k1;var S1=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mo,"__esModule",{value:!0});const gs=S1(fa);let _1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new gs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mo.default=_1;var vo={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.version=void 0;yo.version="0.0.0-automated";Object.defineProperty(vo,"__esModule",{value:!0});vo.DEFAULT_HEADERS=void 0;const C1=yo;vo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C1.version}`};var i0=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const E1=i0(mo),P1=i0(fa),T1=vo;let I1=class o0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},T1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new E1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new o0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const c=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new P1.default({method:o,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ku.default=I1;var is=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const l0=is(Ku);it.PostgrestClient=l0.default;const c0=is(mo);it.PostgrestQueryBuilder=c0.default;const u0=is(fa);it.PostgrestFilterBuilder=u0.default;const d0=is(po);it.PostgrestTransformBuilder=d0.default;const h0=is(go);it.PostgrestBuilder=h0.default;const f0=is(xo);it.PostgrestError=f0.default;var O1=it.default={PostgrestClient:l0.default,PostgrestQueryBuilder:c0.default,PostgrestFilterBuilder:u0.default,PostgrestTransformBuilder:d0.default,PostgrestBuilder:h0.default,PostgrestError:f0.default};const{PostgrestClient:A1,PostgrestQueryBuilder:Bk,PostgrestFilterBuilder:Hk,PostgrestTransformBuilder:Wk,PostgrestBuilder:qk,PostgrestError:Kk}=O1,R1="2.11.2",M1={"X-Client-Info":`realtime-js/${R1}`},L1="1.0.0",m0=1e4,$1=1e3;var Fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fn||(Fn={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var At;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(At||(At={}));var Pc;(function(e){e.websocket="websocket"})(Pc||(Pc={}));var Jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jr||(Jr={}));class D1{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class p0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ge||(ge={}));const Dh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=F1(o,e,t,s),i),{})},F1=(e,t,r,n)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?g0(i,o):Tc(o)},g0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return B1(t,r)}switch(e){case ge.bool:return U1(t);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return V1(t);case ge.json:case ge.jsonb:return z1(t);case ge.timestamp:return H1(t);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Tc(t);default:return Tc(t)}},Tc=e=>e,U1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>g0(t,c))}return e},H1=e=>typeof e=="string"?e.replace(" ","T"):e,x0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xl{constructor(t,r,n={},s=m0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fh||(Fh={}));class Rs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Rs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rs.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),c={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),w=d.filter(b=>v.indexOf(b.presence_ref)<0),y=h.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(c[u]=w),y.length>0&&(l[u]=y)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),d.length>0){const h=t[c].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);t[c].unshift(...m)}n(c,d,l)}),this.map(o,(c,l)=>{let u=t[c];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[c]=u,s(c,u,l),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uh||(Uh={}));var Vh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vh||(Vh={}));var Xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class Gu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xl(this,At.join,this.params,this.timeout),this.rejoinTimer=new p0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rs(this),this.broadcastEndpointURL=x0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(d=>t==null?void 0:t(Xt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Xt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Xt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,w=[];for(let y=0;y<v;y++){const b=m[y],{filter:{event:f,schema:p,table:g,filter:j}}=b,N=d&&d[y];if(N&&N.event===f&&N.schema===p&&N.table===g&&N.filter===j)w.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),t==null||t(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Xt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new xl(this,At.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=At;if(n&&[c,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,y,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=v.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,y,b,f,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const j=v.id,N=(w=v.filter)===null||w===void 0?void 0:w.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(p=(f=v==null?void 0:v.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:y,table:b,commit_timestamp:f,type:p,errors:g}=w;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:f,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(m,n)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Gu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(At.close,{},t)}_onError(t){this._on(At.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dh(t.columns,t.old_record)),r}}const W1=()=>{},q1=typeof WebSocket<"u",K1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G1{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=M1,this.params={},this.timeout=m0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=W1,this.conn=null,this.sendBuffer=[],this.serializer=new D1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>Gn(async()=>{const{default:l}=await Promise.resolve().then(()=>as);return{default:l}},void 0).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${Pc.websocket}`,this.httpEndpoint=x0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new p0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(q1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new J1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gn(async()=>{const{default:t}=await import("./browser-Cgv62Voq.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L1}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Jr.Connecting;case Fn.open:return Jr.Open;case Fn.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(t,r={config:{}}){const n=new Gu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(At.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close($1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(At.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([K1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class J1{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ju extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Y1 extends Ju{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ic extends Ju{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Q1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const v0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gn(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z1=()=>Q1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>as),void 0)).Response:Response}),Oc=e=>{if(Array.isArray(e))return e.map(r=>Oc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Oc(n)}),t};var dn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X1=(e,t,r)=>dn(void 0,void 0,void 0,function*(){const n=yield Z1();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Y1(vl(s),e.status||500))}).catch(s=>{t(new Ic(vl(s),s))}):t(new Ic(vl(e),e))}),eb=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ma(e,t,r,n,s,i){return dn(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,eb(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>X1(l,c,n))})})}function $i(e,t,r,n){return dn(this,void 0,void 0,function*(){return ma(e,"GET",t,r,n)})}function br(e,t,r,n,s){return dn(this,void 0,void 0,function*(){return ma(e,"POST",t,n,s,r)})}function tb(e,t,r,n,s){return dn(this,void 0,void 0,function*(){return ma(e,"PUT",t,n,s,r)})}function rb(e,t,r,n){return dn(this,void 0,void 0,function*(){return ma(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function y0(e,t,r,n,s){return dn(this,void 0,void 0,function*(){return ma(e,"DELETE",t,n,s,r)})}var st=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const nb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sb{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=v0(s)}uploadOrUpdate(t,r,n,s){return st(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zh),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return st(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:zh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if($e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield br(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new Ju("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return st(this,void 0,void 0,function*(){try{const s=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}download(t,r){return st(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if($e(c))return{data:null,error:c};throw c}})}info(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Oc(n),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}exists(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if($e(n)&&n instanceof Ic){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nb),r),{prefix:t||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ab="2.7.1",ib={"X-Client-Info":`storage-js/${ab}`};var mn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class ob{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ib),r),this.fetch=v0(n)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return mn(this,void 0,void 0,function*(){try{return{data:yield tb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}}class lb extends ob{constructor(t,r={},n){super(t,r,n)}from(t){return new sb(this.url,this.headers,t,this.fetch)}}const cb="2.49.3";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const ub={"X-Client-Info":`supabase-js-${Ns}/${cb}`},db={headers:ub},hb={schema:"public"},fb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mb={};var pb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=n0:t=fetch,(...r)=>t(...r)},xb=()=>typeof Headers>"u"?s0:Headers,vb=(e,t,r)=>{const n=gb(r),s=xb();return(i,o)=>pb(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var yb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};function bb(e){return e.replace(/\/$/,"")}function wb(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:c,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},c),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>yb(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const b0="2.69.1",yn=30*1e3,Ac=3,yl=Ac*yn,jb="http://localhost:9999",Nb="supabase.auth.token",kb={"X-Client-Info":`gotrue-js/${b0}`},Rc="X-Supabase-Api-Version",w0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_b=6e5;class Yu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cb extends Yu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Eb(e){return ne(e)&&e.name==="AuthApiError"}class j0 extends Yu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends Yu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pb(e){return ne(e)&&e.name==="AuthSessionMissingError"}class bl extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $a extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Da extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tb(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bh extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mc extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wl(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Hh extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ms extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qh=` 	
\r=`.split(""),Ib=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qh.length;t+=1)e[qh[t].charCodeAt(0)]=-2;for(let t=0;t<Wh.length;t+=1)e[Wh[t].charCodeAt(0)]=t;return e})();function N0(e,t,r){const n=Ib[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kh(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Rb(o,n,r)};for(let o=0;o<e.length;o+=1)N0(e.charCodeAt(o),s,i);return t.join("")}function Ob(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ab(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ob(n,t)}}function Rb(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mb(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)N0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Lb(e){const t=[];return Ab(e,r=>t.push(r)),new Uint8Array(t)}function $b(e){return Math.round(Date.now()/1e3)+e}function Db(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Ls=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function Fb(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const k0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gn(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ub=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",S0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ua=async(e,t)=>{await e.removeItem(t)};class bo{constructor(){this.promise=new bo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bo.promiseConstructor=Promise;function jl(e){const t=e.split(".");if(t.length!==3)throw new Ms("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Sb.test(t[n]))throw new Ms("JWT not in base64url format");return{header:JSON.parse(Kh(t[0])),payload:JSON.parse(Kh(t[1])),signature:Mb(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zb(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Bb(e){return("0"+e.toString(16)).substr(-2)}function Hb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Bb).join("")}async function Wb(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Wb(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(e,t,r=!1){const n=Hb();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await S0(e,`${t}-code-verifier`,s);const i=await qb(n);return[i,n===i?"plain":"s256"]}const Kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gb(e){const t=e.headers.get(Rc);if(!t||!t.match(Kb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Qb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Gr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zb=[502,503,504];async function Gh(e){var t;if(!Ub(e))throw new Mc(Gr(e),0);if(Zb.includes(e.status))throw new Mc(Gr(e),e.status);let r;try{r=await e.json()}catch(i){throw new j0(Gr(i),i)}let n;const s=Gb(e);if(s&&s.getTime()>=w0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hh(Gr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Hh(Gr(r),e.status,r.weak_password.reasons);throw new Cb(Gr(r),e.status||500,n)}const Xb=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Rc]||(i[Rc]=w0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ew(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ew(e,t,r,n,s,i){const o=Xb(t,n,s,i);let c;try{c=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Mc(Gr(l),0)}if(c.ok||await Gh(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await Gh(l)}}function gr(e){var t;let r=null;sw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$b(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jh(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tw(e){return{data:e,error:null}}function rw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Qb(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function nw(e){return e}function sw(e){return e.access_token&&e.refresh_token&&e.expires_in}var aw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class iw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=k0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nw});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:kr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:kr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}const ow={getItem:e=>Ls()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ls()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ls()&&globalThis.localStorage.removeItem(e)}};function Yh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&Ls()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cw extends _0{}async function uw(e,t,r){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lw();const dw={url:jb,storageKey:Nb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qh(e,t,r){return await r()}class ra{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ra.nextInstanceID,ra.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=k0(s.fetch),this.lock=s.lock||Qh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uw:this.lock=Qh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ls()?this.storage=ow:(this.memoryStorage={},this.storage=Yh(this.memoryStorage)):(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${b0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Fb(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tb(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new j0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:gr}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await pn(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:gr})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:gr})}else throw new $a("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:c}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jh})}else if("phone"in t){const{phone:i,password:o,options:c}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jh})}else throw new $a("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Fa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gr});if(await Ua(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,c=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gr}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:c,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await pn(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $a("You must provide either an email or phone number.")}catch(c){if(ne(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gr});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pn(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:tw})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pr;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:c}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new $a("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kr})})}catch(r){if(ne(r))return Pb(r)&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pr;const o=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await pn(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:kr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=jl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zt())throw new Da("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Da(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Da("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bh("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=t;if(!i||!c||!o||!u)throw new Da("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let m=d+h;l&&(m=parseInt(l));const v=m-d;v*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(Eb(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Db(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await pn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,c,l,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return zt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zb(async s=>(s>0&&await Vb(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&wl(i)&&Date.now()+o-n<yn})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Fa(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),wl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),ne(i)){const o={session:null,error:i};return wl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await S0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ua(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yn}ms, refresh threshold is ${Ac} ticks`),s<=Ac&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await pn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jl(s.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_b>Date.now()))return n;const{data:s,error:i}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ms("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Ms("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:l}}=jl(n);if(Jb(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=Yb(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Lb(`${c}.${l}`)))throw new Ms("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}ra.nextInstanceID=0;const hw=ra;class fw extends hw{constructor(t){super(t)}}var mw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class pw{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=bb(t);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:hb,realtime:mb,auth:Object.assign(Object.assign({},fb),{storageKey:l}),global:db},d=wb(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=vb(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A1(`${c}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new c1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lb(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return mw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:c,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fw({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new G1(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gw=(e,t,r)=>new pw(e,t,r),xw="https://mboefbpirfqxspdsgkue.supabase.co",vw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ib2VmYnBpcmZxeHNwZHNna3VlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTMxMzgsImV4cCI6MjA1ODY2OTEzOH0._Q9_nq4mBG7lTR6ao7Y9NCOrBVBrSUfkRjX7ubgUkAA",yw={getItem:e=>{try{const t=localStorage.getItem(e);return t&&(e.includes("access_token")||e.includes("refresh_token"))&&JSON.parse(t),t}catch(t){console.error("Error accessing localStorage:",t);try{localStorage.removeItem(e)}catch(r){console.error("Error clearing invalid token:",r)}return null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(r){console.error("Error setting localStorage:",r);try{localStorage.clear()}catch(n){console.error("Error clearing localStorage:",n)}}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage:",t)}}},I=gw(xw,vw,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",storage:yw}}),C0=x.createContext({user:null,loading:!0}),Qu=()=>x.useContext(C0);function bw({children:e}){const[t,r]=x.useState(null),[n,s]=x.useState(!0),i=je(),o=async c=>{const l=c.message.toLowerCase();if(l.includes("invalid refresh token")||l.includes("refresh_token_not_found")){console.error("Invalid refresh token detected, clearing session");try{localStorage.removeItem("supabase.auth.token"),await I.auth.signOut(),r(null)}catch(u){console.error("Error during cleanup:",u)}}else console.error("Auth error:",c)};return x.useEffect(()=>{(async()=>{try{const{data:{session:u},error:d}=await I.auth.getSession();d?await o(d):r((u==null?void 0:u.user)??null)}catch(u){console.error("Error initializing auth:",u),await o(u)}finally{s(!1)}})();const{data:{subscription:l}}=I.auth.onAuthStateChange(async(u,d)=>{console.log("Auth state changed:",u),u==="TOKEN_REFRESHED"?(console.log("Token refreshed successfully"),r((d==null?void 0:d.user)??null)):u==="SIGNED_OUT"?(console.log("User signed out"),r(null),localStorage.removeItem("supabase.auth.token")):r((d==null?void 0:d.user)??null),s(!1)});return()=>l.unsubscribe()},[i]),a.jsx(C0.Provider,{value:{user:t,loading:n},children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>x.createElement("svg",{ref:d,...ww,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jw(e)}`,c].join(" "),...u},[...t.map(([h,m])=>x.createElement(h,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=G("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=G("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=G("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=G("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=G("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=G("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=G("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=G("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=G("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=G("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=G("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=G("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=G("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=G("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=G("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=G("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=G("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=G("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=G("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=G("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=G("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=G("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=G("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A0=x.createContext(void 0);function zw({children:e}){const[t,r]=x.useState("welcome"),[n,s]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const{data:{user:l}}=await I.auth.getUser();if(!l)return;const{data:u,error:d}=await I.from("onboarding_progress").select("*").eq("user_id",l.id);if(d)throw d;if(u&&u.length>0){const h=["welcome","profile_setup","product_details","product_themes","data_sources"];u.filter(v=>h.includes(v.step_name)&&v.completed).length===h.length&&s(!0)}}catch(l){console.error("Error checking onboarding status:",l)}})()},[]);const i=async c=>{try{const{data:{user:l}}=await I.auth.getUser();if(!l)throw new Error("No user found");const{data:u}=await I.from("onboarding_progress").select("*").eq("user_id",l.id).eq("step_name",c).maybeSingle();if(u){const{error:h}=await I.from("onboarding_progress").update({completed:!0,completed_at:new Date().toISOString()}).eq("user_id",l.id).eq("step_name",c);if(h)throw h}else{const{error:h}=await I.from("onboarding_progress").insert({user_id:l.id,step_name:c,completed:!0,completed_at:new Date().toISOString()});if(h)throw h}const d=["welcome","profile_setup","product_details","product_themes","data_sources"];if(d.includes(c)){const{data:h}=await I.from("onboarding_progress").select("step_name").eq("user_id",l.id).eq("completed",!0);(h?h.filter(v=>d.includes(v.step_name)).length:0)===d.length&&s(!0)}}catch(l){throw console.error("Error completing step:",l),l}},o=async()=>{try{const{data:{user:c}}=await I.auth.getUser();if(!c)throw new Error("No user found");const u=["welcome","role","integrations","product_areas","pod_setup","profile_setup","product_details","product_themes","data_sources"].map(async d=>{const{data:h}=await I.from("onboarding_progress").select("*").eq("user_id",c.id).eq("step_name",d).maybeSingle();return h?I.from("onboarding_progress").update({completed:!0,completed_at:new Date().toISOString()}).eq("user_id",c.id).eq("step_name",d):I.from("onboarding_progress").insert({user_id:c.id,step_name:d,completed:!0,completed_at:new Date().toISOString()})});await Promise.all(u),s(!0)}catch(c){throw console.error("Error skipping onboarding:",c),c}};return a.jsx(A0.Provider,{value:{currentStep:t,setCurrentStep:r,completeStep:i,skipOnboarding:o,hasCompletedOnboarding:n},children:e})}function Yt(){const e=x.useContext(A0);if(e===void 0)throw new Error("useOnboarding must be used within an OnboardingProvider");return e}function Zn({size:e="md",className:t=""}){const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-32 h-32"};return a.jsx("div",{className:`${t}`,children:a.jsxs("svg",{viewBox:"0 0 841.89 595.28",xmlns:"http://www.w3.org/2000/svg",className:`${r[e]}`,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"linear-gradient",x1:"480.8",y1:"220.53",x2:"360.88",y2:"221.23",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{offset:"0",stopColor:"#00a0c1"}),a.jsx("stop",{offset:".15",stopColor:"#1591bb"}),a.jsx("stop",{offset:".54",stopColor:"#496ead"}),a.jsx("stop",{offset:".84",stopColor:"#6958a4"}),a.jsx("stop",{offset:"1",stopColor:"#7650a1"})]})}),a.jsxs("g",{children:[a.jsx("path",{fill:"#00a0c1",d:"M112.12,464.41v-100.32h39.84c6.11,0,11.58,1.22,16.41,3.65,4.82,2.44,8.6,5.88,11.32,10.32,2.72,4.44,4.08,9.77,4.08,15.98v1.86c0,6.21-1.41,11.56-4.23,16.05-2.82,4.49-6.62,7.93-11.39,10.32-4.78,2.39-10.17,3.58-16.19,3.58h-24.36v38.55h-15.48ZM127.6,411.82h22.79c5.45,0,9.79-1.43,13.04-4.3,3.25-2.87,4.87-6.78,4.87-11.75v-1.43c0-5.06-1.63-9.03-4.87-11.9-3.25-2.87-7.6-4.3-13.04-4.3h-22.79v33.68Z"}),a.jsx("path",{fill:"#00a0c1",d:"M191.04,464.41v-73.62h15.01v8.97h.49c1.19-3.07,3.1-5.33,5.72-6.76,2.62-1.44,7.76-2.16,11.62-2.16h8.77v13.82h-9.36c-4.96,0-9.02,1.36-12.19,4.09-3.17,2.73-4.76,6.91-4.76,12.56v43.1h-15.31Z"}),a.jsx("path",{fill:"#00a0c1",d:"M272.96,464.41c-6.97,0-13.16-1.44-18.58-4.31-5.42-2.87-9.68-6.99-12.78-12.36-3.11-5.37-4.66-11.72-4.66-19.07v-2.12c0-7.35,1.55-13.68,4.66-19,3.11-5.32,7.37-9.44,12.78-12.36,5.41-2.92,11.61-4.38,18.58-4.38s13.18,1.46,18.65,4.38c5.46,2.92,9.75,7.04,12.85,12.36,3.11,5.32,4.66,11.65,4.66,19v2.12c0,7.35-1.55,13.7-4.66,19.07-3.11,5.37-7.39,9.49-12.85,12.36-5.46,2.87-11.68,4.31-18.65,4.31ZM272.96,451.42c6.4,0,11.61-2.05,15.61-6.14,4-4.1,6-9.77,6-17.02v-1.27c0-7.25-1.98-12.93-5.93-17.02-3.96-4.1-9.18-6.14-15.68-6.14s-11.47,2.05-15.47,6.14c-4,4.1-6,9.77-6,17.02v1.27c0,7.25,2,12.93,6,17.02,4,4.1,9.16,6.14,15.47,6.14Z"}),a.jsx("path",{fill:"#00a0c1",d:"M348.16,464.41c-5.71,0-11-1.4-15.86-4.21-4.87-2.81-8.77-6.85-11.72-12.14-2.95-5.29-4.42-11.67-4.42-19.16v-2.11c0-7.39,1.45-13.76,4.35-19.09,2.9-5.33,6.78-9.4,11.65-12.21,4.86-2.81,10.2-4.21,16-4.21,4.49,0,8.26.56,11.3,1.68,3.04,1.12,6.61,2.55,8.58,4.28,1.96,1.73,4.53,3.53,5.56,5.4h.11v-38.46h14.46v98.25h-14.18v-9.82h-.11c-1.78,3-5.54,5.71-9.14,8.14-3.6,2.43-9.84,3.65-16.58,3.65ZM352.23,451.78c6.27,0,11.44-2.01,15.51-6.04,4.07-4.02,6.11-9.78,6.11-17.26v-1.26c0-7.39-2.01-13.1-6.04-17.12-4.02-4.02-9.22-6.04-15.58-6.04s-11.3,2.01-15.37,6.04c-4.07,4.02-6.11,9.73-6.11,17.12v1.26c0,7.49,2.04,13.24,6.11,17.26,4.07,4.02,9.19,6.04,15.37,6.04Z"}),a.jsx("path",{fill:"#00a0c1",d:"M426.81,464.41c-5.47,0-12.96-1.22-17.26-3.66-4.3-2.44-7.67-5.91-10.11-10.41-2.44-4.49-3.66-9.87-3.66-16.12v-43.38h15.1v42.36c0,6.25,1.56,10.87,4.69,13.85,3.13,2.98,7.47,4.47,13.04,4.47,6.16,0,11.11-2.07,14.88-6.23,3.76-4.15,5.64-10.14,5.64-17.95v-36.49h15.1v72.26h-14.8v-10.85h.26c-1.37,2.93-3.81,5.69-7.33,8.28-3.52,2.59-8.7,3.88-15.54,3.88Z"}),a.jsx("path",{fill:"#00a0c1",d:"M507,464.41c-6.69,0-12.74-1.41-18.15-4.24-5.42-2.82-9.7-6.92-12.85-12.29-3.16-5.37-4.73-11.82-4.73-19.35v-1.84c0-7.53,1.58-13.96,4.73-19.28,3.15-5.32,7.44-9.42,12.85-12.29,5.41-2.87,11.46-4.31,18.15-4.31s12.38,1.23,17.09,3.67c4.71,2.45,8.84,5.7,11.72,9.75,2.87,4.05,4.73,8.52,5.58,13.42l-14.13,2.97c-.47-3.11-1.46-5.93-2.97-8.48-1.51-2.54-3.97-4.57-6.7-6.07-2.73-1.51-6.17-2.26-10.31-2.26s-7.7.92-10.95,2.75c-3.25,1.84-5.82,4.47-7.7,7.91-1.88,3.44-2.83,7.61-2.83,12.5v1.27c0,4.9.94,9.09,2.83,12.57,1.88,3.49,4.45,6.12,7.7,7.91,3.25,1.79,6.9,2.68,10.95,2.68,6.12,0,10.78-1.58,13.98-4.73,3.2-3.15,5.23-7.18,6.07-12.08l14.13,3.25c-1.13,4.8-3.13,9.23-6,13.28-2.87,4.05-6.66,7.27-11.37,9.68-4.71,2.4-10.41,3.6-17.09,3.6Z"}),a.jsx("path",{fill:"#00a0c1",d:"M548.51,464.41v-100.32h14.76v57.18h.11l30.67-30.27h19.63l-36.37,37.01,36.83,36.4h-19.49l-31.27-29.38h-.11v29.38h-14.76Z"}),a.jsx("path",{fill:"#7650a1",d:"M621.95,464.41l28.66-100.32h27.23l28.52,100.32h-15.91l-7.69-31.34h-37.07l-7.69,31.34h-16.05ZM649.56,418.74h29.33l-14.71-45.05h-.07l-14.55,45.05Z"}),a.jsx("path",{fill:"#7650a1",d:"M714.29,464.41v-100.32h15.48v100.32h-15.48Z"})]}),a.jsx("path",{fill:"url(#linear-gradient)",d:"M465.61,145.67c-14.69-15.12-35.05-14.47-53.3-14.8-10.35-.02-20.62,0-31.19-.01-3.74.02-7.36-.04-11.07.08-4.09,0-8.77.8-8.6,6.68-.29,48.96-.08,117.47-.06,165.6-.18,2.86.55,6.67,2.79,8,3.17,2.99,22.4-20.38,31.06-27.19,1.47-1.37,2.96-2.75,4.27-4.26,3.4-3.81,5.39-9.18,5.74-14.73v-.12c.58-7.02-.25-16.06,2.94-21.77,1.97-2.73,5.19-3.04,8.05-3.41,20.8-.34,43.7-1.76,56.8-24.49,12.43-21.1,9.22-53.15-7.44-69.57ZM402.07,170.02c-1.55-1.2-3.77-1.26-5.35-2.39,2.02-1.54,5.14-1.31,6.52-3.8.37-.67,1.61-4.77,2.05-4.77,1.48,2.16,1.22,5.09,3.8,6.52,1.03.57,3.73,1.14,4.4,1.69.25.2.21.35.19.64-1.58.7-4.41,1.19-5.62,2.4-1.17,1.17-1.7,3.79-2.41,5.34-.29.64-.54.53-.83-.08-.9-1.86-.99-4.19-2.75-5.55ZM411.88,208.47c-.98.93-1.01,2.69-1.83,3.76-.26,0-1.04-2.62-1.27-3.04-.93-1.7-2.83-1.46-4.24-2.47,0-.26,2.51-1,2.93-1.22,1.79-.93,1.61-2.79,2.58-4.29,1,1.41.77,3.31,2.47,4.24.43.23,3.04,1.01,3.04,1.27-1.04.8-2.73.85-3.68,1.75ZM450.85,187.29c-4.25,2.47-10.74,2.9-14.68,6.28-4.92,4.21-4.7,10.97-7.58,16-.71,1.24-1.32,1.22-2.03,0-2.9-4.99-2.71-11.82-7.59-15.99-3.94-3.38-10.43-3.81-14.68-6.28-1.22-.71-1.24-1.32,0-2.03,6.35-3.64,14.02-2.49,17.93-10.52.87-1.78,4.04-12.29,5.02-12.59.81-.24,1.03.27,1.36.83,2.08,3.55,2.77,9.56,5.09,13.25,3.93,6.26,11.7,5.87,17.18,9.02,1.24.71,1.22,1.32,0,2.03Z"})]})})}function Bw(){const e=je(),[t,r]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(!1),[c,l]=x.useState(!1),[u,d]=x.useState(""),[h,m]=x.useState(!1),[v,w]=x.useState(!1),[y,b]=x.useState(!1),f=_=>{var D;if(!_)return!1;const k=["gmail.com","yahoo.com","hotmail.com","outlook.com","aol.com","icloud.com"],C=(D=_.split("@")[1])==null?void 0:D.toLowerCase();return C?!k.includes(C):!1},p=()=>t?t.includes("@")?f(t)?!h&&!n?(d("Password is required"),!1):!h&&n.length<6?(d("Password must be at least 6 characters"),!1):!0:(d("Please use a business email address"),!1):(d("Please enter a valid email address"),!1):(d("Email is required"),!1),g=async _=>{if(_.preventDefault(),!!p())try{o(!0),d(""),console.log("Attempting login with email:",t.trim());const{data:k,error:C}=await I.auth.signInWithPassword({email:t.trim(),password:n});if(C){C.message==="Invalid login credentials"?d("Invalid email or password. Please try again or reset your password."):d(C.message);return}if(!k.user){d("No user data received");return}e("/onboarding/welcome",{replace:!0})}catch(k){console.error("Unexpected error during login:",k),d(k instanceof Error?k.message:"An unexpected error occurred")}finally{o(!1)}},j=async()=>{try{l(!0),d("");const{data:_,error:k}=await I.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent",hd:"*"},redirectTo:`${window.location.origin}/onboarding/welcome`}});if(k){d(k.message);return}}catch(_){console.error("Error with Google sign in:",_),d(_ instanceof Error?_.message:"An unexpected error occurred")}finally{l(!1)}},N=async _=>{if(_.preventDefault(),!!p())try{o(!0),d("");const{error:k}=await I.auth.resetPasswordForEmail(t.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(k){d(k.message);return}w(!0)}catch(k){console.error("Error sending password reset:",k),d(k instanceof Error?k.message:"Failed to send password reset email")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-12",children:a.jsx(Zn,{size:"lg",className:"w-32 h-32"})}),a.jsx("p",{className:"text-center text-xl text-gray-600 mb-12",children:"Turn scattered customer feedback into actionable product strategy"})]}),a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4 flex items-center text-red-700",children:[a.jsx(Ue,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:u})]}),v?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 text-green-600",children:"Password reset instructions have been sent to your email."}),a.jsx("button",{onClick:()=>{m(!1),w(!1)},className:"text-[#00A0C1] hover:text-[#008a9a] font-medium",children:"Return to login"})]}):a.jsxs("form",{onSubmit:h?N:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Business Email"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#00A0C1] focus:border-[#00A0C1] sm:text-sm",placeholder:"you@company.com",value:t,onChange:_=>{r(_.target.value),d("")}})]})]}),!h&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:y?"text":"password",required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#00A0C1] focus:border-[#00A0C1] sm:text-sm",value:n,onChange:_=>{s(_.target.value),d("")}}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!y),children:y?a.jsx(ai,{className:"h-5 w-5 text-gray-400"}):a.jsx(ii,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#00A0C1] hover:bg-[#008a9a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#00A0C1] disabled:opacity-50 gap-2",children:[i&&a.jsx(ie,{className:"w-4 h-4 animate-spin"}),h?"Send Reset Instructions":"Sign in"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:j,disabled:c,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#00A0C1] disabled:opacity-50 gap-2",children:[c?a.jsx(ie,{className:"w-4 h-4 animate-spin"}):a.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),a.jsx("span",{children:"Sign in with Google Workspace"})]}),a.jsx("p",{className:"mt-2 text-xs text-center text-gray-500",children:"Only business Google accounts are supported"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{m(!h),d("")},className:"text-[#00A0C1] hover:text-[#008a9a] font-medium",children:h?"Back to login":"Forgot your password?"})})]})]})})]})}function Hw({children:e}){const{user:t}=Qu(),{hasCompletedOnboarding:r}=Yt(),n=hr();return t?r&&n.pathname!=="/dashboard"?a.jsx(yr,{to:"/dashboard"}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#00A4B8]/5 to-white",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-[#00A4B8]/10 p-12",children:e})})}):a.jsx(yr,{to:"/login"})}function Ww(){const e=je(),{completeStep:t}=Yt(),r=async()=>{try{await t("welcome"),e("/onboarding/profile-setup")}catch(n){console.error("Error starting setup:",n)}};return a.jsxs("div",{className:"relative min-h-[500px] flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"mb-12",children:a.jsx("div",{className:"relative inline-block animate-float",children:a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{size:"lg",className:"w-24 h-24"}),a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsx(Xh,{className:"w-8 h-8 text-[#00A4B8] animate-pulse"})})]})})}),a.jsxs("div",{className:"space-y-8 max-w-2xl animate-fadeIn",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 leading-tight",children:["Welcome to ProduckAI",a.jsx("span",{className:"block text-2xl text-[#00A4B8] mt-2",children:"Your AI-powered Product Manager Assistant"})]}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"We'll guide you through a quick setup to help you capture customer feedback, analyze product themes, and collaborate with your team."})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 pt-4",children:a.jsxs("button",{onClick:r,className:"group w-full max-w-md px-8 py-4 bg-[#00A4B8] text-white rounded-xl text-xl font-semibold hover:bg-[#008a9a] transition-all transform hover:scale-105 hover:shadow-lg flex items-center justify-center gap-3",children:[a.jsx(Xh,{className:"w-6 h-6 group-hover:animate-pulse"}),"Start Setup",a.jsx(Ut,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#00A4B8]/5 rounded-full blur-3xl opacity-30"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-50 rounded-full blur-3xl opacity-30"})]})}const tf=[{id:"product_manager",title:"Product Manager",department:"Product"},{id:"product_marketer",title:"Product Marketer",department:"Marketing"},{id:"sales_representative",title:"Sales Representative",department:"Sales"},{id:"customer_support",title:"Customer Support",department:"Support"},{id:"software_engineer",title:"Software Engineer",department:"Engineering"},{id:"product_designer",title:"Product Designer",department:"Design"},{id:"other",title:"Other",department:"Other"}];function qw(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(""),[s,i]=x.useState(""),[o,c]=x.useState(!1),l=async()=>{var u;if(r){c(!0);try{const d=tf.find(w=>w.id===r);if(!d)throw new Error("Invalid role selected");const h=d.id==="other"?s:d.title,m=d.id==="other"?"Other":d.department,{error:v}=await I.from("user_profiles").upsert({id:(u=(await I.auth.getUser()).data.user)==null?void 0:u.id,role:h,department:m});if(v)throw v;sessionStorage.setItem("from_onboarding","true"),await t("role"),e("/onboarding/integrations")}catch(d){console.error("Error updating role:",d)}finally{c(!1)}}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(qe,{className:"w-16 h-16 text-blue-600 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"What's your role?"}),a.jsx("p",{className:"text-lg text-gray-600",children:"To customize your experience, we need to know your role."})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[tf.map(u=>a.jsx("button",{onClick:()=>n(u.id),className:`w-full p-6 text-left rounded-xl transition-all ${r===u.id?"bg-blue-50 border-2 border-blue-600":"bg-white border-2 border-gray-200 hover:border-blue-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.title}),u.id!=="other"&&a.jsx("p",{className:"text-sm text-gray-500",children:u.department})]}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${r===u.id?"border-blue-600 bg-blue-600":"border-gray-300"}`,children:r===u.id&&a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})})]})},u.id)),r==="other"&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("label",{htmlFor:"otherRole",className:"block text-sm font-medium text-gray-700 mb-2",children:"Please specify your role"}),a.jsx("input",{type:"text",id:"otherRole",value:s,onChange:u=>i(u.target.value),placeholder:"Enter your role",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("button",{onClick:l,disabled:!r||r==="other"&&!s.trim()||o,className:"w-full px-8 py-4 bg-blue-600 text-white rounded-xl text-lg font-semibold hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?"Saving...":a.jsxs(a.Fragment,{children:["Continue",a.jsx(Ut,{className:"w-5 h-5"})]})})]})}const Kw=[{id:"slack",name:"Slack",description:"Connect to your Slack workspace to capture customer feedback from designated channels",icon:jo,path:"/dashboard/data-sources/integrations"},{id:"hubspot",name:"HubSpot",description:"Import customer feedback and feature requests from HubSpot tickets",icon:Le,path:"/dashboard/data-sources/integrations"},{id:"document",name:"Documents",description:"Upload and analyze customer interview notes, surveys, and other documents",icon:So,path:"/dashboard/data-sources/manual"}];function Gw(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(new Set),[s,i]=x.useState(!1),o=d=>{n(h=>{const m=new Set(h);return m.has(d)?m.delete(d):m.add(d),m})},c=async()=>{var d;i(!0);try{const h=(d=(await I.auth.getUser()).data.user)==null?void 0:d.id;if(r.size>0){const{error:m}=await I.from("feedback_sources").insert(Array.from(r).map(v=>({user_id:h,source_type:v,is_active:!0})));if(m)throw m}await t("integrations"),e("/onboarding/pod-setup")}catch(h){console.error("Error saving integrations:",h)}finally{i(!1)}},l=async()=>{await t("integrations"),e("/onboarding/pod-setup")},u=async d=>{var h;try{const m=(h=(await I.auth.getUser()).data.user)==null?void 0:h.id;localStorage.setItem("integration_redirect_path",d),sessionStorage.setItem("from_onboarding","true"),await t("integrations"),e("/onboarding/pod-setup")}catch(m){console.error("Error in setup later:",m)}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(sa,{className:"w-16 h-16 text-blue-600 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Connect Your Data Sources"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Import customer feedback from your existing tools to start gathering insights."})]}),a.jsx("div",{className:"space-y-6 mb-8",children:Kw.map(d=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx(d.icon,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:d.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>o(d.id),className:`px-4 py-2 rounded-lg transition-colors ${r.has(d.id)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r.has(d.id)?"Selected":"Select"}),a.jsxs("button",{onClick:()=>u(d.path),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(wo,{className:"w-4 h-4"}),"Configure Now"]})]})]},d.id))}),a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("button",{onClick:c,disabled:s,className:"w-full max-w-md px-8 py-4 bg-blue-600 text-white rounded-xl text-lg font-semibold hover:bg-blue-700 transition-all transform hover:scale-105 hover:shadow-lg flex items-center justify-center gap-3",children:[s?"Saving...":"Continue",a.jsx(Ut,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:l,disabled:s,className:"text-gray-500 hover:text-gray-900 font-medium transition-colors",children:"Skip for now"})]})]})}function Jw(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(""),[s,i]=x.useState(""),[o,c]=x.useState([]),[l,u]=x.useState(""),[d,h]=x.useState("member"),[m,v]=x.useState(!1),[w,y]=x.useState(null),b=()=>{if(l.trim()){if(o.some(g=>g.email===l.trim())){y("This email has already been added");return}c([...o,{email:l.trim(),role:d}]),u(""),h("member"),y(null)}},f=g=>{c(o.filter(j=>j.email!==g))},p=async()=>{if(!r.trim()){y("Workspace name is required");return}v(!0),y(null);try{console.log("Fetching user session...");const{data:g,error:j}=await I.auth.getSession();if(j)throw j;if(!(g!=null&&g.session))throw new Error("No active session");console.log("Fetching user data...");const{data:{user:N},error:_}=await I.auth.getUser();if(_)throw _;if(!N)throw new Error("User not found");console.log("Creating workspace...",{name:r.trim(),description:s.trim(),created_by:N.id});const{data:k,error:C}=await I.from("pods").insert({name:r.trim(),description:s.trim(),created_by:N.id}).select().single();if(C)throw console.error("Workspace creation error:",C),new Error(`Failed to create workspace: ${C.message}`);if(!k)throw new Error("Workspace creation failed: No workspace returned");console.log("Workspace created successfully:",k),console.log("Creating owner membership...");const{error:D}=await I.from("pod_members").insert({pod_id:k.id,user_id:N.id,role:"owner"});if(D)throw console.error("Owner membership error:",D),new Error(`Failed to create owner membership: ${D.message}`);console.log("Owner membership created successfully"),o.length>0&&console.log("Members to be invited:",o),await t("pod_setup"),e("/dashboard")}catch(g){console.error("Workspace setup error:",g),y(g instanceof Error?g.message:"An unexpected error occurred")}finally{v(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(qe,{className:"w-16 h-16 text-teal-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Create Your Workspace"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Set up a collaborative space to share insights and make decisions with your team."})]}),w&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:w})]}),a.jsx("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workspace Name"}),a.jsx("input",{type:"text",value:r,onChange:g=>n(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., Product Team, Mobile Squad"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:s,onChange:g=>i(g.target.value),placeholder:"What does this team focus on?",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Invite Team Members"}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("input",{type:"email",value:l,onChange:g=>u(g.target.value),placeholder:"colleague@company.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"}),a.jsxs("select",{value:d,onChange:g=>h(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]}),a.jsx("button",{onClick:b,disabled:!l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:a.jsx(Dt,{className:"w-5 h-5"})})]}),o.length>0&&a.jsx("div",{className:"space-y-2",children:o.map(g=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-900",children:g.email}),a.jsxs("span",{className:"ml-2 text-sm text-gray-500 capitalize",children:["(",g.role,")"]})]}),a.jsx("button",{onClick:()=>f(g.email),className:"text-red-600 hover:text-red-700",children:"Remove"})]},g.email))})]})]})}),a.jsx("div",{className:"flex flex-col items-center gap-4",children:a.jsx("button",{onClick:p,disabled:m||!r.trim(),className:"w-full max-w-md px-8 py-4 bg-teal-500 text-white rounded-xl text-lg font-semibold hover:bg-teal-600 transition-all transform hover:scale-105 hover:shadow-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating Workspace...":a.jsxs(a.Fragment,{children:[a.jsx(I0,{className:"w-5 h-5"}),"Create Workspace",a.jsx(Ut,{className:"w-5 h-5"})]})})})]})}const Yw=[{name:"Dashboard",href:"/dashboard",icon:Lw,description:"Overview of your product insights"},{name:"Trends",href:"/dashboard/trends",icon:ko,description:"Analyze feedback trends over time"},{name:"Themes",href:"/dashboard/themes",icon:Rw,description:"View and manage feedback themes"},{name:"Insights",href:"/dashboard/insights",icon:Le,description:"Browse all customer feedback insights"},{name:"Workspaces",href:"/dashboard/pods",icon:qe,description:"Collaborate with your team in shared spaces"},{name:"Roadmap",href:"/dashboard/roadmap",icon:Xu,description:"View and manage product roadmap"}],Qw=[{name:"Data Sources",href:"/dashboard/data-sources",icon:Zu,description:"Manage your feedback data sources"},{name:"Manual Upload",href:"/dashboard/data-sources/manual",icon:So,description:"Upload CSV files with customer feedback"},{name:"Integrations",href:"/dashboard/data-sources/integrations",icon:sa,description:"Connect to business apps like Slack, HubSpot"}],Zw=[{name:"Settings",href:"/dashboard/settings",icon:Vw,description:"Manage your preferences"}];function Xw({children:e}){const[t,r]=wr.useState(!1),n=hr(),s=je();wr.useEffect(()=>{const l=localStorage.getItem("integration_redirect_path");if(l&&sessionStorage.getItem("from_onboarding")==="true"){const d=localStorage.getItem("selected_integration");s(l),localStorage.removeItem("integration_redirect_path"),sessionStorage.removeItem("from_onboarding"),d&&(sessionStorage.setItem("highlight_integration",d),setTimeout(()=>{sessionStorage.removeItem("highlight_integration")},5e3))}},[s]);const i=async()=>{await I.auth.signOut(),s("/login")},o=l=>l==="/dashboard"?n.pathname===l:n.pathname.startsWith(l),c=l=>{s(l),r(!1)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:`fixed inset-0 bg-gray-800/60 backdrop-blur-sm z-40 lg:hidden ${t?"block":"hidden"}`,onClick:()=>r(!1)}),a.jsxs("aside",{className:`fixed top-0 left-0 bottom-0 w-64 bg-white border-r border-gray-200 z-50 lg:z-0 transform transition-transform duration-200 ease-in-out ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[a.jsxs("div",{className:"flex items-center h-14 px-4 border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>c("/dashboard"),className:"flex items-center space-x-1",children:[a.jsx(Zn,{size:"sm",className:"w-10 h-10"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ProduckAI"})]}),a.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-md text-gray-500 hover:text-gray-900 lg:hidden ml-auto",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-col h-[calc(100vh-3.5rem)] overflow-y-auto",children:[a.jsxs("nav",{className:"flex-1 px-2 py-3",children:[a.jsx("div",{className:"space-y-0.5",children:Yw.map(l=>{const u=o(l.href);return a.jsxs("button",{onClick:()=>c(l.href),className:`group flex w-full items-center px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-[#00A0C1]/5 text-[#00A0C1]":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(l.icon,{className:`w-5 h-5 mr-3 ${u?"text-[#00A0C1]":"text-gray-400 group-hover:text-gray-500"}`}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"font-medium",children:l.name}),u&&a.jsx("p",{className:"text-xs text-[#00A0C1] mt-0.5",children:l.description})]})]},l.name)})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Data Sources"}),a.jsx("div",{className:"mt-1 space-y-0.5",children:Qw.map(l=>{const u=o(l.href);return a.jsxs("button",{onClick:()=>c(l.href),className:`group flex w-full items-center px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-[#00A0C1]/5 text-[#00A0C1]":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(l.icon,{className:`w-5 h-5 mr-3 ${u?"text-[#00A0C1]":"text-gray-400 group-hover:text-gray-500"}`}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"font-medium",children:l.name}),u&&a.jsx("p",{className:"text-xs text-[#00A0C1] mt-0.5",children:l.description})]})]},l.name)})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Settings & Tools"}),a.jsx("div",{className:"mt-1 space-y-0.5",children:Zw.map(l=>{const u=o(l.href);return a.jsxs("button",{onClick:()=>c(l.href),className:`group flex w-full items-center px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-[#00A0C1]/5 text-[#00A0C1]":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(l.icon,{className:`w-5 h-5 mr-3 ${u?"text-[#00A0C1]":"text-gray-400 group-hover:text-gray-500"}`}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"font-medium",children:l.name}),u&&a.jsx("p",{className:"text-xs text-[#00A0C1] mt-0.5",children:l.description})]})]},l.name)})})]})]}),a.jsx("div",{className:"p-3 border-t border-gray-200",children:a.jsxs("button",{onClick:i,className:"flex w-full items-center px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(Ui,{className:"w-5 h-5 mr-3"}),"Sign Out"]})})]})]}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsx("header",{className:"sticky top-0 z-10 flex items-center h-14 bg-white border-b border-gray-200 px-4",children:a.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-md text-gray-500 hover:text-gray-900 lg:hidden",children:a.jsx(Dw,{className:"w-5 h-5"})})}),a.jsx("main",{className:"p-6",children:a.jsx("div",{className:"max-w-[1400px] mx-auto",children:e})})]})]})}function Va({title:e,value:t,change:r,icon:n,onClick:s}){return a.jsxs("div",{className:`bg-white p-6 rounded-xl border border-gray-200 transition-all ${s?"cursor-pointer hover:border-blue-300 hover:shadow-md":""}`,onClick:s,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(n,{className:"w-8 h-8 text-blue-600"}),r&&a.jsxs("span",{className:"text-sm font-medium text-green-600 flex items-center",children:[r,a.jsx(E0,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-4",children:t}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e})]})}function e2({filters:e,onChange:t}){return a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pa,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.dateRange,onChange:r=>t({...e,dateRange:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.customerSegment,onChange:r=>t({...e,customerSegment:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Segments"}),a.jsx("option",{value:"smb",children:"SMB"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.source,onChange:r=>t({...e,source:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Sources"}),a.jsx("option",{value:"slack",children:"Slack"}),a.jsx("option",{value:"hubspot",children:"HubSpot"}),a.jsx("option",{value:"document",children:"Documents"})]})]})]})}function t2(){const e=je(),[t,r]=x.useState({totalInsights:0,newInsightsThisWeek:0,totalThemes:0,themesWeekOverWeek:0,totalCustomers:0,totalAcvImpact:0}),[n,s]=x.useState({dateRange:"all",customerSegment:"all",source:"all",themeCategory:"all",minPriorityScore:0}),[i,o]=x.useState([]),[c,l]=x.useState(!0);x.useState(null),x.useEffect(()=>{u(),d()},[n]);const u=async()=>{try{const{data:m,error:v}=await I.from("insights").select("id, created_at");if(v)throw v;const w=new Date;w.setDate(w.getDate()-7);const y=(m==null?void 0:m.filter(_=>new Date(_.created_at)>w))||[],{data:b,error:f}=await I.from("themes").select("id, created_at");if(f)throw f;const{data:p,error:g}=await I.from("insight_customers").select("customer_id, acv_impact",{count:"exact",head:!1});if(g)throw g;const j=new Set(p==null?void 0:p.map(_=>_.customer_id)),N=(p==null?void 0:p.reduce((_,k)=>_+(k.acv_impact||0),0))||0;r({totalInsights:(m==null?void 0:m.length)||0,newInsightsThisWeek:y.length,totalThemes:(b==null?void 0:b.length)||0,themesWeekOverWeek:Math.round(((b==null?void 0:b.length)||0)/100*15),totalCustomers:j.size,totalAcvImpact:N})}catch(m){console.error("Error loading dashboard metrics:",m)}finally{l(!1)}},d=async()=>{try{const m=localStorage.getItem("importantInsights");if(!m){o([]);return}const v=JSON.parse(m);if(!v.length){o([]);return}const{data:w,error:y}=await I.from("insights").select("id, content, source, sentiment, created_at").in("id",v);if(y)throw y;o(w||[])}catch(m){console.error("Error loading important insights:",m)}},h=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(m);return a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Product Feedback Overview"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Track and analyze customer feedback across your product areas."})]}),a.jsx(e2,{filters:n,onChange:s}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Va,{title:"Voice of Customer",value:t.totalInsights,change:"+12.5%",icon:Le,onClick:()=>e("/dashboard/insights")}),a.jsx(Va,{title:"Themes Identified",value:t.totalThemes,change:`+${t.themesWeekOverWeek}%`,icon:Yn,onClick:()=>e("/dashboard/themes")}),a.jsx(Va,{title:"Customer Impact",value:h(t.totalAcvImpact),icon:qe}),a.jsx(Va,{title:"New This Week",value:t.newInsightsThisWeek,icon:ko,onClick:()=>e("/dashboard/trends")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("button",{onClick:()=>e("/dashboard/insights"),className:"p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors flex items-center gap-3",children:[a.jsx(na,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-blue-900",children:"Filter Insights"})]}),a.jsxs("button",{onClick:()=>e("/dashboard/themes"),className:"p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors flex items-center gap-3",children:[a.jsx(Yn,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"font-medium text-purple-900",children:"View Themes"})]}),a.jsxs("button",{onClick:()=>e("/dashboard/data-sources"),className:"p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors flex items-center gap-3",children:[a.jsx(na,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-900",children:"Add Data Source"})]}),a.jsxs("button",{onClick:()=>e("/dashboard/pods"),className:"p-4 bg-orange-50 rounded-xl hover:bg-orange-100 transition-colors flex items-center gap-3",children:[a.jsx(qe,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-900",children:"Manage Workspaces"})]})]}),i.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Fi,{className:"w-5 h-5 text-amber-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Important Insights"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 divide-y divide-gray-100",children:i.map(m=>a.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>e("/dashboard/insights"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${m.sentiment==="positive"?"bg-green-50 text-green-700":m.sentiment==="negative"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:m.sentiment.charAt(0).toUpperCase()+m.sentiment.slice(1)}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:m.source})]}),a.jsx("p",{className:"text-sm text-gray-900",children:m.content})]},m.id))})]})]})})}function r2(){const e=je(),[t,r]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[c,l]=x.useState(!1),[u,d]=x.useState({name:"",description:""});x.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:w,error:y}=await I.from("pods").select(`
          *,
          pod_members!pod_members_pod_id_fkey (count),
          pod_insights!pod_insights_pod_id_fkey (count)
        `).order("created_at",{ascending:!1});if(y)throw y;const b=(w==null?void 0:w.map(f=>{var p,g,j,N;return{...f,_pod_members_count:((g=(p=f.pod_members)==null?void 0:p[0])==null?void 0:g.count)||0,_pod_insights_count:((N=(j=f.pod_insights)==null?void 0:j[0])==null?void 0:N.count)||0}}))||[];r(b),s(!1)}catch(w){console.error("Error loading pods:",w),o("Failed to load workspaces"),s(!1)}},m=async()=>{if(u.name.trim())try{s(!0),o(null);const{data:{user:w},error:y}=await I.auth.getUser();if(y)throw y;if(!w)throw new Error("No user found");const{data:b,error:f}=await I.from("pods").insert({name:u.name.trim(),description:u.description.trim(),created_by:w.id}).select().single();if(f)throw f;const{error:p}=await I.from("pod_members").insert({pod_id:b.id,user_id:w.id,role:"owner"});if(p)throw p;d({name:"",description:""}),l(!1),await h()}catch(w){console.error("Error creating pod:",w),o(w instanceof Error?w.message:"Failed to create workspace")}finally{s(!1)}},v=w=>{e(`/dashboard/pods?pod=${w}`)};return n&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workspaces"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Manage your collaborative workspaces for your teams."})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors flex items-center gap-2",children:[a.jsx(qe,{className:"w-5 h-5"}),"Create Workspace"]})})]}),i&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:i})]}),c&&a.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border border-purple-200 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"New Workspace"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:u.name,onChange:w=>d({...u,name:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., Mobile Team, Web Platform"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:u.description,onChange:w=>d({...u,description:w.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"What does this workspace focus on?"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{d({name:"",description:""}),l(!1)},className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:!u.name.trim()||n,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):"Create Workspace"})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"All Workspaces"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?a.jsx("div",{className:"col-span-full p-8 text-center bg-white rounded-xl border border-gray-200",children:a.jsx("p",{className:"text-gray-600",children:"No workspaces found. Create one to get started!"})}):t.map(w=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>v(w.id),children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.name}),w.description&&a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:w.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"w-4 h-4"}),w._pod_members_count]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Le,{className:"w-4 h-4"}),w._pod_insights_count]})]}),a.jsx("button",{onClick:y=>{y.stopPropagation(),v(w.id)},className:"text-purple-600 hover:text-purple-800",children:a.jsx(xa,{className:"w-5 h-5"})})]})]},w.id))})]})]})}const n2=e=>e>=80?"High":e>=60?"Medium":"Low",s2=e=>e>=80?"bg-red-50 text-red-700":e>=60?"bg-yellow-50 text-yellow-700":"bg-green-50 text-green-700",a2=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(e);function i2(){const e=je(),[t,r]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[c,l]=x.useState(!1),[u,d]=x.useState({name:"",description:"",priority_score:0}),[h,m]=x.useState(null),[v,w]=x.useState({});x.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0),o(null);const{data:{session:j},error:N}=await I.auth.getSession();if(N)throw N;if(!(j!=null&&j.user))throw new Error("No user found");const{data:_,error:k}=await I.from("themes").select("*").order("priority_score",{ascending:!1}).order("created_at",{ascending:!1});if(k)throw k;r(_||[]);const C={},{data:D,error:F}=await I.from("insight_themes").select(`
          theme_id,
          insight:insights (
            id,
            insight_customers (
              customer_id,
              acv_impact
            )
          )
        `);if(F)throw F;console.log(D),D==null||D.forEach(({theme_id:W,insight:$})=>{var P;if(!$)return;C[W]||(C[W]={totalMentions:0,uniqueCustomers:new Set,totalAcv:0});const q=C[W];q.totalMentions+=1,(P=$.insight_customers)==null||P.forEach(Y=>{Y!=null&&Y.customer_id&&(q.uniqueCustomers.add(Y.customer_id),q.totalAcv+=Y.acv_impact||0)})});const J={};for(const W in C)J[W]={totalMentions:C[W].totalMentions,uniqueCustomers:C[W].uniqueCustomers.size,totalAcv:C[W].totalAcv};w(J)}catch(j){console.error("Error loading data:",j),o(j instanceof Error?j.message:"An unexpected error occurred")}finally{s(!1)}},b=async()=>{if(u.name.trim())try{s(!0),o(null);const{data:{session:j},error:N}=await I.auth.getSession();if(N)throw N;if(!(j!=null&&j.user))throw new Error("No user found");const{error:_}=await I.from("themes").insert([{name:u.name.trim(),description:u.description.trim(),priority_score:u.priority_score,status:"active",is_auto_generated:!1,created_by:j.user.id}]);if(_)throw _;d({name:"",description:"",priority_score:0}),l(!1),await y()}catch(j){console.error("Error creating theme:",j),o(j instanceof Error?j.message:"An unexpected error occurred")}finally{s(!1)}},f=async()=>{if(!(!h||!h.name.trim()))try{s(!0),o(null);const{error:j}=await I.from("themes").update({name:h.name.trim(),description:h.description.trim(),priority_score:h.priority_score}).eq("id",h.id);if(j)throw j;m(null),await y()}catch(j){console.error("Error updating theme:",j),o(j instanceof Error?j.message:"An unexpected error occurred")}finally{s(!1)}},p=async j=>{if(window.confirm("Are you sure you want to delete this theme?"))try{s(!0),o(null);const{error:N}=await I.from("themes").delete().eq("id",j);if(N)throw N;await y()}catch(N){console.error("Error deleting theme:",N),o(N instanceof Error?N.message:"An unexpected error occurred")}finally{s(!1)}},g=j=>{e(`/dashboard/insights?theme=${j}`)};return n&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ie,{className:"w-8 h-8 text-blue-600 animate-spin"})}):a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Themes"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Discover and manage feedback themes across your products. Themes are automatically generated from insights and can be manually created."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Add Theme"]})]}),i&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:i})]}),c&&a.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border border-blue-200 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"New Theme"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Performance Issues, Feature Requests"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:u.description,onChange:j=>d({...u,description:j.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of this theme"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority Score (0-100)"}),a.jsx("input",{type:"number",min:"0",max:"100",value:u.priority_score,onChange:j=>d({...u,priority_score:parseInt(j.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{d({name:"",description:"",priority_score:0}),l(!1)},className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:b,disabled:!u.name.trim()||n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):"Create"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.length===0?a.jsx("div",{className:"p-8 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No themes found. Themes will be automatically generated as insights are added, or you can create them manually."})}):a.jsx("div",{className:"divide-y divide-gray-200",children:t.map(j=>{var N,_,k;return a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>g(j.id),children:(h==null?void 0:h.id)===j.id?a.jsxs("div",{className:"space-y-4",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:C=>m({...h,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:h.description,onChange:C=>m({...h,description:C.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority Score (0-100)"}),a.jsx("input",{type:"number",min:"0",max:"100",value:h.priority_score,onChange:C=>m({...h,priority_score:parseInt(C.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:f,disabled:!h.name.trim()||n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[j.name,j.is_auto_generated&&a.jsx(Vi,{className:"w-4 h-4 text-blue-500"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("span",{className:`px-2 py-1 text-sm rounded ${s2(j.priority_score)}`,children:[n2(j.priority_score)," ","Priority"]})})]}),a.jsxs("div",{className:"flex items-center gap-2",onClick:C=>C.stopPropagation(),children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),m(j)},className:"p-2 text-gray-500 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:a.jsx(T0,{className:"w-5 h-5"})}),a.jsx("button",{onClick:C=>{C.stopPropagation(),p(j.id)},className:"p-2 text-red-500 hover:text-red-700 rounded-lg hover:bg-red-50",children:a.jsx(No,{className:"w-5 h-5"})})]})]}),j.description&&a.jsx("p",{className:"mt-2 text-gray-600 mb-4",children:j.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[a.jsx(Le,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Total Mentions"})]}),a.jsx("div",{className:"text-2xl font-bold text-purple-900",children:((N=v[j.id])==null?void 0:N.totalMentions)||0})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"ACV Impact"})]}),a.jsx("div",{className:"text-2xl font-bold text-green-900",children:a2(((_=v[j.id])==null?void 0:_.totalAcv)||0)})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[a.jsx(qe,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Customers"})]}),a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:((k=v[j.id])==null?void 0:k.uniqueCustomers)||0})]})]})]})},j.id)})})})]})}const rf=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(e);function rd({insight:e,onClick:t,expanded:r=!1,onMarkImportant:n,onShareWithPod:s,onAddToBacklog:i}){const o=e.customers.reduce((c,l)=>c+l.acv_impact,0);return a.jsx("div",{className:`bg-white rounded-xl border border-gray-200 overflow-hidden transition-all ${r?"":"hover:border-blue-300 cursor-pointer"}`,onClick:()=>!r&&(t==null?void 0:t()),children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-1 text-sm rounded ${e.sentiment==="positive"?"bg-green-50 text-green-700":e.sentiment==="negative"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:typeof e.sentiment=="string"?e.sentiment.charAt(0).toUpperCase()+e.sentiment.slice(1):"Unknown"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:e.source}),e.isImportant&&a.jsxs("span",{className:"text-sm text-amber-600 bg-amber-50 px-2 py-0.5 rounded flex items-center gap-1",children:[a.jsx(Fi,{className:"w-3 h-3"}),"Important"]})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.content}),e.themes.length>0&&a.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[a.jsx(tn,{className:"w-4 h-4 text-gray-400"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.themes.map(c=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-sm rounded",children:c.name},c.id))})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(qe,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",children:e.customers.length}),a.jsx("div",{className:"text-sm",children:"Customers"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",children:rf(o)}),a.jsx("div",{className:"text-sm",children:"ACV Impact"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsxs("button",{onClick:c=>{c.stopPropagation(),n==null||n(e.id)},className:`px-3 py-1.5 rounded hover:bg-amber-100 transition-colors flex items-center gap-1.5 text-sm ${e.isImportant?"bg-amber-100 text-amber-700":"bg-amber-50 text-amber-700"}`,children:[a.jsx(Fi,{className:"w-4 h-4"}),e.isImportant?"Important":"Mark Important"]}),a.jsxs("button",{onClick:c=>{c.stopPropagation(),s==null||s(e.id)},className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm",children:[a.jsx(xa,{className:"w-4 h-4"}),"Share"]}),a.jsxs("button",{onClick:c=>{c.stopPropagation(),i==null||i()},className:"px-3 py-1.5 bg-purple-50 text-purple-700 rounded hover:bg-purple-100 transition-colors flex items-center gap-1.5 text-sm",children:[a.jsx(P0,{className:"w-4 h-4"}),"Backlog"]})]}),r&&a.jsxs("div",{className:"mt-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Context"}),a.jsx("div",{className:"space-y-3",children:e.sources.map((c,l)=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.type}),c.url&&a.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",onClick:u=>u.stopPropagation(),children:[a.jsx(wo,{className:"w-4 h-4"}),"View Source"]})]}),a.jsx("p",{className:"text-gray-600 text-sm whitespace-pre-wrap",children:c.content})]},l))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Customers"}),a.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"ACV Impact"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.customers.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.customer_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:rf(c.acv_impact)})]},c.customer_id))})]})})]})]})]})})}function o2({insights:e,onInsightClick:t,selectedInsightId:r,onMarkImportant:n,onShareWithPod:s}){return a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsx(rd,{insight:i,onClick:()=>t(i),expanded:i.id===r,onMarkImportant:n,onShareWithPod:s,onAddToBacklog:()=>{}},i.id))})}const l2=e=>e>=80?"High":e>=60?"Medium":"Low",c2=e=>e>=80?"bg-red-50 text-red-700":e>=60?"bg-yellow-50 text-yellow-700":"bg-green-50 text-green-700";function u2({themeId:e,themeName:t,onBack:r}){const[n,s]=x.useState(!0),[i,o]=x.useState(null),[c,l]=x.useState({totalMentions:0,acvImpact:0,priorityScore:0,insights:[]});x.useEffect(()=>{if(!e){console.warn("⛔ themeId is undefined, skipping loadThemeMetrics");return}console.log("🚀 useEffect triggered for themeId:",e),u()},[e]);const u=async()=>{if(!e||e==="undefined"){console.warn("⛔ Skipping loadThemeMetrics, themeId is:",e);return}console.log("🚨 Inside loadThemeMetrics with themeId:",e);try{s(!0),o(null);const{data:m,error:v}=await I.from("themes").select("priority_score").eq("id",e).single();if(console.log("🎯 theme data:",m,"🛑 error:",v),v){if(v.code==="PGRST116"){o(`Theme with ID ${e} not found`),s(!1);return}throw v}const{data:w,error:y}=await I.from("insight_themes").select(`
        insight:insights (
          id,
          content,
          source,
          sentiment,
          created_at,
          insight_customers (
            customer_id,
            customer_name,
            acv_impact
          )
        )
      `).eq("theme_id",e);if(console.log("🔗 insightThemeLinks:",w),console.log("🚨 linkError:",y),y)throw y;if(!w||w.length===0){l({totalMentions:0,acvImpact:0,priorityScore:(m==null?void 0:m.priority_score)||0,insights:[]});return}const b=w.map(({insight:p})=>({id:p.id,content:p.content,source:p.source,sentiment:p.sentiment,created_at:p.created_at,customers:p.insight_customers||[],sources:[{type:p.source,content:p.content}],themes:[{id:e,name:t}]})),f=b.reduce((p,g)=>p+g.customers.reduce((j,N)=>j+(N.acv_impact||0),0),0);l({totalMentions:b.length,acvImpact:f,priorityScore:(m==null?void 0:m.priority_score)||0,insights:b})}catch(m){console.error("❌ Error loading theme metrics:",m),o(m instanceof Error?m.message:"An unexpected error occurred")}finally{s(!1)}},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(m),h=async()=>{try{const{error:m}=await I.from("themes").update({priority_score:100}).eq("id",e);if(m)throw m;u()}catch(m){console.error("Error updating theme priority:",m),o(m instanceof Error?m.message:"Failed to update theme priority")}};return n?a.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:a.jsx(ie,{className:"w-8 h-8 text-blue-600 animate-spin"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),a.jsxs("p",{className:"text-gray-600",children:[c.insights.length," insights found under this theme"]})]})]}),i&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:i})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(Le,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Total Mentions"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.totalMentions})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"ACV Impact"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d(c.acvImpact)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(ef,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Priority"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.priorityScore}),a.jsx("span",{className:`px-2 py-1 text-sm rounded ${c2(c.priorityScore)}`,children:l2(c.priorityScore)})]})]})]}),a.jsxs("div",{className:"flex gap-4 mb-8",children:[a.jsxs("button",{onClick:h,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-2",children:[a.jsx(ef,{className:"w-5 h-5"}),"Tag as Critical"]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[a.jsx(xa,{className:"w-5 h-5"}),"Share with Workspace"]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors flex items-center gap-2",children:[a.jsx(P0,{className:"w-5 h-5"}),"Add to Backlog"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Insights"}),a.jsx("div",{className:"space-y-4",children:c.insights.length===0?a.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No insights found for this theme."})}):c.insights.map(m=>a.jsx(rd,{insight:m,expanded:!1,onTagCritical:()=>{},onShareWithPod:()=>{},onAddToBacklog:()=>{}},m.id))})]})]})}function ln(e){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(e)}function d2(e,t){if(ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0(e){var t=d2(e,"string");return ln(t)=="symbol"?t:t+""}function ks(e,t,r){return(t=R0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nf(Object(r),!0).forEach(function(n){ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h2(e){if(Array.isArray(e))return e}function f2(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Fc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function M0(e,t){if(e){if(typeof e=="string")return Fc(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fc(e,t):void 0}}function m2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e,t){return h2(e)||f2(e,t)||M0(e,t)||m2()}function p2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fr(e,t){if(e==null)return{};var r,n,s=p2(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var g2=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function x2(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,i=e.defaultValue,o=i===void 0?null:i,c=e.inputValue,l=e.menuIsOpen,u=e.onChange,d=e.onInputChange,h=e.onMenuClose,m=e.onMenuOpen,v=e.value,w=fr(e,g2),y=x.useState(c!==void 0?c:r),b=sr(y,2),f=b[0],p=b[1],g=x.useState(l!==void 0?l:s),j=sr(g,2),N=j[0],_=j[1],k=x.useState(v!==void 0?v:o),C=sr(k,2),D=C[0],F=C[1],J=x.useCallback(function(R,z){typeof u=="function"&&u(R,z),F(R)},[u]),W=x.useCallback(function(R,z){var K;typeof d=="function"&&(K=d(R,z)),p(K!==void 0?K:R)},[d]),$=x.useCallback(function(){typeof m=="function"&&m(),_(!0)},[m]),q=x.useCallback(function(){typeof h=="function"&&h(),_(!1)},[h]),P=c!==void 0?c:f,Y=l!==void 0?l:N,le=v!==void 0?v:D;return Z(Z({},w),{},{inputValue:P,menuIsOpen:Y,onChange:J,onInputChange:W,onMenuClose:q,onMenuOpen:$,value:le})}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(null,arguments)}function v2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R0(n.key),n)}}function y2(e,t,r){return t&&sf(e.prototype,t),r&&sf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uc(e,t){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uc(e,t)}function b2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uc(e,t)}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(e)}function L0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L0=function(){return!!e})()}function w2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j2(e,t){if(t&&(ln(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w2(e)}function N2(e){var t=L0();return function(){var r,n=zi(e);if(t){var s=zi(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return j2(this,r)}}function k2(e){if(Array.isArray(e))return Fc(e)}function S2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nd(e){return k2(e)||S2(e)||M0(e)||_2()}var C2=!1;function E2(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function P2(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var T2=function(){function e(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!C2:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(P2(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=E2(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Je="-ms-",Bi="-moz-",ce="-webkit-",$0="comm",sd="rule",ad="decl",I2="@import",D0="@keyframes",O2="@layer",A2=Math.abs,_o=String.fromCharCode,R2=Object.assign;function M2(e,t){return Be(e,0)^45?(((t<<2^Be(e,0))<<2^Be(e,1))<<2^Be(e,2))<<2^Be(e,3):0}function F0(e){return e.trim()}function L2(e,t){return(e=t.exec(e))?e[0]:e}function ue(e,t,r){return e.replace(t,r)}function Vc(e,t){return e.indexOf(t)}function Be(e,t){return e.charCodeAt(t)|0}function aa(e,t,r){return e.slice(t,r)}function Ht(e){return e.length}function id(e){return e.length}function za(e,t){return t.push(e),e}function $2(e,t){return e.map(t).join("")}var Co=1,Xn=1,U0=0,dt=0,Oe=0,os="";function Eo(e,t,r,n,s,i,o){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:Co,column:Xn,length:o,return:""}}function xs(e,t){return R2(Eo("",null,null,"",null,null,0),e,{length:-e.length},t)}function D2(){return Oe}function F2(){return Oe=dt>0?Be(os,--dt):0,Xn--,Oe===10&&(Xn=1,Co--),Oe}function gt(){return Oe=dt<U0?Be(os,dt++):0,Xn++,Oe===10&&(Xn=1,Co++),Oe}function Jt(){return Be(os,dt)}function oi(){return dt}function va(e,t){return aa(os,e,t)}function ia(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V0(e){return Co=Xn=1,U0=Ht(os=e),dt=0,[]}function z0(e){return os="",e}function li(e){return F0(va(dt-1,zc(e===91?e+2:e===40?e+1:e)))}function U2(e){for(;(Oe=Jt())&&Oe<33;)gt();return ia(e)>2||ia(Oe)>3?"":" "}function V2(e,t){for(;--t&&gt()&&!(Oe<48||Oe>102||Oe>57&&Oe<65||Oe>70&&Oe<97););return va(e,oi()+(t<6&&Jt()==32&&gt()==32))}function zc(e){for(;gt();)switch(Oe){case e:return dt;case 34:case 39:e!==34&&e!==39&&zc(Oe);break;case 40:e===41&&zc(e);break;case 92:gt();break}return dt}function z2(e,t){for(;gt()&&e+Oe!==57;)if(e+Oe===84&&Jt()===47)break;return"/*"+va(t,dt-1)+"*"+_o(e===47?e:gt())}function B2(e){for(;!ia(Jt());)gt();return va(e,dt)}function H2(e){return z0(ci("",null,null,null,[""],e=V0(e),0,[0],e))}function ci(e,t,r,n,s,i,o,c,l){for(var u=0,d=0,h=o,m=0,v=0,w=0,y=1,b=1,f=1,p=0,g="",j=s,N=i,_=n,k=g;b;)switch(w=p,p=gt()){case 40:if(w!=108&&Be(k,h-1)==58){Vc(k+=ue(li(p),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:k+=li(p);break;case 9:case 10:case 13:case 32:k+=U2(w);break;case 92:k+=V2(oi()-1,7);continue;case 47:switch(Jt()){case 42:case 47:za(W2(z2(gt(),oi()),t,r),l);break;default:k+="/"}break;case 123*y:c[u++]=Ht(k)*f;case 125*y:case 59:case 0:switch(p){case 0:case 125:b=0;case 59+d:f==-1&&(k=ue(k,/\f/g,"")),v>0&&Ht(k)-h&&za(v>32?of(k+";",n,r,h-1):of(ue(k," ","")+";",n,r,h-2),l);break;case 59:k+=";";default:if(za(_=af(k,t,r,u,d,s,c,g,j=[],N=[],h),i),p===123)if(d===0)ci(k,t,_,_,j,i,h,c,N);else switch(m===99&&Be(k,3)===110?100:m){case 100:case 108:case 109:case 115:ci(e,_,_,n&&za(af(e,_,_,0,0,s,c,g,s,j=[],h),N),s,N,h,c,n?j:N);break;default:ci(k,_,_,_,[""],N,0,c,N)}}u=d=v=0,y=f=1,g=k="",h=o;break;case 58:h=1+Ht(k),v=w;default:if(y<1){if(p==123)--y;else if(p==125&&y++==0&&F2()==125)continue}switch(k+=_o(p),p*y){case 38:f=d>0?1:(k+="\f",-1);break;case 44:c[u++]=(Ht(k)-1)*f,f=1;break;case 64:Jt()===45&&(k+=li(gt())),m=Jt(),d=h=Ht(g=k+=B2(oi())),p++;break;case 45:w===45&&Ht(k)==2&&(y=0)}}return i}function af(e,t,r,n,s,i,o,c,l,u,d){for(var h=s-1,m=s===0?i:[""],v=id(m),w=0,y=0,b=0;w<n;++w)for(var f=0,p=aa(e,h+1,h=A2(y=o[w])),g=e;f<v;++f)(g=F0(y>0?m[f]+" "+p:ue(p,/&\f/g,m[f])))&&(l[b++]=g);return Eo(e,t,r,s===0?sd:c,l,u,d)}function W2(e,t,r){return Eo(e,t,r,$0,_o(D2()),aa(e,2,-2),0)}function of(e,t,r,n){return Eo(e,t,r,ad,aa(e,0,n),aa(e,n+1,-1),n)}function Un(e,t){for(var r="",n=id(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function q2(e,t,r,n){switch(e.type){case O2:if(e.children.length)break;case I2:case ad:return e.return=e.return||e.value;case $0:return"";case D0:return e.return=e.value+"{"+Un(e.children,n)+"}";case sd:e.value=e.props.join(",")}return Ht(r=Un(e.children,n))?e.return=e.value+"{"+r+"}":""}function K2(e){var t=id(e);return function(r,n,s,i){for(var o="",c=0;c<t;c++)o+=e[c](r,n,s,i)||"";return o}}function G2(e){return function(t){t.root||(t=t.return)&&e(t)}}function J2(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Y2=function(t,r,n){for(var s=0,i=0;s=i,i=Jt(),s===38&&i===12&&(r[n]=1),!ia(i);)gt();return va(t,dt)},Q2=function(t,r){var n=-1,s=44;do switch(ia(s)){case 0:s===38&&Jt()===12&&(r[n]=1),t[n]+=Y2(dt-1,r,n);break;case 2:t[n]+=li(s);break;case 4:if(s===44){t[++n]=Jt()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=_o(s)}while(s=gt());return t},Z2=function(t,r){return z0(Q2(V0(t),r))},lf=new WeakMap,X2=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!lf.get(n))&&!s){lf.set(t,!0);for(var i=[],o=Z2(r,i),c=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<c.length;d++,u++)t.props[u]=i[l]?o[l].replace(/&\f/g,c[d]):c[d]+" "+o[l]}}},ej=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function B0(e,t){switch(M2(e,t)){case 5103:return ce+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ce+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ce+e+Bi+e+Je+e+e;case 6828:case 4268:return ce+e+Je+e+e;case 6165:return ce+e+Je+"flex-"+e+e;case 5187:return ce+e+ue(e,/(\w+).+(:[^]+)/,ce+"box-$1$2"+Je+"flex-$1$2")+e;case 5443:return ce+e+Je+"flex-item-"+ue(e,/flex-|-self/,"")+e;case 4675:return ce+e+Je+"flex-line-pack"+ue(e,/align-content|flex-|-self/,"")+e;case 5548:return ce+e+Je+ue(e,"shrink","negative")+e;case 5292:return ce+e+Je+ue(e,"basis","preferred-size")+e;case 6060:return ce+"box-"+ue(e,"-grow","")+ce+e+Je+ue(e,"grow","positive")+e;case 4554:return ce+ue(e,/([^-])(transform)/g,"$1"+ce+"$2")+e;case 6187:return ue(ue(ue(e,/(zoom-|grab)/,ce+"$1"),/(image-set)/,ce+"$1"),e,"")+e;case 5495:case 3959:return ue(e,/(image-set\([^]*)/,ce+"$1$`$1");case 4968:return ue(ue(e,/(.+:)(flex-)?(.*)/,ce+"box-pack:$3"+Je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ce+e+e;case 4095:case 3583:case 4068:case 2532:return ue(e,/(.+)-inline(.+)/,ce+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ht(e)-1-t>6)switch(Be(e,t+1)){case 109:if(Be(e,t+4)!==45)break;case 102:return ue(e,/(.+:)(.+)-([^]+)/,"$1"+ce+"$2-$3$1"+Bi+(Be(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Vc(e,"stretch")?B0(ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Be(e,t+1)!==115)break;case 6444:switch(Be(e,Ht(e)-3-(~Vc(e,"!important")&&10))){case 107:return ue(e,":",":"+ce)+e;case 101:return ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ce+(Be(e,14)===45?"inline-":"")+"box$3$1"+ce+"$2$3$1"+Je+"$2box$3")+e}break;case 5936:switch(Be(e,t+11)){case 114:return ce+e+Je+ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ce+e+Je+ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ce+e+Je+ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ce+e+Je+e+e}return e}var tj=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case ad:t.return=B0(t.value,t.length);break;case D0:return Un([xs(t,{value:ue(t.value,"@","@"+ce)})],s);case sd:if(t.length)return $2(t.props,function(i){switch(L2(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Un([xs(t,{props:[ue(i,/:(read-\w+)/,":"+Bi+"$1")]})],s);case"::placeholder":return Un([xs(t,{props:[ue(i,/:(plac\w+)/,":"+ce+"input-$1")]}),xs(t,{props:[ue(i,/:(plac\w+)/,":"+Bi+"$1")]}),xs(t,{props:[ue(i,/:(plac\w+)/,Je+"input-$1")]})],s)}return""})}},rj=[tj],nj=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=t.stylisPlugins||rj,i={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),f=1;f<b.length;f++)i[b[f]]=!0;c.push(y)});var l,u=[X2,ej];{var d,h=[q2,G2(function(y){d.insert(y)})],m=K2(u.concat(s,h)),v=function(b){return Un(H2(b),m)};l=function(b,f,p,g){d=p,v(b?b+"{"+f.styles+"}":f.styles),g&&(w.inserted[f.name]=!0)}}var w={key:r,sheet:new T2({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return w.sheet.hydrate(c),w},H0={exports:{}},he={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=typeof Symbol=="function"&&Symbol.for,od=Ve?Symbol.for("react.element"):60103,ld=Ve?Symbol.for("react.portal"):60106,Po=Ve?Symbol.for("react.fragment"):60107,To=Ve?Symbol.for("react.strict_mode"):60108,Io=Ve?Symbol.for("react.profiler"):60114,Oo=Ve?Symbol.for("react.provider"):60109,Ao=Ve?Symbol.for("react.context"):60110,cd=Ve?Symbol.for("react.async_mode"):60111,Ro=Ve?Symbol.for("react.concurrent_mode"):60111,Mo=Ve?Symbol.for("react.forward_ref"):60112,Lo=Ve?Symbol.for("react.suspense"):60113,sj=Ve?Symbol.for("react.suspense_list"):60120,$o=Ve?Symbol.for("react.memo"):60115,Do=Ve?Symbol.for("react.lazy"):60116,aj=Ve?Symbol.for("react.block"):60121,ij=Ve?Symbol.for("react.fundamental"):60117,oj=Ve?Symbol.for("react.responder"):60118,lj=Ve?Symbol.for("react.scope"):60119;function bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case od:switch(e=e.type,e){case cd:case Ro:case Po:case Io:case To:case Lo:return e;default:switch(e=e&&e.$$typeof,e){case Ao:case Mo:case Do:case $o:case Oo:return e;default:return t}}case ld:return t}}}function W0(e){return bt(e)===Ro}he.AsyncMode=cd;he.ConcurrentMode=Ro;he.ContextConsumer=Ao;he.ContextProvider=Oo;he.Element=od;he.ForwardRef=Mo;he.Fragment=Po;he.Lazy=Do;he.Memo=$o;he.Portal=ld;he.Profiler=Io;he.StrictMode=To;he.Suspense=Lo;he.isAsyncMode=function(e){return W0(e)||bt(e)===cd};he.isConcurrentMode=W0;he.isContextConsumer=function(e){return bt(e)===Ao};he.isContextProvider=function(e){return bt(e)===Oo};he.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===od};he.isForwardRef=function(e){return bt(e)===Mo};he.isFragment=function(e){return bt(e)===Po};he.isLazy=function(e){return bt(e)===Do};he.isMemo=function(e){return bt(e)===$o};he.isPortal=function(e){return bt(e)===ld};he.isProfiler=function(e){return bt(e)===Io};he.isStrictMode=function(e){return bt(e)===To};he.isSuspense=function(e){return bt(e)===Lo};he.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Po||e===Ro||e===Io||e===To||e===Lo||e===sj||typeof e=="object"&&e!==null&&(e.$$typeof===Do||e.$$typeof===$o||e.$$typeof===Oo||e.$$typeof===Ao||e.$$typeof===Mo||e.$$typeof===ij||e.$$typeof===oj||e.$$typeof===lj||e.$$typeof===aj)};he.typeOf=bt;H0.exports=he;var cj=H0.exports,q0=cj,uj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K0={};K0[q0.ForwardRef]=uj;K0[q0.Memo]=dj;var hj=!0;function fj(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var G0=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||hj===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},mj=function(t,r,n){G0(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function pj(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var gj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xj=!1,vj=/[A-Z]|^ms/g,yj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J0=function(t){return t.charCodeAt(1)===45},cf=function(t){return t!=null&&typeof t!="boolean"},Nl=J2(function(e){return J0(e)?e:e.replace(vj,"-$&").toLowerCase()}),uf=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(yj,function(n,s,i){return Wt={name:s,styles:i,next:Wt},s})}return gj[t]!==1&&!J0(t)&&typeof r=="number"&&r!==0?r+"px":r},bj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function oa(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Wt={name:s.name,styles:s.styles,next:Wt},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Wt={name:o.name,styles:o.styles,next:Wt},o=o.next;var c=i.styles+";";return c}return wj(e,t,r)}case"function":{if(e!==void 0){var l=Wt,u=r(e);return Wt=l,oa(e,t,u)}break}}var d=r;return d}function wj(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=oa(e,t,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var c=o;cf(c)&&(n+=Nl(i)+":"+uf(i,c)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&xj)throw new Error(bj);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)cf(o[l])&&(n+=Nl(i)+":"+uf(i,o[l])+";");else{var u=oa(e,t,o);switch(i){case"animation":case"animationName":{n+=Nl(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}var df=/label:\s*([^\s;{]+)\s*(;|$)/g,Wt;function Y0(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";Wt=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=oa(r,t,i);else{var o=i;s+=o[0]}for(var c=1;c<e.length;c++)if(s+=oa(r,t,e[c]),n){var l=i;s+=l[c]}df.lastIndex=0;for(var u="",d;(d=df.exec(s))!==null;)u+="-"+d[1];var h=pj(s)+u;return{name:h,styles:s,next:Wt}}var jj=function(t){return t()},Nj=Il.useInsertionEffect?Il.useInsertionEffect:!1,kj=Nj||jj,Sj=!1,Q0=x.createContext(typeof HTMLElement<"u"?nj({key:"css"}):null);Q0.Provider;var _j=function(t){return x.forwardRef(function(r,n){var s=x.useContext(Q0);return t(r,s,n)})},Cj=x.createContext({}),ud={}.hasOwnProperty,Bc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ej=function(t,r){var n={};for(var s in r)ud.call(r,s)&&(n[s]=r[s]);return n[Bc]=t,n},Pj=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return G0(r,n,s),kj(function(){return mj(r,n,s)}),null},Tj=_j(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[Bc],i=[n],o="";typeof e.className=="string"?o=fj(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var c=Y0(i,void 0,x.useContext(Cj));o+=t.key+"-"+c.name;var l={};for(var u in e)ud.call(e,u)&&u!=="css"&&u!==Bc&&!Sj&&(l[u]=e[u]);return l.className=o,r&&(l.ref=r),x.createElement(x.Fragment,null,x.createElement(Pj,{cache:t,serialized:c,isStringTag:typeof s=="string"}),x.createElement(s,l))}),Ij=Tj,Q=function(t,r){var n=arguments;if(r==null||!ud.call(r,"css"))return x.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=Ij,i[1]=Ej(t,r);for(var o=2;o<s;o++)i[o]=n[o];return x.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Q||(Q={}));function dd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Y0(t)}function Oj(){var e=dd.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Aj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Rj=Math.min,Mj=Math.max,Hi=Math.round,Ba=Math.floor,Wi=e=>({x:e,y:e});function Lj(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Fo(){return typeof window<"u"}function Z0(e){return eg(e)?(e.nodeName||"").toLowerCase():"#document"}function cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function X0(e){var t;return(t=(eg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eg(e){return Fo()?e instanceof Node||e instanceof cr(e).Node:!1}function $j(e){return Fo()?e instanceof Element||e instanceof cr(e).Element:!1}function hd(e){return Fo()?e instanceof HTMLElement||e instanceof cr(e).HTMLElement:!1}function hf(e){return!Fo()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cr(e).ShadowRoot}function tg(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=fd(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function Dj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fj(e){return["html","body","#document"].includes(Z0(e))}function fd(e){return cr(e).getComputedStyle(e)}function Uj(e){if(Z0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hf(e)&&e.host||X0(e);return hf(t)?t.host:t}function rg(e){const t=Uj(e);return Fj(t)?e.ownerDocument?e.ownerDocument.body:e.body:hd(t)&&tg(t)?t:rg(t)}function qi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=rg(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=cr(s);if(i){const c=Hc(o);return t.concat(o,o.visualViewport||[],tg(s)?s:[],c&&r?qi(c):[])}return t.concat(s,qi(s,[],r))}function Hc(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vj(e){const t=fd(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=hd(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,c=Hi(r)!==i||Hi(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function md(e){return $j(e)?e:e.contextElement}function ff(e){const t=md(e);if(!hd(t))return Wi(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Vj(t);let o=(i?Hi(r.width):r.width)/n,c=(i?Hi(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const zj=Wi(0);function Bj(e){const t=cr(e);return!Dj()||!t.visualViewport?zj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hj(e,t,r){return!1}function mf(e,t,r,n){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=md(e);let o=Wi(1);t&&(o=ff(e));const c=Hj()?Bj(i):Wi(0);let l=(s.left+c.x)/o.x,u=(s.top+c.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=cr(i),v=n;let w=m,y=Hc(w);for(;y&&n&&v!==w;){const b=ff(y),f=y.getBoundingClientRect(),p=fd(y),g=f.left+(y.clientLeft+parseFloat(p.paddingLeft))*b.x,j=f.top+(y.clientTop+parseFloat(p.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=g,u+=j,w=cr(y),y=Hc(w)}}return Lj({width:d,height:h,x:l,y:u})}function ng(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wj(e,t){let r=null,n;const s=X0(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:v}=u;if(c||t(),!m||!v)return;const w=Ba(h),y=Ba(s.clientWidth-(d+m)),b=Ba(s.clientHeight-(h+v)),f=Ba(d),g={rootMargin:-w+"px "+-y+"px "+-b+"px "+-f+"px",threshold:Mj(0,Rj(1,l))||1};let j=!0;function N(_){const k=_[0].intersectionRatio;if(k!==l){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!ng(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return o(!0),i}function qj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=md(e),d=s||i?[...u?qi(u):[],...qi(t)]:[];d.forEach(f=>{s&&f.addEventListener("scroll",r,{passive:!0}),i&&f.addEventListener("resize",r)});const h=u&&c?Wj(u,r):null;let m=-1,v=null;o&&(v=new ResizeObserver(f=>{let[p]=f;p&&p.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=v)==null||g.observe(t)})),r()}),u&&!l&&v.observe(u),v.observe(t));let w,y=l?mf(e):null;l&&b();function b(){const f=mf(e);y&&!ng(y,f)&&r(),y=f,w=requestAnimationFrame(b)}return r(),()=>{var f;d.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),h==null||h(),(f=v)==null||f.disconnect(),v=null,l&&cancelAnimationFrame(w)}}var Wc=x.useLayoutEffect,Kj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ki=function(){};function Gj(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Jj(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(Gj(e,o)));return i.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var pf=function(t){return sN(t)?t.filter(Boolean):ln(t)==="object"&&t!==null?[t]:[]},sg=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=fr(t,Kj);return Z({},r)},Ee=function(t,r,n){var s=t.cx,i=t.getStyles,o=t.getClassNames,c=t.className;return{css:i(r,t),className:s(n??{},o(r,t),c)}};function Uo(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Yj(e){return Uo(e)?window.innerHeight:e.clientHeight}function ag(e){return Uo(e)?window.pageYOffset:e.scrollTop}function Gi(e,t){if(Uo(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Qj(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function Zj(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Ha(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ki,s=ag(e),i=t-s,o=10,c=0;function l(){c+=o;var u=Zj(c,s,i,r);Gi(e,u),c<r?window.requestAnimationFrame(l):n(e)}l()}function gf(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?Gi(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&Gi(e,Math.max(t.offsetTop-s,0))}function Xj(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function xf(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function eN(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ig=!1,tN={get passive(){return ig=!0}},Wa=typeof window<"u"?window:{};Wa.addEventListener&&Wa.removeEventListener&&(Wa.addEventListener("p",Ki,tN),Wa.removeEventListener("p",Ki,!1));var rN=ig;function nN(e){return e!=null}function sN(e){return Array.isArray(e)}function qa(e,t,r){return e?t:r}var aN=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var c=sr(o,1),l=c[0];return!n.includes(l)});return i.reduce(function(o,c){var l=sr(c,2),u=l[0],d=l[1];return o[u]=d,o},{})},iN=["children","innerProps"],oN=["children","innerProps"];function lN(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,c=e.controlHeight,l=Qj(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,m=r.getBoundingClientRect(),v=m.bottom,w=m.height,y=m.top,b=r.offsetParent.getBoundingClientRect(),f=b.top,p=o?window.innerHeight:Yj(l),g=ag(l),j=parseInt(getComputedStyle(r).marginBottom,10),N=parseInt(getComputedStyle(r).marginTop,10),_=f-N,k=p-y,C=_+g,D=h-g-y,F=v-p+g+j,J=g+y-N,W=160;switch(s){case"auto":case"bottom":if(k>=w)return{placement:"bottom",maxHeight:t};if(D>=w&&!o)return i&&Ha(l,F,W),{placement:"bottom",maxHeight:t};if(!o&&D>=n||o&&k>=n){i&&Ha(l,F,W);var $=o?k-j:D-j;return{placement:"bottom",maxHeight:$}}if(s==="auto"||o){var q=t,P=o?_:C;return P>=n&&(q=Math.min(P-j-c,t)),{placement:"top",maxHeight:q}}if(s==="bottom")return i&&Gi(l,F),{placement:"bottom",maxHeight:t};break;case"top":if(_>=w)return{placement:"top",maxHeight:t};if(C>=w&&!o)return i&&Ha(l,J,W),{placement:"top",maxHeight:t};if(!o&&C>=n||o&&_>=n){var Y=t;return(!o&&C>=n||o&&_>=n)&&(Y=o?_-N:C-N),i&&Ha(l,J,W),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function cN(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var og=function(t){return t==="auto"?"bottom":t},uN=function(t,r){var n,s=t.placement,i=t.theme,o=i.borderRadius,c=i.spacing,l=i.colors;return Z((n={label:"menu"},ks(n,cN(s),"100%"),ks(n,"position","absolute"),ks(n,"width","100%"),ks(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},lg=x.createContext(null),dN=function(t){var r=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,c=t.menuShouldScrollIntoView,l=t.theme,u=x.useContext(lg)||{},d=u.setPortalPlacement,h=x.useRef(null),m=x.useState(s),v=sr(m,2),w=v[0],y=v[1],b=x.useState(null),f=sr(b,2),p=f[0],g=f[1],j=l.spacing.controlHeight;return Wc(function(){var N=h.current;if(N){var _=o==="fixed",k=c&&!_,C=lN({maxHeight:s,menuEl:N,minHeight:n,placement:i,shouldScroll:k,isFixedPosition:_,controlHeight:j});y(C.maxHeight),g(C.placement),d==null||d(C.placement)}},[s,i,o,c,n,d,j]),r({ref:h,placerProps:Z(Z({},t),{},{placement:p||og(i),maxHeight:w})})},hN=function(t){var r=t.children,n=t.innerRef,s=t.innerProps;return Q("div",X({},Ee(t,"menu",{menu:!0}),{ref:n},s),r)},fN=hN,mN=function(t,r){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return Z({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},pN=function(t){var r=t.children,n=t.innerProps,s=t.innerRef,i=t.isMulti;return Q("div",X({},Ee(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},cg=function(t,r){var n=t.theme,s=n.spacing.baseUnit,i=n.colors;return Z({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},gN=cg,xN=cg,vN=function(t){var r=t.children,n=r===void 0?"No options":r,s=t.innerProps,i=fr(t,iN);return Q("div",X({},Ee(Z(Z({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},yN=function(t){var r=t.children,n=r===void 0?"Loading...":r,s=t.innerProps,i=fr(t,oN);return Q("div",X({},Ee(Z(Z({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},bN=function(t){var r=t.rect,n=t.offset,s=t.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},wN=function(t){var r=t.appendTo,n=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,c=t.menuPosition,l=x.useRef(null),u=x.useRef(null),d=x.useState(og(o)),h=sr(d,2),m=h[0],v=h[1],w=x.useMemo(function(){return{setPortalPlacement:v}},[]),y=x.useState(null),b=sr(y,2),f=b[0],p=b[1],g=x.useCallback(function(){if(s){var k=Xj(s),C=c==="fixed"?0:window.pageYOffset,D=k[m]+C;(D!==(f==null?void 0:f.offset)||k.left!==(f==null?void 0:f.rect.left)||k.width!==(f==null?void 0:f.rect.width))&&p({offset:D,rect:k})}},[s,c,m,f==null?void 0:f.offset,f==null?void 0:f.rect.left,f==null?void 0:f.rect.width]);Wc(function(){g()},[g]);var j=x.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&l.current&&(u.current=qj(s,l.current,g,{elementResize:"ResizeObserver"in window}))},[s,g]);Wc(function(){j()},[j]);var N=x.useCallback(function(k){l.current=k,j()},[j]);if(!r&&c!=="fixed"||!f)return null;var _=Q("div",X({ref:N},Ee(Z(Z({},t),{},{offset:f.offset,position:c,rect:f.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Q(lg.Provider,{value:w},r?Wp.createPortal(_,r):_)},jN=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},NN=function(t){var r=t.children,n=t.innerProps,s=t.isDisabled,i=t.isRtl;return Q("div",X({},Ee(t,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},kN=function(t,r){var n=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Z({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},SN=function(t){var r=t.children,n=t.innerProps,s=t.isMulti,i=t.hasValue;return Q("div",X({},Ee(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},_N=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},CN=function(t){var r=t.children,n=t.innerProps;return Q("div",X({},Ee(t,"indicatorsContainer",{indicators:!0}),n),r)},vf,EN=["size"],PN=["innerProps","isRtl","size"],TN={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ug=function(t){var r=t.size,n=fr(t,EN);return Q("svg",X({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:TN},n))},pd=function(t){return Q(ug,X({size:20},t),Q("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},dg=function(t){return Q(ug,X({size:20},t),Q("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hg=function(t,r){var n=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Z({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},IN=hg,ON=function(t){var r=t.children,n=t.innerProps;return Q("div",X({},Ee(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Q(dg,null))},AN=hg,RN=function(t){var r=t.children,n=t.innerProps;return Q("div",X({},Ee(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Q(pd,null))},MN=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Z({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},LN=function(t){var r=t.innerProps;return Q("span",X({},r,Ee(t,"indicatorSeparator",{"indicator-separator":!0})))},$N=Oj(vf||(vf=Aj([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),DN=function(t,r){var n=t.isFocused,s=t.size,i=t.theme,o=i.colors,c=i.spacing.baseUnit;return Z({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:c*2})},kl=function(t){var r=t.delay,n=t.offset;return Q("span",{css:dd({animation:"".concat($N," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},FN=function(t){var r=t.innerProps,n=t.isRtl,s=t.size,i=s===void 0?4:s,o=fr(t,PN);return Q("div",X({},Ee(Z(Z({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Q(kl,{delay:0,offset:n}),Q(kl,{delay:160,offset:!0}),Q(kl,{delay:320,offset:!n}))},UN=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,c=i.borderRadius,l=i.spacing;return Z({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},VN=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,c=t.menuIsOpen;return Q("div",X({ref:i},Ee(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":c}),o,{"aria-disabled":n||void 0}),r)},zN=VN,BN=["data"],HN=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},WN=function(t){var r=t.children,n=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,c=t.headingProps,l=t.innerProps,u=t.label,d=t.theme,h=t.selectProps;return Q("div",X({},Ee(t,"group",{group:!0}),l),Q(o,X({},c,{selectProps:h,theme:d,getStyles:s,getClassNames:i,cx:n}),u),Q("div",null,r))},qN=function(t,r){var n=t.theme,s=n.colors,i=n.spacing;return Z({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},KN=function(t){var r=sg(t);r.data;var n=fr(r,BN);return Q("div",X({},Ee(t,"groupHeading",{"group-heading":!0}),n))},GN=WN,JN=["innerRef","isDisabled","isHidden","inputClassName"],YN=function(t,r){var n=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,c=i.colors;return Z(Z({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},QN),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},fg={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},QN={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Z({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fg)},ZN=function(t){return Z({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},fg)},XN=function(t){var r=t.cx,n=t.value,s=sg(t),i=s.innerRef,o=s.isDisabled,c=s.isHidden,l=s.inputClassName,u=fr(s,JN);return Q("div",X({},Ee(t,"input",{"input-container":!0}),{"data-value":n||""}),Q("input",X({className:r({input:!0},l),ref:i,style:ZN(c),disabled:o},u)))},e4=XN,t4=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Z({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},r4=function(t,r){var n=t.theme,s=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return Z({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},n4=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors,c=t.isFocused;return Z({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},mg=function(t){var r=t.children,n=t.innerProps;return Q("div",n,r)},s4=mg,a4=mg;function i4(e){var t=e.children,r=e.innerProps;return Q("div",X({role:"button"},r),t||Q(pd,{size:14}))}var o4=function(t){var r=t.children,n=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,c=t.removeProps,l=t.selectProps,u=n.Container,d=n.Label,h=n.Remove;return Q(u,{data:s,innerProps:Z(Z({},Ee(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:l},Q(d,{data:s,innerProps:Z({},Ee(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),Q(h,{data:s,innerProps:Z(Z({},Ee(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},c),selectProps:l}))},l4=o4,c4=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,c=o.spacing,l=o.colors;return Z({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?l.primary:s?l.primary25:"transparent",color:n?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?l.primary:l.primary50}})},u4=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,c=t.innerProps;return Q("div",X({},Ee(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},c),r)},d4=u4,h4=function(t,r){var n=t.theme,s=n.spacing,i=n.colors;return Z({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},f4=function(t){var r=t.children,n=t.innerProps;return Q("div",X({},Ee(t,"placeholder",{placeholder:!0}),n),r)},m4=f4,p4=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return Z({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},g4=function(t){var r=t.children,n=t.isDisabled,s=t.innerProps;return Q("div",X({},Ee(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},x4=g4,v4={ClearIndicator:RN,Control:zN,DropdownIndicator:ON,DownChevron:dg,CrossIcon:pd,Group:GN,GroupHeading:KN,IndicatorsContainer:CN,IndicatorSeparator:LN,Input:e4,LoadingIndicator:FN,Menu:fN,MenuList:pN,MenuPortal:wN,LoadingMessage:yN,NoOptionsMessage:vN,MultiValue:l4,MultiValueContainer:s4,MultiValueLabel:a4,MultiValueRemove:i4,Option:d4,Placeholder:m4,SelectContainer:NN,SingleValue:x4,ValueContainer:SN},y4=function(t){return Z(Z({},v4),t.components)},yf=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function b4(e,t){return!!(e===t||yf(e)&&yf(t))}function w4(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!b4(e[r],t[r]))return!1;return!0}function j4(e,t){t===void 0&&(t=w4);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var N4={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},k4=function(t){return Q("span",X({css:N4},t))},bf=k4,S4={guidance:function(t){var r=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,s=n===void 0?"":n,i=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,c=t.selectValue,l=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,h=function(y,b){return y&&y.length?"".concat(y.indexOf(b)+1," of ").concat(y.length):""};if(r==="value"&&c)return"value ".concat(o," focused, ").concat(h(c,n),".");if(r==="menu"&&d){var m=l?" disabled":"",v="".concat(u?" selected":"").concat(m);return"".concat(o).concat(v,", ").concat(h(s,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},_4=function(t){var r=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,c=t.selectValue,l=t.selectProps,u=t.id,d=t.isAppleDevice,h=l.ariaLiveMessages,m=l.getOptionLabel,v=l.inputValue,w=l.isMulti,y=l.isOptionDisabled,b=l.isSearchable,f=l.menuIsOpen,p=l.options,g=l.screenReaderStatus,j=l.tabSelectsValue,N=l.isLoading,_=l["aria-label"],k=l["aria-live"],C=x.useMemo(function(){return Z(Z({},S4),h||{})},[h]),D=x.useMemo(function(){var P="";if(r&&C.onChange){var Y=r.option,le=r.options,R=r.removedValue,z=r.removedValues,K=r.value,E=function(U){return Array.isArray(U)?null:U},T=R||Y||E(K),V=T?m(T):"",O=le||z||void 0,B=O?O.map(m):[],S=Z({isDisabled:T&&y(T,c),label:V,labels:B},r);P=C.onChange(S)}return P},[r,C,y,c,m]),F=x.useMemo(function(){var P="",Y=n||s,le=!!(n&&c&&c.includes(n));if(Y&&C.onFocus){var R={focused:Y,label:m(Y),isDisabled:y(Y,c),isSelected:le,options:i,context:Y===n?"menu":"value",selectValue:c,isAppleDevice:d};P=C.onFocus(R)}return P},[n,s,m,y,C,i,c,d]),J=x.useMemo(function(){var P="";if(f&&p.length&&!N&&C.onFilter){var Y=g({count:i.length});P=C.onFilter({inputValue:v,resultsMessage:Y})}return P},[i,v,f,C,p,g,N]),W=(r==null?void 0:r.action)==="initial-input-focus",$=x.useMemo(function(){var P="";if(C.guidance){var Y=s?"value":f?"menu":"input";P=C.guidance({"aria-label":_,context:Y,isDisabled:n&&y(n,c),isMulti:w,isSearchable:b,tabSelectsValue:j,isInitialFocus:W})}return P},[_,n,s,w,y,b,f,C,c,j,W]),q=Q(x.Fragment,null,Q("span",{id:"aria-selection"},D),Q("span",{id:"aria-focused"},F),Q("span",{id:"aria-results"},J),Q("span",{id:"aria-guidance"},$));return Q(x.Fragment,null,Q(bf,{id:u},W&&q),Q(bf,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!W&&q))},C4=_4,qc=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],E4=new RegExp("["+qc.map(function(e){return e.letters}).join("")+"]","g"),pg={};for(var Sl=0;Sl<qc.length;Sl++)for(var _l=qc[Sl],Cl=0;Cl<_l.letters.length;Cl++)pg[_l.letters[Cl]]=_l.base;var gg=function(t){return t.replace(E4,function(r){return pg[r]})},P4=j4(gg),wf=function(t){return t.replace(/^\s+|\s+$/g,"")},T4=function(t){return"".concat(t.label," ").concat(t.value)},I4=function(t){return function(r,n){if(r.data.__isNew__)return!0;var s=Z({ignoreCase:!0,ignoreAccents:!0,stringify:T4,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,c=s.stringify,l=s.trim,u=s.matchFrom,d=l?wf(n):n,h=l?wf(c(r)):c(r);return i&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=P4(d),h=gg(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},O4=["innerRef"];function A4(e){var t=e.innerRef,r=fr(e,O4),n=aN(r,"onExited","in","enter","exit","appear");return Q("input",X({ref:t},n,{css:dd({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var R4=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function M4(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=x.useRef(!1),c=x.useRef(!1),l=x.useRef(0),u=x.useRef(null),d=x.useCallback(function(b,f){if(u.current!==null){var p=u.current,g=p.scrollTop,j=p.scrollHeight,N=p.clientHeight,_=u.current,k=f>0,C=j-N-g,D=!1;C>f&&o.current&&(n&&n(b),o.current=!1),k&&c.current&&(i&&i(b),c.current=!1),k&&f>C?(r&&!o.current&&r(b),_.scrollTop=j,D=!0,o.current=!0):!k&&-f>g&&(s&&!c.current&&s(b),_.scrollTop=0,D=!0,c.current=!0),D&&R4(b)}},[r,n,s,i]),h=x.useCallback(function(b){d(b,b.deltaY)},[d]),m=x.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),v=x.useCallback(function(b){var f=l.current-b.changedTouches[0].clientY;d(b,f)},[d]),w=x.useCallback(function(b){if(b){var f=rN?{passive:!1}:!1;b.addEventListener("wheel",h,f),b.addEventListener("touchstart",m,f),b.addEventListener("touchmove",v,f)}},[v,m,h]),y=x.useCallback(function(b){b&&(b.removeEventListener("wheel",h,!1),b.removeEventListener("touchstart",m,!1),b.removeEventListener("touchmove",v,!1))},[v,m,h]);return x.useEffect(function(){if(t){var b=u.current;return w(b),function(){y(b)}}},[t,w,y]),function(b){u.current=b}}var jf=["boxSizing","height","overflow","paddingRight","position"],Nf={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function kf(e){e.cancelable&&e.preventDefault()}function Sf(e){e.stopPropagation()}function _f(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Cf(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ef=!!(typeof window<"u"&&window.document&&window.document.createElement),vs=0,xn={capture:!1,passive:!1};function L4(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,s=x.useRef({}),i=x.useRef(null),o=x.useCallback(function(l){if(Ef){var u=document.body,d=u&&u.style;if(n&&jf.forEach(function(w){var y=d&&d[w];s.current[w]=y}),n&&vs<1){var h=parseInt(s.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,v=window.innerWidth-m+h||0;Object.keys(Nf).forEach(function(w){var y=Nf[w];d&&(d[w]=y)}),d&&(d.paddingRight="".concat(v,"px"))}u&&Cf()&&(u.addEventListener("touchmove",kf,xn),l&&(l.addEventListener("touchstart",_f,xn),l.addEventListener("touchmove",Sf,xn))),vs+=1}},[n]),c=x.useCallback(function(l){if(Ef){var u=document.body,d=u&&u.style;vs=Math.max(vs-1,0),n&&vs<1&&jf.forEach(function(h){var m=s.current[h];d&&(d[h]=m)}),u&&Cf()&&(u.removeEventListener("touchmove",kf,xn),l&&(l.removeEventListener("touchstart",_f,xn),l.removeEventListener("touchmove",Sf,xn)))}},[n]);return x.useEffect(function(){if(t){var l=i.current;return o(l),function(){c(l)}}},[t,o,c]),function(l){i.current=l}}var $4=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},D4={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function F4(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,i=e.onBottomArrive,o=e.onBottomLeave,c=e.onTopArrive,l=e.onTopLeave,u=M4({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:c,onTopLeave:l}),d=L4({isEnabled:r}),h=function(v){u(v),d(v)};return Q(x.Fragment,null,r&&Q("div",{onClick:$4,css:D4}),t(h))}var U4={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},V4=function(t){var r=t.name,n=t.onFocus;return Q("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:U4,value:"",onChange:function(){}})},z4=V4;function gd(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function B4(){return gd(/^iPhone/i)}function xg(){return gd(/^Mac/i)}function H4(){return gd(/^iPad/i)||xg()&&navigator.maxTouchPoints>1}function W4(){return B4()||H4()}function q4(){return xg()||W4()}var K4=function(t){return t.label},G4=function(t){return t.label},J4=function(t){return t.value},Y4=function(t){return!!t.isDisabled},Q4={clearIndicator:AN,container:jN,control:UN,dropdownIndicator:IN,group:HN,groupHeading:qN,indicatorsContainer:_N,indicatorSeparator:MN,input:YN,loadingIndicator:DN,loadingMessage:xN,menu:uN,menuList:mN,menuPortal:bN,multiValue:t4,multiValueLabel:r4,multiValueRemove:n4,noOptionsMessage:gN,option:c4,placeholder:h4,singleValue:p4,valueContainer:kN},Z4={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},X4=4,vg=4,ek=38,tk=vg*2,rk={baseUnit:vg,controlHeight:ek,menuGutter:tk},El={borderRadius:X4,colors:Z4,spacing:rk},nk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:xf(),captureMenuScroll:!xf(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:I4(),formatGroupLabel:K4,getOptionLabel:G4,getOptionValue:J4,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Y4,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!eN(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Pf(e,t,r,n){var s=wg(e,t,r),i=jg(e,t,r),o=bg(e,t),c=Ji(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:c,index:n}}function ui(e,t){return e.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,c){return Pf(e,o,t,c)}).filter(function(o){return If(e,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=Pf(e,r,t,n);return If(e,i)?i:void 0}).filter(nN)}function yg(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,nd(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function Tf(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,nd(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function sk(e,t){return yg(ui(e,t))}function If(e,t){var r=e.inputValue,n=r===void 0?"":r,s=t.data,i=t.isSelected,o=t.label,c=t.value;return(!kg(e)||!i)&&Ng(e,{label:o,value:c,data:s},n)}function ak(e,t){var r=e.focusedValue,n=e.selectValue,s=n.indexOf(r);if(s>-1){var i=t.indexOf(r);if(i>-1)return r;if(s<t.length)return t[s]}return null}function ik(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Pl=function(t,r){var n,s=(n=t.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},bg=function(t,r){return t.getOptionLabel(r)},Ji=function(t,r){return t.getOptionValue(r)};function wg(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function jg(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Ji(e,t);return r.some(function(s){return Ji(e,s)===n})}function Ng(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var kg=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},ok=1,Sg=function(e){b2(r,e);var t=N2(r);function r(n){var s;if(v2(this,r),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=q4(),s.controlRef=null,s.getControlRef=function(l){s.controlRef=l},s.focusedOptionRef=null,s.getFocusedOptionRef=function(l){s.focusedOptionRef=l},s.menuListRef=null,s.getMenuListRef=function(l){s.menuListRef=l},s.inputRef=null,s.getInputRef=function(l){s.inputRef=l},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(l,u){var d=s.props,h=d.onChange,m=d.name;u.name=m,s.ariaOnChange(l,u),h(l,u)},s.setValue=function(l,u,d){var h=s.props,m=h.closeMenuOnSelect,v=h.isMulti,w=h.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:w}),m&&(s.setState({inputIsHiddenAfterUpdate:!v}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(l,{action:u,option:d})},s.selectOption=function(l){var u=s.props,d=u.blurInputOnSelect,h=u.isMulti,m=u.name,v=s.state.selectValue,w=h&&s.isOptionSelected(l,v),y=s.isOptionDisabled(l,v);if(w){var b=s.getOptionValue(l);s.setValue(v.filter(function(f){return s.getOptionValue(f)!==b}),"deselect-option",l)}else if(!y)h?s.setValue([].concat(nd(v),[l]),"select-option",l):s.setValue(l,"select-option");else{s.ariaOnChange(l,{action:"select-option",option:l,name:m});return}d&&s.blurInput()},s.removeValue=function(l){var u=s.props.isMulti,d=s.state.selectValue,h=s.getOptionValue(l),m=d.filter(function(w){return s.getOptionValue(w)!==h}),v=qa(u,m,m[0]||null);s.onChange(v,{action:"remove-value",removedValue:l}),s.focusInput()},s.clearValue=function(){var l=s.state.selectValue;s.onChange(qa(s.props.isMulti,[],null),{action:"clear",removedValues:l})},s.popValue=function(){var l=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),m=qa(l,h,h[0]||null);d&&s.onChange(m,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(l){return Pl(s.state.focusableOptionsWithIds,l)},s.getFocusableOptionsWithIds=function(){return Tf(ui(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Jj.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(l){return bg(s.props,l)},s.getOptionValue=function(l){return Ji(s.props,l)},s.getStyles=function(l,u){var d=s.props.unstyled,h=Q4[l](u,d);h.boxSizing="border-box";var m=s.props.styles[l];return m?m(h,u):h},s.getClassNames=function(l,u){var d,h;return(d=(h=s.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},s.getElementId=function(l){return"".concat(s.state.instancePrefix,"-").concat(l)},s.getComponents=function(){return y4(s.props)},s.buildCategorizedOptions=function(){return ui(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return yg(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(l,u){s.setState({ariaSelection:Z({value:l},u)})},s.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(l){s.blockOptionHover=!1},s.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},s.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,h=u.menuIsOpen;s.focusInput(),h?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),l.preventDefault()}},s.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(s.clearValue(),l.preventDefault(),s.openAfterFocus=!1,l.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(l){typeof s.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Uo(l.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(l)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-s.initialTouchX),m=Math.abs(d.clientY-s.initialTouchY),v=5;s.userIsDragging=h>v||m>v}},s.onTouchEnd=function(l){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(l.target)&&s.menuListRef&&!s.menuListRef.contains(l.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(l){s.userIsDragging||s.onControlMouseDown(l)},s.onClearIndicatorTouchEnd=function(l){s.userIsDragging||s.onClearIndicatorMouseDown(l)},s.onDropdownIndicatorTouchEnd=function(l){s.userIsDragging||s.onDropdownIndicatorMouseDown(l)},s.handleInputChange=function(l){var u=s.props.inputValue,d=l.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(l){s.props.onFocus&&s.props.onFocus(l),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(l){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(l),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(l){if(!(s.blockOptionHover||s.state.focusedOption===l)){var u=s.getFocusableOptions(),d=u.indexOf(l);s.setState({focusedOption:l,focusedOptionId:d>-1?s.getFocusedOptionId(l):null})}},s.shouldHideSelectedOptions=function(){return kg(s.props)},s.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),s.focus()},s.onKeyDown=function(l){var u=s.props,d=u.isMulti,h=u.backspaceRemovesValue,m=u.escapeClearsValue,v=u.inputValue,w=u.isClearable,y=u.isDisabled,b=u.menuIsOpen,f=u.onKeyDown,p=u.tabSelectsValue,g=u.openMenuOnFocus,j=s.state,N=j.focusedOption,_=j.focusedValue,k=j.selectValue;if(!y&&!(typeof f=="function"&&(f(l),l.defaultPrevented))){switch(s.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||v)return;s.focusValue("previous");break;case"ArrowRight":if(!d||v)return;s.focusValue("next");break;case"Delete":case"Backspace":if(v)return;if(_)s.removeValue(_);else{if(!h)return;d?s.popValue():w&&s.clearValue()}break;case"Tab":if(s.isComposing||l.shiftKey||!b||!p||!N||g&&s.isOptionSelected(N,k))return;s.selectOption(N);break;case"Enter":if(l.keyCode===229)break;if(b){if(!N||s.isComposing)return;s.selectOption(N);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:v}),s.onMenuClose()):w&&m&&s.clearValue();break;case" ":if(v)return;if(!b){s.openMenu("first");break}if(!N)return;s.selectOption(N);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}l.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++ok),s.state.selectValue=pf(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),c=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[c],s.state.focusedOptionId=Pl(i,o[c])}return s}return y2(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&gf(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,c=i.menuIsOpen,l=this.state.isFocused;(l&&!o&&s.isDisabled||l&&c&&!s.menuIsOpen)&&this.focusInput(),l&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(gf(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,c=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(c[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,c=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(c);c||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(s){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,u=c.indexOf(o);o||(u=-1),s==="up"?l=u>0?u-1:c.length-1:s==="down"?l=(u+1)%c.length:s==="pageup"?(l=u-i,l<0&&(l=0)):s==="pagedown"?(l=u+i,l>c.length-1&&(l=c.length-1)):s==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(El):Z(Z({},El),this.props.theme):El}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,c=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,m=h.isMulti,v=h.isRtl,w=h.options,y=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:c,getValue:l,hasValue:y,isMulti:m,isRtl:v,options:w,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return wg(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return jg(this.props,s,i)}},{key:"filterOption",value:function(s,i){return Ng(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:c})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,c=s.inputId,l=s.inputValue,u=s.tabIndex,d=s.form,h=s.menuIsOpen,m=s.required,v=this.getComponents(),w=v.Input,y=this.state,b=y.inputIsHidden,f=y.ariaSelection,p=this.commonProps,g=c||this.getElementId("input"),j=Z(Z(Z({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(f==null?void 0:f.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?x.createElement(w,X({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:g,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},j)):x.createElement(A4,X({id:g,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ki,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,c=i.MultiValueContainer,l=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,h=i.Placeholder,m=this.commonProps,v=this.props,w=v.controlShouldRenderValue,y=v.isDisabled,b=v.isMulti,f=v.inputValue,p=v.placeholder,g=this.state,j=g.selectValue,N=g.focusedValue,_=g.isFocused;if(!this.hasValue()||!w)return f?null:x.createElement(h,X({},m,{key:"placeholder",isDisabled:y,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),p);if(b)return j.map(function(C,D){var F=C===N,J="".concat(s.getOptionLabel(C),"-").concat(s.getOptionValue(C));return x.createElement(o,X({},m,{components:{Container:c,Label:l,Remove:u},isFocused:F,isDisabled:y,key:J,index:D,removeProps:{onClick:function(){return s.removeValue(C)},onTouchEnd:function(){return s.removeValue(C)},onMouseDown:function($){$.preventDefault()}},data:C}),s.formatOptionLabel(C,"value"))});if(f)return null;var k=j[0];return x.createElement(d,X({},m,{data:k,isDisabled:y}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,X({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!i||!u)return null;var h={"aria-hidden":"true"};return x.createElement(i,X({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var c=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return x.createElement(o,X({},c,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,X({},o,{innerProps:u,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,c=i.GroupHeading,l=i.Menu,u=i.MenuList,d=i.MenuPortal,h=i.LoadingMessage,m=i.NoOptionsMessage,v=i.Option,w=this.commonProps,y=this.state.focusedOption,b=this.props,f=b.captureMenuScroll,p=b.inputValue,g=b.isLoading,j=b.loadingMessage,N=b.minMenuHeight,_=b.maxMenuHeight,k=b.menuIsOpen,C=b.menuPlacement,D=b.menuPosition,F=b.menuPortalTarget,J=b.menuShouldBlockScroll,W=b.menuShouldScrollIntoView,$=b.noOptionsMessage,q=b.onMenuScrollToTop,P=b.onMenuScrollToBottom;if(!k)return null;var Y=function(V,O){var B=V.type,S=V.data,M=V.isDisabled,U=V.isSelected,Pe=V.label,ve=V.value,A=y===S,te=M?void 0:function(){return s.onOptionHover(S)},fe=M?void 0:function(){return s.selectOption(S)},Ne="".concat(s.getElementId("option"),"-").concat(O),pe={id:Ne,onClick:fe,onMouseMove:te,onMouseOver:te,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:U};return x.createElement(v,X({},w,{innerProps:pe,data:S,isDisabled:M,isSelected:U,key:Ne,label:Pe,type:B,value:ve,isFocused:A,innerRef:A?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(V.data,"menu"))},le;if(this.hasOptions())le=this.getCategorizedOptions().map(function(T){if(T.type==="group"){var V=T.data,O=T.options,B=T.index,S="".concat(s.getElementId("group"),"-").concat(B),M="".concat(S,"-heading");return x.createElement(o,X({},w,{key:S,data:V,options:O,Heading:c,headingProps:{id:M,data:T.data},label:s.formatGroupLabel(T.data)}),T.options.map(function(U){return Y(U,"".concat(B,"-").concat(U.index))}))}else if(T.type==="option")return Y(T,"".concat(T.index))});else if(g){var R=j({inputValue:p});if(R===null)return null;le=x.createElement(h,w,R)}else{var z=$({inputValue:p});if(z===null)return null;le=x.createElement(m,w,z)}var K={minMenuHeight:N,maxMenuHeight:_,menuPlacement:C,menuPosition:D,menuShouldScrollIntoView:W},E=x.createElement(dN,X({},w,K),function(T){var V=T.ref,O=T.placerProps,B=O.placement,S=O.maxHeight;return x.createElement(l,X({},w,K,{innerRef:V,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:g,placement:B}),x.createElement(F4,{captureEnabled:f,onTopArrive:q,onBottomArrive:P,lockEnabled:J},function(M){return x.createElement(u,X({},w,{innerRef:function(Pe){s.getMenuListRef(Pe),M(Pe)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:s.getElementId("listbox")},isLoading:g,maxHeight:S,focusedOption:y}),le)}))});return F||D==="fixed"?x.createElement(d,X({},w,{appendTo:F,controlElement:this.controlRef,menuPlacement:C,menuPosition:D}),E):E}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,c=i.isDisabled,l=i.isMulti,u=i.name,d=i.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!c)return x.createElement(z4,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(l)if(o){var m=h.map(function(y){return s.getOptionValue(y)}).join(o);return x.createElement("input",{name:u,type:"hidden",value:m})}else{var v=h.length>0?h.map(function(y,b){return x.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(y)})}):x.createElement("input",{name:u,type:"hidden",value:""});return x.createElement("div",null,v)}else{var w=h[0]?this.getOptionValue(h[0]):"";return x.createElement("input",{name:u,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,c=i.focusedOption,l=i.focusedValue,u=i.isFocused,d=i.selectValue,h=this.getFocusableOptions();return x.createElement(C4,X({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,c=s.SelectContainer,l=s.ValueContainer,u=this.props,d=u.className,h=u.id,m=u.isDisabled,v=u.menuIsOpen,w=this.state.isFocused,y=this.commonProps=this.getCommonProps();return x.createElement(c,X({},y,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:w}),this.renderLiveRegion(),x.createElement(i,X({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:w,menuIsOpen:v}),x.createElement(l,X({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(o,X({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,c=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,h=i.prevWasFocused,m=i.instancePrefix,v=s.options,w=s.value,y=s.menuIsOpen,b=s.inputValue,f=s.isMulti,p=pf(w),g={};if(o&&(w!==o.value||v!==o.options||y!==o.menuIsOpen||b!==o.inputValue)){var j=y?sk(s,p):[],N=y?Tf(ui(s,p),"".concat(m,"-option")):[],_=c?ak(i,p):null,k=ik(i,j),C=Pl(N,k);g={selectValue:p,focusedOption:k,focusedOptionId:C,focusableOptionsWithIds:N,focusedValue:_,clearFocusValueOnUpdate:!1}}var D=l!=null&&s!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},F=u,J=d&&h;return d&&!J&&(F={value:qa(f,p,p[0]||null),options:p,action:"initial-input-focus"},J=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(F=null),Z(Z(Z({},g),D),{},{prevProps:s,ariaSelection:F,prevWasFocused:J})}}]),r}(x.Component);Sg.defaultProps=nk;var lk=x.forwardRef(function(e,t){var r=x2(e);return x.createElement(Sg,X({ref:t},r))}),ck=lk;function uk(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Kc=1;class dk{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Kc++,o=this.toasts.find(l=>l.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:c,title:n}):l):this.addToast({title:n,...s,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const c=s.then(async u=>{if(o=["resolve",u],wr.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(fk(u)&&!u.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof h=="object"&&!wr.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...w})}else if(u instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,w=typeof h=="object"&&!wr.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...w})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,w=typeof h=="object"&&!wr.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:m,...w})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof d=="object"&&!wr.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>c.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Kc++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const wt=new dk,hk=(e,t)=>{const r=(t==null?void 0:t.id)||Kc++;return wt.addToast({title:e,...t,id:r}),r},fk=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mk=hk,pk=()=>wt.toasts,gk=()=>wt.getActiveToasts(),ee=Object.assign(mk,{success:wt.success,info:wt.info,warning:wt.warning,error:wt.error,custom:wt.custom,message:wt.message,promise:wt.promise,dismiss:wt.dismiss,loading:wt.loading},{getHistory:pk,getToasts:gk});uk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _g({podId:e,insightId:t,onClose:r,onShare:n}){const[s,i]=x.useState(""),[o,c]=x.useState(!1),[l,u]=x.useState([]),[d,h]=x.useState([]),[m,v]=x.useState(""),[w,y]=x.useState([]),[b,f]=x.useState(e),[p,g]=x.useState(!1),[j,N]=x.useState({name:"",description:""}),[_,k]=x.useState(null),[C,D]=x.useState(!0),[F,J]=x.useState([]),[W,$]=x.useState(t),[q,P]=x.useState("");x.useEffect(()=>{Y(),le(),R(),t&&($(t),z(t))},[t]);const Y=async()=>{try{const{data:O,error:B}=await I.from("pod_insights").select("tags").not("tags","is",null);if(B)throw B;const S=new Set;O==null||O.forEach(U=>{U.tags&&Array.isArray(U.tags)&&U.tags.forEach(Pe=>S.add(Pe))});const M=Array.from(S).map(U=>({value:U,label:U}));u(M)}catch(O){console.error("Error loading existing tags:",O)}},le=async()=>{try{const{data:O,error:B}=await I.from("pods").select("id, name, description").order("name");if(B)throw B;y(O||[]),!e&&O&&O.length>0&&f(O[0].id)}catch(O){console.error("Error loading pods:",O)}},R=async()=>{try{const{data:O,error:B}=await I.from("insights").select("id, content, source, sentiment").order("created_at",{ascending:!1}).limit(50);if(B)throw B;J(O||[])}catch(O){console.error("Error loading available insights:",O)}},z=async O=>{try{D(!0);const{data:B,error:S}=await I.from("insights").select("content, source, sentiment").eq("id",O).single();if(S)throw S;k(B)}catch(B){console.error("Error loading insight details:",B)}finally{D(!1)}},K=()=>{if(!m.trim())return;const O={value:m.trim(),label:m.trim()};d.some(B=>B.value===O.value)||(h([...d,O]),l.some(B=>B.value===O.value)||u([...l,O])),v("")},E=async()=>{if(j.name.trim()){c(!0);try{const{data:{user:O}}=await I.auth.getUser();if(!O)throw new Error("No user found");const{data:B,error:S}=await I.from("pods").insert({name:j.name.trim(),description:j.description.trim(),created_by:O.id}).select().single();if(S)throw S;const{error:M}=await I.from("pod_members").insert({pod_id:B.id,user_id:O.id,role:"owner"});if(M)throw M;y([...w,B]),f(B.id),g(!1),N({name:"",description:""}),ee.success("New workspace created")}catch(O){console.error("Error creating pod:",O),ee.error("Failed to create workspace")}finally{c(!1)}}},T=async()=>{if(!(!b||!W)){c(!0);try{const{data:{user:O}}=await I.auth.getUser();if(!O)throw new Error("No user found");const B=d.map(M=>M.value),{error:S}=await I.from("pod_insights").insert({pod_id:b,insight_id:W,shared_by:O.id,note:s.trim(),tags:B});if(S)throw S;ee.success("Insight shared successfully"),n()}catch(O){console.error("Error sharing insight:",O),ee.error("Failed to share insight")}finally{c(!1)}}},V=q?F.filter(O=>O.content.toLowerCase().includes(q.toLowerCase())):F;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Insight to Workspace"}),a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Workspace"}),w.length===0?a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"No workspaces found"}),a.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Create Workspace"})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("select",{value:b,onChange:O=>f(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:w.map(O=>a.jsx("option",{value:O.id,children:O.name},O.id))}),a.jsxs("button",{onClick:()=>g(!0),className:"text-teal-600 hover:text-teal-800 text-sm flex items-center gap-1",children:[a.jsx(Dt,{className:"w-4 h-4"}),"Create New Workspace"]})]}),p&&a.jsxs("div",{className:"mt-4 p-4 border border-teal-100 rounded-lg bg-teal-50",children:[a.jsx("h3",{className:"font-medium text-teal-900 mb-3",children:"Create New Workspace"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workspace Name"}),a.jsx("input",{type:"text",value:j.name,onChange:O=>N({...j,name:O.target.value}),placeholder:"e.g., Product Team, Mobile Squad",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),a.jsx("textarea",{value:j.description,onChange:O=>N({...j,description:O.target.value}),placeholder:"What does this workspace focus on?",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{g(!1),N({name:"",description:""})},className:"px-3 py-1.5 text-gray-600 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:E,disabled:!j.name.trim()||o,className:"px-3 py-1.5 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50 flex items-center gap-1.5",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-4 h-4"}),"Create Workspace"]})})]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Insight"}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ed,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:q,onChange:O=>P(O.target.value),placeholder:"Search insights...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100",children:V.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No insights found"}):V.map(O=>a.jsxs("div",{className:`p-3 cursor-pointer hover:bg-gray-50 ${W===O.id?"bg-teal-50 border-l-4 border-teal-500":""}`,onClick:()=>{$(O.id),z(O.id)},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${O.sentiment==="positive"?"bg-green-50 text-green-700":O.sentiment==="negative"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:O.sentiment.charAt(0).toUpperCase()+O.sentiment.slice(1)}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:O.source})]}),a.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:O.content})]},O.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Tags"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ck,{isMulti:!0,options:l,value:d,onChange:O=>h(O),placeholder:"Select or create tags...",className:"basic-multi-select",classNamePrefix:"select"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:O=>v(O.target.value),placeholder:"Add a new tag...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),K())}}),a.jsxs("button",{onClick:K,disabled:!m.trim(),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 flex items-center gap-2",children:[a.jsx(tn,{className:"w-4 h-4"}),"Add"]})]}),d.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(O=>a.jsxs("span",{className:"px-2 py-1 bg-teal-50 text-teal-700 rounded-md text-sm flex items-center gap-1",children:[a.jsx(tn,{className:"w-3 h-3"}),O.label,a.jsx("button",{onClick:()=>h(d.filter(B=>B.value!==O.value)),className:"ml-1 text-teal-500 hover:text-teal-700",children:"×"})]},O.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add a Note (Optional)"}),a.jsx("textarea",{value:s,onChange:O=>i(O.target.value),rows:3,placeholder:"Add context or highlight key points...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:T,disabled:!b||!W||o,className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Sharing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xa,{className:"w-5 h-5"}),"Share to Workspace"]})})]})})]})})}function xk(){const[e,t]=r0(),r=e.get("theme"),[n,s]=x.useState(),[i,o]=x.useState([]),[c,l]=x.useState([]),[u,d]=x.useState([]),[h,m]=x.useState(!0),[v,w]=x.useState(null),[y,b]=x.useState(),[f,p]=x.useState(!1),[g,j]=x.useState([]),[N,_]=x.useState([]),[k,C]=x.useState([]),[D,F]=x.useState([]),[J,W]=x.useState(!1),[$,q]=x.useState(null),[P,Y]=x.useState({themes:[],dateRange:"all",companies:[],acvRange:null,products:[],segments:[],sources:[],sentiment:[],priority:[],status:[],tags:[]});x.useEffect(()=>{R(),le(),r?z():K()},[r]);const le=async()=>{try{const{data:S}=await I.from("insight_customers").select("customer_id, customer_name").order("customer_name");if(S){const Pe=Array.from(new Map(S.map(ve=>[ve.customer_id,{id:ve.customer_id,name:ve.customer_name}]))).map(([ve,A])=>A);j(Pe)}const{data:M}=await I.from("company_data").select("hubspot_id, name").order("name");if(M&&M.length>0){const Pe=M.map(A=>({id:A.hubspot_id,name:A.name})),ve=[...uniqueCompanies];Pe.forEach(A=>{ve.some(te=>te.id===A.id)||ve.push(A)}),j(ve)}const{data:U}=await I.from("pod_insights").select("tags");if(U){const Pe=U.filter(A=>A.tags&&Array.isArray(A.tags)).flatMap(A=>A.tags),ve=[...new Set(Pe)];F(ve)}_([{id:"core",name:"Core Platform"},{id:"mobile",name:"Mobile App"},{id:"analytics",name:"Analytics Dashboard"},{id:"api",name:"API Services"}]),C([{id:"enterprise",name:"Enterprise"},{id:"mid-market",name:"Mid-Market"},{id:"smb",name:"SMB"},{id:"startup",name:"Startup"}])}catch(S){console.error("Error loading filter options:",S)}},R=async()=>{try{const{data:S,error:M}=await I.from("themes").select("id, name").order("name");if(M)throw M;d(S||[])}catch(S){console.error("Error loading themes:",S)}},z=async()=>{try{const{data:S,error:M}=await I.from("themes").select("name").eq("id",r).single();if(M)throw M;s(S.name)}catch(S){console.error("Error loading theme:",S),w(S instanceof Error?S.message:"An unexpected error occurred")}finally{m(!1)}},K=async()=>{try{m(!0),w(null);let S=I.from("insights").select("id, content, source, sentiment, created_at");if(P.dateRange!=="all"){const re=new Date;let nt;switch(P.dateRange){case"7d":nt=new Date(re.setDate(re.getDate()-7));break;case"30d":nt=new Date(re.setDate(re.getDate()-30));break;case"90d":nt=new Date(re.setDate(re.getDate()-90));break}nt&&(S=S.gte("created_at",nt.toISOString()))}P.sources.length>0&&(S=S.in("source",P.sources)),P.sentiment.length>0&&(S=S.in("sentiment",P.sentiment));const{data:M,error:U}=await S;if(U)throw U;const{data:Pe,error:ve}=await I.from("insight_customers").select("insight_id, customer_id, customer_name, acv_impact");if(ve)throw ve;const{data:A,error:te}=await I.from("insight_themes").select("insight_id, theme_id, themes(id, name)");if(te)throw te;const fe=new Map;for(const re of Pe||[])fe.has(re.insight_id)||fe.set(re.insight_id,[]),fe.get(re.insight_id).push(re);const Ne=new Map;for(const re of A||[])Ne.has(re.insight_id)||Ne.set(re.insight_id,[]),Ne.get(re.insight_id).push({id:re.themes.id,name:re.themes.name});let pe=(M||[]).map(re=>({...re,customers:fe.get(re.id)||[],themes:Ne.get(re.id)||[]}));P.companies.length>0&&(pe=pe.filter(re=>re.customers.some(nt=>P.companies.includes(nt.customer_id)))),P.acvRange&&P.acvRange[0]!==0&&P.acvRange[1]!==0&&(pe=pe.filter(re=>{const nt=re.customers.reduce((xd,ya)=>xd+(ya.acv_impact||0),0);return nt>=P.acvRange[0]&&nt<=P.acvRange[1]}));const Pt=localStorage.getItem("importantInsights"),Qt=Pt?JSON.parse(Pt):[],Hr=pe.map(re=>({id:re.id,content:re.content,source:re.source,sentiment:re.sentiment,created_at:re.created_at,customers:re.customers,sources:[{type:re.source,content:re.content}],themes:re.themes,isImportant:Qt.includes(re.id)}));o(Hr),l(Hr.filter(re=>re.isImportant))}catch(S){console.error("Error loading insights:",S),w(S instanceof Error?S.message:"An unexpected error occurred")}finally{m(!1)}};x.useEffect(()=>{r||K()},[P]);const E=S=>{Y(M=>({...M,...S}))},T=()=>{Y({themes:[],dateRange:"all",companies:[],acvRange:null,products:[],segments:[],sources:[],sentiment:[],priority:[],status:[],tags:[]})},V=()=>{let S=0;return P.themes.length&&S++,P.dateRange!=="all"&&S++,P.companies.length&&S++,P.acvRange&&S++,P.products.length&&S++,P.segments.length&&S++,P.sources.length&&S++,P.sentiment.length&&S++,P.priority.length&&S++,P.status.length&&S++,P.tags.length&&S++,S},O=S=>{const M=i.map(A=>A.id===S?{...A,isImportant:!A.isImportant}:A);o(M);const U=M.filter(A=>A.isImportant);l(U);const Pe=M.filter(A=>A.isImportant).map(A=>A.id);localStorage.setItem("importantInsights",JSON.stringify(Pe));const ve=i.find(A=>A.id===S);ve&&(ve.isImportant?ee.info("Insight removed from important"):ee.success("Insight marked as important"))},B=S=>{q(S),W(!0)};return r&&n?a.jsx(u2,{themeId:r,themeName:n,onBack:()=>{const S=new URLSearchParams(e);S.delete("theme"),window.history.pushState({},"",`?${S.toString()}`),K()}}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Insights"}),a.jsx("p",{className:"text-gray-600",children:"View and analyze customer feedback and feature requests."})]}),c.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Important Insights"}),a.jsx("div",{className:"space-y-4",children:c.map(S=>a.jsx(rd,{insight:S,onClick:()=>b(S.id===y?void 0:S.id),expanded:S.id===y,onMarkImportant:O,onShareWithPod:B,onAddToBacklog:()=>{}},`important-${S.id}`))})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(na,{className:"w-5 h-5 text-gray-500"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Filters"}),V()>0&&a.jsx("span",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:V()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[V()>0&&a.jsx("button",{onClick:T,className:"text-sm text-gray-600 hover:text-gray-900",children:"Clear all"}),a.jsx("button",{onClick:()=>p(!f),className:"text-sm text-teal-600 hover:text-teal-800 flex items-center gap-1",children:f?a.jsxs(a.Fragment,{children:[a.jsx(Tw,{className:"w-4 h-4"}),"Hide Filters"]}):a.jsxs(a.Fragment,{children:[a.jsx(Pw,{className:"w-4 h-4"}),"Show Filters"]})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 px-3 py-2",children:[a.jsx(Yn,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:P.themes.length===1?P.themes[0]:"",onChange:S=>{const M=S.target.value;E({themes:M?[M]:[]})},className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"",children:"All Themes"}),u.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 px-3 py-2",children:[a.jsx(pa,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:P.dateRange,onChange:S=>E({dateRange:S.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 px-3 py-2",children:[a.jsx(Le,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:P.sources.length===1?P.sources[0]:"",onChange:S=>{const M=S.target.value;E({sources:M?[M]:[]})},className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"slack",children:"Slack"}),a.jsx("option",{value:"hubspot",children:"HubSpot"}),a.jsx("option",{value:"document",children:"Documents"}),a.jsx("option",{value:"zoom",children:"Zoom"}),a.jsx("option",{value:"csv",children:"CSV Upload"})]})]})]}),f&&a.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Customer & Business Impact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Companies"}),a.jsx("select",{multiple:!0,value:P.companies,onChange:S=>{const M=Array.from(S.target.selectedOptions,U=>U.value);E({companies:M})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",size:3,children:g.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ACV Impact Range"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",placeholder:"Min",value:P.acvRange?P.acvRange[0]:"",onChange:S=>{const M=parseInt(S.target.value)||0,U=P.acvRange?P.acvRange[1]:1e6;E({acvRange:[M,U]})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"}),a.jsx("span",{children:"to"}),a.jsx("input",{type:"number",placeholder:"Max",value:P.acvRange?P.acvRange[1]:"",onChange:S=>{const M=parseInt(S.target.value)||0,U=P.acvRange?P.acvRange[0]:0;E({acvRange:[U,M]})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Segments"}),a.jsx("select",{multiple:!0,value:P.segments,onChange:S=>{const M=Array.from(S.target.selectedOptions,U=>U.value);E({segments:M})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",size:3,children:k.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Feedback Attributes"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Products"}),a.jsx("select",{multiple:!0,value:P.products,onChange:S=>{const M=Array.from(S.target.selectedOptions,U=>U.value);E({products:M})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",size:3,children:N.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sentiment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"sentiment-positive",checked:P.sentiment.includes("positive"),onChange:S=>{const M=S.target.checked?[...P.sentiment,"positive"]:P.sentiment.filter(U=>U!=="positive");E({sentiment:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"sentiment-positive",className:"ml-2 text-sm text-gray-700",children:"Positive"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"sentiment-neutral",checked:P.sentiment.includes("neutral"),onChange:S=>{const M=S.target.checked?[...P.sentiment,"neutral"]:P.sentiment.filter(U=>U!=="neutral");E({sentiment:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"sentiment-neutral",className:"ml-2 text-sm text-gray-700",children:"Neutral"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"sentiment-negative",checked:P.sentiment.includes("negative"),onChange:S=>{const M=S.target.checked?[...P.sentiment,"negative"]:P.sentiment.filter(U=>U!=="negative");E({sentiment:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"sentiment-negative",className:"ml-2 text-sm text-gray-700",children:"Negative"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),a.jsx("select",{multiple:!0,value:P.tags,onChange:S=>{const M=Array.from(S.target.selectedOptions,U=>U.value);E({tags:M})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",size:3,children:D.map(S=>a.jsx("option",{value:S,children:S},S))})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Status & Priority"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"priority-high",checked:P.priority.includes("high"),onChange:S=>{const M=S.target.checked?[...P.priority,"high"]:P.priority.filter(U=>U!=="high");E({priority:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"priority-high",className:"ml-2 text-sm text-gray-700",children:"High"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"priority-medium",checked:P.priority.includes("medium"),onChange:S=>{const M=S.target.checked?[...P.priority,"medium"]:P.priority.filter(U=>U!=="medium");E({priority:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"priority-medium",className:"ml-2 text-sm text-gray-700",children:"Medium"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"priority-low",checked:P.priority.includes("low"),onChange:S=>{const M=S.target.checked?[...P.priority,"low"]:P.priority.filter(U=>U!=="low");E({priority:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"priority-low",className:"ml-2 text-sm text-gray-700",children:"Low"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"status-new",checked:P.status.includes("new"),onChange:S=>{const M=S.target.checked?[...P.status,"new"]:P.status.filter(U=>U!=="new");E({status:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"status-new",className:"ml-2 text-sm text-gray-700",children:"New"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"status-in-review",checked:P.status.includes("in_review"),onChange:S=>{const M=S.target.checked?[...P.status,"in_review"]:P.status.filter(U=>U!=="in_review");E({status:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"status-in-review",className:"ml-2 text-sm text-gray-700",children:"In Review"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"status-planned",checked:P.status.includes("planned"),onChange:S=>{const M=S.target.checked?[...P.status,"planned"]:P.status.filter(U=>U!=="planned");E({status:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"status-planned",className:"ml-2 text-sm text-gray-700",children:"Planned"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"status-implemented",checked:P.status.includes("implemented"),onChange:S=>{const M=S.target.checked?[...P.status,"implemented"]:P.status.filter(U=>U!=="implemented");E({status:M})},className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"status-implemented",className:"ml-2 text-sm text-gray-700",children:"Implemented"})]})]})]})]})]}),V()>0&&a.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Filters"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.themes.length>0&&u.filter(S=>P.themes.includes(S.id)).map(S=>a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["Theme: ",S.name]}),a.jsx("button",{onClick:()=>E({themes:P.themes.filter(M=>M!==S.id)}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]},S.id)),P.dateRange!=="all"&&a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["Date:"," ",P.dateRange==="7d"?"Last 7 Days":P.dateRange==="30d"?"Last 30 Days":"Last 90 Days"]}),a.jsx("button",{onClick:()=>E({dateRange:"all"}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]}),P.companies.length>0&&g.filter(S=>P.companies.includes(S.id)).map(S=>a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["Company: ",S.name]}),a.jsx("button",{onClick:()=>E({companies:P.companies.filter(M=>M!==S.id)}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]},S.id)),P.acvRange&&a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["ACV: $",P.acvRange[0]," - $",P.acvRange[1]]}),a.jsx("button",{onClick:()=>E({acvRange:null}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]}),P.sources.length>0&&P.sources.map(S=>a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["Source: ",S]}),a.jsx("button",{onClick:()=>E({sources:P.sources.filter(M=>M!==S)}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]},S)),P.sentiment.length>0&&P.sentiment.map(S=>a.jsxs("div",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[a.jsxs("span",{children:["Sentiment: ",S]}),a.jsx("button",{onClick:()=>E({sentiment:P.sentiment.filter(M=>M!==S)}),className:"ml-1 text-teal-600 hover:text-teal-800",children:a.jsx(Xe,{className:"w-3 h-3"})})]},S))]})]})]})]})}),v&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:v})]}),h?a.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):i.length===0?a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No insights found. Create new insights from your feedback sources."})}):a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"All Insights"}),a.jsx(o2,{insights:i,onInsightClick:S=>b(S.id===y?void 0:S.id),selectedInsightId:y,onMarkImportant:O,onShareWithPod:B})]}),J&&$&&a.jsx(_g,{podId:"",insightId:$,onClose:()=>{W(!1),q(null)},onShare:()=>{W(!1),q(null),ee.success("Insight shared successfully")}})]})}function vk({onClose:e,onWorkspaceCreated:t}){const[r,n]=x.useState({name:"",description:"",enableAi:!0}),[s,i]=x.useState([]),[o,c]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState([]),[m,v]=x.useState([]),[w,y]=x.useState(""),[b,f]=x.useState([]),[p,g]=x.useState({email:"",role:"member"}),[j,N]=x.useState(!1),[_,k]=x.useState(!0),[C,D]=x.useState(1),F=3;x.useEffect(()=>{J()},[]),x.useEffect(()=>{o.length>0?W():v(l)},[o,l]),x.useEffect(()=>{if(w){const E=l.filter(T=>T.content.toLowerCase().includes(w.toLowerCase()));v(E)}else o.length>0?W():v(l)},[w]);const J=async()=>{k(!0);try{const{data:E,error:T}=await I.from("themes").select("id, name, description").order("name");if(T)throw T;i(E||[]);const{data:V,error:O}=await I.from("insights").select("id, content, source, sentiment").order("created_at",{ascending:!1}).limit(20);if(O)throw O;u(V||[]),v(V||[])}catch(E){console.error("Error loading themes and insights:",E),ee.error("Failed to load themes and insights")}finally{k(!1)}},W=async()=>{if(o.length===0){v(l);return}try{const{data:E,error:T}=await I.from("insight_themes").select(`
          insight_id,
          insights (
            id,
            content,
            source,
            sentiment
          )
        `).in("theme_id",o);if(T)throw T;if(E){const V=E.filter(B=>B.insights).map(B=>B.insights),O=Array.from(new Map(V.map(B=>[B.id,B])).values());v(O)}}catch(E){console.error("Error loading insights by themes:",E)}},$=E=>{c(T=>T.includes(E)?T.filter(V=>V!==E):[...T,E])},q=E=>{h(T=>T.includes(E)?T.filter(V=>V!==E):[...T,E])},P=()=>{if(!p.email.trim()||!p.email.includes("@")){ee.error("Please enter a valid email address");return}if(b.some(T=>T.email===p.email.trim())){ee.error("This collaborator has already been added");return}const E=p.role==="member"?"member":"viewer";f([...b,{email:p.email.trim(),role:E}]),g({email:"",role:"member"})},Y=E=>{f(b.filter(T=>T.email!==E))},le=async()=>{if(!r.name.trim()){ee.error("Workspace name is required");return}N(!0);try{const{data:{user:E}}=await I.auth.getUser();if(!E)throw new Error("No user found");const{data:T,error:V}=await I.from("pods").insert({name:r.name.trim(),description:r.description.trim(),created_by:E.id}).select().single();if(V)throw V;const{error:O}=await I.from("pod_members").insert({pod_id:T.id,user_id:E.id,role:"owner"});if(O)throw O;if(b.length>0){const B=b.map(M=>({pod_id:T.id,email:M.email,role:M.role,invited_by:E.id})),{error:S}=await I.from("pod_invitations").insert(B);S&&(console.error("Error adding invitations:",S),ee.error("Failed to send some invitations"))}if(d.length>0){const B=d.map(M=>({pod_id:T.id,insight_id:M,shared_by:E.id})),{error:S}=await I.from("pod_insights").insert(B);S&&(console.error("Error adding insights:",S),ee.error("Failed to add some insights"))}if(o.length>0&&d.length===0){const{data:B,error:S}=await I.from("insight_themes").select("insight_id").in("theme_id",o).limit(20);if(S)console.error("Error fetching theme insights:",S);else if(B&&B.length>0){const U=Array.from(new Set(B.map(ve=>ve.insight_id))).map(ve=>({pod_id:T.id,insight_id:ve,shared_by:E.id})),{error:Pe}=await I.from("pod_insights").insert(U);Pe&&(console.error("Error adding theme insights:",Pe),ee.error("Failed to add some theme insights"))}}ee.success("Workspace created successfully!"),t()}catch(E){console.error("Error creating workspace:",E),ee.error("Failed to create workspace")}finally{N(!1)}},R=()=>{C<F?D(C+1):le()},z=()=>{C>1&&D(C-1)},K=()=>{switch(C){case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workspace Name*"}),a.jsx("input",{type:"text",value:r.name,onChange:E=>n({...r,name:E.target.value}),placeholder:"e.g., Onboarding UX, Filtering Experience",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:r.description,onChange:E=>n({...r,description:E.target.value}),placeholder:"Describe the focus of this Workspace — e.g., why it's important, what pain point it addresses, or what kind of feedback you're tracking.",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"enable-ai",checked:r.enableAi,onChange:E=>n({...r,enableAi:E.target.checked}),className:"h-4 w-4 text-teal-600 rounded border-gray-300 focus:ring-teal-500"}),a.jsx("label",{htmlFor:"enable-ai",className:"ml-2 text-sm text-gray-700",children:"Enable AI summaries for this workspace"})]}),a.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Automatically summarize insights and suggest prioritization."})]});case 2:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Themes (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Selecting themes will automatically include related insights in your workspace."}),_?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):s.length===0?a.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No themes available"})}):a.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto p-2",children:s.map(E=>a.jsxs("div",{onClick:()=>$(E.id),className:`p-3 border rounded-lg cursor-pointer flex items-center gap-2 ${o.includes(E.id)?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-teal-300"}`,children:[a.jsx("div",{className:`w-4 h-4 rounded-full border ${o.includes(E.id)?"border-teal-500 bg-teal-500":"border-gray-300"}`,children:o.includes(E.id)&&a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:E.name}),E.description&&a.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.description})]})]},E.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Individual Insights (Optional)"}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ed,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:w,onChange:E=>y(E.target.value),placeholder:"Search insights...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),_?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):m.length===0?a.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No insights available"})}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-2",children:m.map(E=>a.jsxs("div",{onClick:()=>q(E.id),className:`p-3 border rounded-lg cursor-pointer ${d.includes(E.id)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border ${d.includes(E.id)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:d.includes(E.id)&&a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded ${E.sentiment==="positive"?"bg-green-50 text-green-700":E.sentiment==="negative"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:E.sentiment.charAt(0).toUpperCase()+E.sentiment.slice(1)}),a.jsx("span",{className:"text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:E.source})]})]}),a.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:E.content})]},E.id))})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[o.length>0&&a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(Yn,{className:"w-4 h-4 text-teal-600"}),o.length," theme(s) selected"]}),d.length>0&&a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(Le,{className:"w-4 h-4 text-purple-600"}),d.length," insight(s) selected"]})]})]});case 3:return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invite Collaborators (Optional)"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"email",value:p.email,onChange:E=>g({...p,email:E.target.value}),placeholder:"Email address",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"}),a.jsxs("select",{value:p.role,onChange:E=>g({...p,role:E.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]}),a.jsx("button",{onClick:P,disabled:!p.email.trim()||!p.email.includes("@"),className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50",children:a.jsx(Dt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Viewer:"})," Can view insights and discussions"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Member:"})," Can view, comment, and share insights"]})]}),b.length>0?a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b.map((E,T)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:E.email}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:E.role})]}),a.jsx("button",{onClick:()=>Y(E.email),className:"text-red-500 hover:text-red-700 p-1",children:a.jsx(Xe,{className:"w-4 h-4"})})]},T))}):a.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No collaborators added yet"})})]}),a.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-teal-900 mb-1",children:"Workspace Summary"}),a.jsxs("p",{className:"text-sm text-teal-800 mb-2",children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),r.description&&a.jsxs("p",{className:"text-sm text-teal-800 mb-2",children:[a.jsx("strong",{children:"Description:"})," ",r.description]}),a.jsxs("p",{className:"text-sm text-teal-800 mb-2",children:[a.jsx("strong",{children:"AI Summaries:"})," ",r.enableAi?"Enabled":"Disabled"]}),a.jsxs("p",{className:"text-sm text-teal-800 mb-2",children:[a.jsx("strong",{children:"Selected Themes:"})," ",o.length]}),a.jsxs("p",{className:"text-sm text-teal-800 mb-2",children:[a.jsx("strong",{children:"Selected Insights:"})," ",d.length]}),a.jsxs("p",{className:"text-sm text-teal-800",children:[a.jsx("strong",{children:"Collaborators:"})," ",b.length]})]})]});default:return null}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Workspace"}),a.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:"h-2 bg-teal-500 rounded-full",style:{width:`${C/F*100}%`}})}),a.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Step ",C," of ",F]})]}),K()]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-between",children:[C>1?a.jsx("button",{onClick:z,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}):a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:R,disabled:C===1&&!r.name.trim()||j,className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:j?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),C===F?"Creating...":"Saving..."]}):C===F?"Create Workspace":"Next"})]})]})})}function yk({podId:e,podName:t,onClose:r}){const[n,s]=x.useState(!0),[i,o]=x.useState(null),[c,l]=x.useState(null),[u,d]=x.useState("summary");x.useEffect(()=>{h()},[e]);const h=async()=>{s(!0),o(null);try{const{data:b,error:f}=await I.from("pod_insights").select(`
          id,
          insight_id,
          note,
          tags,
          insights (
            content,
            source,
            sentiment
          ),
          pod_comments (
            content
          )
        `).eq("pod_id",e);if(f)throw f;setTimeout(()=>{const p={executiveSummary:`This workspace contains ${(b==null?void 0:b.length)||0} insights across multiple themes. The feedback is predominantly focused on user experience issues and integration challenges. There's significant customer impact with several enterprise customers expressing concerns about API limitations and data synchronization.`,keyPainPoints:[{title:"API Rate Limits",description:"Enterprise customers are experiencing limitations with the current API rate limits, affecting their ability to scale operations.",impact:"High impact affecting 3 enterprise customers with a total of $250,000 in ACV."},{title:"Data Synchronization Issues",description:"Customers report inconsistent data synchronization between the platform and third-party tools.",impact:"Medium impact affecting 5 customers with a total of $175,000 in ACV."},{title:"User Interface Navigation",description:"Users find it difficult to navigate between modules, particularly when working with large datasets.",impact:"Low impact affecting 2 customers with a total of $60,000 in ACV."}],themeAnalysis:[{theme:"Integration Issues",percentage:40,trend:"up",description:"Integration-related feedback has increased by 15% in the last 30 days."},{theme:"User Experience",percentage:30,trend:"flat",description:"User experience feedback has remained consistent over time."},{theme:"Data Accuracy",percentage:20,trend:"down",description:"Data accuracy issues have decreased by 10% since recent improvements."},{theme:"Feature Requests",percentage:10,trend:"up",description:"Feature requests are gradually increasing, particularly for reporting capabilities."}],customerImpact:{totalAcv:485e3,topCustomers:[{name:"Global Enterprise Corp",acvImpact:25e4},{name:"Tech Innovators Inc",acvImpact:18e4},{name:"Digital Solutions Ltd",acvImpact:55e3}]},recommendations:[{title:"Increase API Rate Limits",description:"Consider implementing tiered API rate limits based on customer plan to address enterprise needs.",priority:"high"},{title:"Improve Data Sync Reliability",description:"Investigate and resolve the root causes of data synchronization issues, particularly with Salesforce integration.",priority:"high"},{title:"Enhance Navigation UX",description:"Simplify the navigation between modules and consider implementing breadcrumbs for better orientation.",priority:"medium"},{title:"Add Bulk Import Feature",description:"Develop a bulk import feature for contacts to address customer feedback about manual data entry.",priority:"low"}],generatedAt:new Date().toISOString()};l(p),s(!1)},2e3)}catch(b){console.error("Error generating summary:",b),o(b instanceof Error?b.message:"Failed to generate summary"),s(!1)}},m=()=>{if(!c)return;const b=`
# AI Summary for ${t}

## Executive Summary
${c.executiveSummary}

## Key Pain Points
${c.keyPainPoints.map(f=>`- **${f.title}**: ${f.description} (${f.impact})`).join(`
`)}

## Theme Analysis
${c.themeAnalysis.map(f=>`- **${f.theme}** (${f.percentage}%): ${f.description}`).join(`
`)}

## Customer Impact
Total ACV Impact: $${c.customerImpact.totalAcv.toLocaleString()}
Top Customers:
${c.customerImpact.topCustomers.map(f=>`- ${f.name}: $${f.acvImpact.toLocaleString()}`).join(`
`)}

## Recommendations
${c.recommendations.map(f=>`- **[${f.priority.toUpperCase()}]** ${f.title}: ${f.description}`).join(`
`)}

Generated on ${new Date(c.generatedAt).toLocaleString()}
    `;navigator.clipboard.writeText(b),ee.success("Summary copied to clipboard")},v=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(b),w=b=>{switch(b){case"high":return"bg-red-50 text-red-700";case"medium":return"bg-yellow-50 text-yellow-700";case"low":return"bg-green-50 text-green-700";default:return"bg-gray-50 text-gray-700"}},y=b=>{switch(b){case"up":return a.jsx(ko,{className:"w-4 h-4 text-green-600"});case"down":return a.jsx(O0,{className:"w-4 h-4 text-red-600"});case"flat":return a.jsx("div",{className:"w-4 h-0.5 bg-gray-400"})}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Vi,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Workspace Summary"})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:n?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(ie,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Analyzing workspace insights..."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment"})]}):i?a.jsxs("div",{className:"p-6 flex flex-col items-center",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 w-full max-w-md",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Error generating summary"}),a.jsx("p",{className:"text-red-700",children:i})]})]}),a.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):c?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[a.jsx("button",{onClick:()=>d("summary"),className:`px-4 py-2 font-medium text-sm ${u==="summary"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Summary"}),a.jsx("button",{onClick:()=>d("themes"),className:`px-4 py-2 font-medium text-sm ${u==="themes"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Theme Analysis"}),a.jsx("button",{onClick:()=>d("customers"),className:`px-4 py-2 font-medium text-sm ${u==="customers"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Customer Impact"}),a.jsx("button",{onClick:()=>d("recommendations"),className:`px-4 py-2 font-medium text-sm ${u==="recommendations"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Recommendations"})]}),u==="summary"&&a.jsxs("div",{children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Executive Summary"}),a.jsx("p",{className:"text-blue-800",children:c.executiveSummary})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Key Pain Points"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:c.keyPainPoints.map((b,f)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:b.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:b.description}),a.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[a.jsx("span",{className:"font-medium",children:"Impact:"})," ",b.impact]})]},f))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(Le,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Total Insights"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.keyPainPoints.length})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(qe,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Customers Impacted"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.customerImpact.topCustomers.length})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Total ACV Impact"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:v(c.customerImpact.totalAcv)})]})]})]}),u==="themes"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Theme Analysis"}),a.jsx("div",{className:"space-y-4 mb-6",children:c.themeAnalysis.map((b,f)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:b.theme}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:[b.percentage,"%"]}),y(b.trend)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-3",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${b.percentage}%`}})}),a.jsx("p",{className:"text-gray-600 text-sm",children:b.description})]},f))}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Theme Distribution"}),a.jsx("div",{className:"h-64 flex items-end justify-around gap-2 mb-4",children:c.themeAnalysis.map((b,f)=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 bg-blue-600 rounded-t-lg",style:{height:`${b.percentage*2}px`,opacity:.6+f*.1}}),a.jsx("div",{className:"text-xs text-gray-500 mt-2 w-20 text-center",children:b.theme})]},f))})]})]}),u==="customers"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Customer Impact"}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Total ACV Impact"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:v(c.customerImpact.totalAcv)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total annual contract value potentially affected by the issues in this workspace."})]}),a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Top Impacted Customers"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACV Impact"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.customerImpact.topCustomers.map((b,f)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("div",{className:"text-sm text-gray-900",children:v(b.acvImpact)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[Math.round(b.acvImpact/c.customerImpact.totalAcv*100),"%"]})})]},f))})]})})]}),u==="recommendations"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recommendations"}),a.jsx("div",{className:"space-y-4",children:c.recommendations.map((b,f)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:b.title}),a.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-lg ${w(b.priority)}`,children:[b.priority.charAt(0).toUpperCase()+b.priority.slice(1)," Priority"]})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:b.description})]},f))})]})]}):null}),c&&!n&&!i&&a.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-between items-center",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:["Generated on ",new Date(c.generatedAt).toLocaleString()]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:m,className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors flex items-center gap-1.5 text-sm",children:[a.jsx(Ow,{className:"w-4 h-4"}),"Copy"]}),a.jsxs("button",{onClick:h,className:"px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-1.5 text-sm",children:[a.jsx(Vi,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})})}function Cg({podId:e}){var ve;const t=Ty(),r=je(),n=e||t.id,[s,i]=x.useState(null),[o,c]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState(!0),[m,v]=x.useState(null),[w,y]=x.useState(""),[b,f]=x.useState(null),[p,g]=x.useState(""),[j,N]=x.useState(!1),[_,k]=x.useState(!1),[C,D]=x.useState(null),[F,J]=x.useState(null),[W,$]=x.useState(!1),[q,P]=x.useState([]),[Y,le]=x.useState(!1);x.useEffect(()=>{n&&(z(n),R())},[n]);const R=()=>{const A=localStorage.getItem("importantInsights");A&&P(JSON.parse(A))},z=async A=>{try{h(!0),v(null);const{data:te,error:fe}=await I.from("pods").select("*").eq("id",A).single();if(fe)throw fe;i(te);const{data:Ne,error:pe}=await I.from("pod_members").select(`
          id,
          user_id,
          role,
          user_profiles_view (
            full_name,
            role,
            department
          )
        `).eq("pod_id",A);if(pe)throw pe;c(Ne||[]);const{data:Pt,error:Qt}=await I.from("pod_insights").select(`
          id,
          insight_id,
          note,
          tags,
          created_at,
          shared_by,
          insights (
            content,
            source,
            sentiment
          ),
          user_profiles_view (
            full_name,
            role,
            department
          ),
          pod_comments (
            id,
            content,
            created_at,
            user_id,
            user_profiles_view (
              full_name,
              role,
              department
            )
          )
        `).eq("pod_id",A).order("created_at",{ascending:!1});if(Qt)throw Qt;u(Pt||[])}catch(te){console.error("Error loading workspace data:",te),v(te instanceof Error?te.message:"Failed to load workspace data")}finally{h(!1)}},K=async A=>{if(p.trim())try{N(!0);const{data:{user:te}}=await I.auth.getUser();if(!te)throw new Error("User not authenticated");const{error:fe}=await I.from("pod_comments").insert({pod_insight_id:A,user_id:te.id,content:p.trim()});if(fe)throw fe;g(""),ee.success("Comment added successfully"),n&&z(n)}catch(te){console.error("Error adding comment:",te),ee.error("Failed to add comment")}finally{N(!1)}},E=async A=>{try{const{error:te}=await I.from("pod_comments").delete().eq("id",A);if(te)throw te;ee.success("Comment deleted"),n&&z(n)}catch(te){console.error("Error deleting comment:",te),ee.error("Failed to delete comment")}},T=()=>{r("/dashboard/pods")},V=A=>{D(A),k(!0)},O=()=>{k(!1),D(null)},B=async A=>{var te,fe,Ne;$(!0),J(null);try{const pe=l.find(zo=>zo.id===A);if(!pe)throw new Error("Insight not found");const Pt=s.name,Qt=((te=pe.insights)==null?void 0:te.content)||"",Hr=pe.note||"",re=Array.isArray(pe.pod_comments)?pe.pod_comments.map(zo=>`- ${zo.content}`).join(`
`):"No comments available.",nt=`Insight:
${Qt}

Note:
${Hr}

Comments:
${re}`,ya=(fe=(await I.auth.getSession()).data.session)==null?void 0:fe.access_token;if(!ya)throw new Error("User not authenticated");const vd=await fetch("https://mboefbpirfqxspdsgkue.supabase.co/functions/v1/create-jira-story",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ya}`},body:JSON.stringify({theme:Pt,discussion:nt})}),Vo=await vd.json();vd.ok?ee.success(`Jira Story Created: ${Vo.issue.key}`):(console.error("Error creating Jira story:",Vo),ee.error(`Failed: ${((Ne=Vo.error)==null?void 0:Ne.message)||"Unknown error"}`))}catch(pe){console.error("Unexpected error:",pe),ee.error("An unexpected error occurred while exporting the insight.")}finally{$(!1)}},S=A=>{const te=[...q];if(te.includes(A)){const fe=te.indexOf(A);te.splice(fe,1),ee.info("Removed from important insights")}else te.push(A),ee.success("Added to important insights");P(te),localStorage.setItem("importantInsights",JSON.stringify(te))},M=l.filter(A=>{var pe;if(!w)return!0;const te=((pe=A.insights)==null?void 0:pe.content)||"",fe=A.note||"",Ne=A.tags||[];return te.toLowerCase().includes(w.toLowerCase())||fe.toLowerCase().includes(w.toLowerCase())||Ne.some(Pt=>Pt.toLowerCase().includes(w.toLowerCase()))}),U=A=>{if(!A)return"bg-gray-50 text-gray-700";switch(A.toLowerCase()){case"positive":return"bg-green-50 text-green-700";case"negative":return"bg-red-50 text-red-700";default:return"bg-blue-50 text-blue-700"}},Pe=A=>{if(!A)return a.jsx(Le,{className:"w-5 h-5"});switch(A.toLowerCase()){case"slack":return a.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M14.5 10C13.67 10 13 9.33 13 8.5V3.5C13 2.67 13.67 2 14.5 2C15.33 2 16 2.67 16 3.5V8.5C16 9.33 15.33 10 14.5 10Z",fill:"#4A154B"}),a.jsx("path",{d:"M20.5 10H19V8.5C19 7.67 19.67 7 20.5 7C21.33 7 22 7.67 22 8.5C22 9.33 21.33 10 20.5 10Z",fill:"#4A154B"}),a.jsx("path",{d:"M9.5 14C10.33 14 11 14.67 11 15.5V20.5C11 21.33 10.33 22 9.5 22C8.67 22 8 21.33 8 20.5V15.5C8 14.67 8.67 14 9.5 14Z",fill:"#4A154B"}),a.jsx("path",{d:"M3.5 14H5V15.5C5 16.33 4.33 17 3.5 17C2.67 17 2 16.33 2 15.5C2 14.67 2.67 14 3.5 14Z",fill:"#4A154B"}),a.jsx("path",{d:"M14 9.5C14 10.33 13.33 11 12.5 11H7.5C6.67 11 6 10.33 6 9.5C6 8.67 6.67 8 7.5 8H12.5C13.33 8 14 8.67 14 9.5Z",fill:"#4A154B"}),a.jsx("path",{d:"M7.5 5H9V3.5C9 2.67 8.33 2 7.5 2C6.67 2 6 2.67 6 3.5C6 4.33 6.67 5 7.5 5Z",fill:"#4A154B"}),a.jsx("path",{d:"M10 14.5C10 13.67 10.67 13 11.5 13H16.5C17.33 13 18 13.67 18 14.5C18 15.33 17.33 16 16.5 16H11.5C10.67 16 10 15.33 10 14.5Z",fill:"#4A154B"}),a.jsx("path",{d:"M16.5 19H15V20.5C15 21.33 15.67 22 16.5 22C17.33 22 18 21.33 18 20.5C18 19.67 17.33 19 16.5 19Z",fill:"#4A154B"})]})});case"hubspot":return a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M0.84 12C0.84 5.373 6.213 0 12.84 0C19.467 0 24.84 5.373 24.84 12C24.84 18.627 19.467 24 12.84 24C6.213 24 0.84 18.627 0.84 12Z",fill:"#FF7A59"}),a.jsx("path",{d:"M10.54 6C9.435 6 8.54 6.895 8.54 8C8.54 9.105 9.435 10 10.54 10C11.645 10 12.54 9.105 12.54 8C12.54 6.895 11.645 6 10.54 6Z",fill:"white"}),a.jsx("path",{d:"M15.14 10C14.035 10 13.14 10.895 13.14 12C13.14 13.105 14.035 14 15.14 14C16.245 14 17.14 13.105 17.14 12C17.14 10.895 16.245 10 15.14 10Z",fill:"white"}),a.jsx("path",{d:"M10.54 14C9.435 14 8.54 14.895 8.54 16C8.54 17.105 9.435 18 10.54 18C11.645 18 12.54 17.105 12.54 16C12.54 14.895 11.645 14 10.54 14Z",fill:"white"}),a.jsx("path",{d:"M10.54 10V14",stroke:"white",strokeWidth:"2"}),a.jsx("path",{d:"M13.14 12H8.54",stroke:"white",strokeWidth:"2"}),a.jsx("path",{d:"M15.14 14V18",stroke:"white",strokeWidth:"2"})]})});case"survey":case"document":return a.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"#15803D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M14 2V8H20",stroke:"#15803D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16 13H8",stroke:"#15803D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16 17H8",stroke:"#15803D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M10 9H9H8",stroke:"#15803D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})});case"interview":return a.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 15C15.3137 15 18 12.3137 18 9C18 5.68629 15.3137 3 12 3C8.68629 3 6 5.68629 6 9C6 12.3137 8.68629 15 12 15Z",stroke:"#CA8A04",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 15V21",stroke:"#CA8A04",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9 18H15",stroke:"#CA8A04",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})});default:return a.jsx(Le,{className:"w-5 h-5"})}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):m?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Error loading workspace"}),a.jsx("p",{className:"text-red-700",children:m}),a.jsx("button",{onClick:T,className:"mt-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Go back"})]})]}):s?a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx("button",{onClick:T,className:"p-2 text-gray-500 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name})]}),s.description&&a.jsx("p",{className:"text-gray-600 ml-9",children:s.description}),a.jsxs("div",{className:"flex items-center justify-between mt-4 ml-9",children:[a.jsxs("div",{className:"flex -space-x-2",children:[o.slice(0,5).map((A,te)=>{var fe,Ne,pe;return a.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 border-2 border-white flex items-center justify-center text-teal-600 text-xs font-medium overflow-hidden",title:((fe=A.user_profiles_view)==null?void 0:fe.full_name)||`User ${te+1}`,children:((pe=(Ne=A.user_profiles_view)==null?void 0:Ne.full_name)==null?void 0:pe[0])||"U"},A.id)}),o.length>5&&a.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-gray-600 text-xs font-medium",children:["+",o.length-5]}),a.jsx("button",{className:"w-8 h-8 rounded-full bg-teal-50 border-2 border-white flex items-center justify-center text-teal-600 hover:bg-teal-100 transition-colors",children:a.jsx(Dt,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>le(!0),className:"px-4 py-2 bg-teal-50 text-teal-700 rounded-lg hover:bg-teal-100 transition-colors flex items-center gap-2",children:[a.jsx(Vi,{className:"w-5 h-5"}),"AI Assistant"]})})]})]}),a.jsxs("div",{className:"mb-6 flex gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ed,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:w,onChange:A=>y(A.target.value),placeholder:"Search insights, customers, or themes...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),a.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx(na,{className:"w-5 h-5 text-gray-500"}),"Filter"]}),a.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx(Nw,{className:"w-5 h-5 text-gray-500"}),"Sort"]}),a.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx($w,{className:"w-5 h-5 text-gray-500"}),"Group By"]})]}),a.jsxs("div",{className:`${_?"grid grid-cols-3 gap-6":""}`,children:[a.jsxs("div",{className:`${_?"col-span-2":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Customer Insights (",M.length,")"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString()]})]}),M.length===0?a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[a.jsx("p",{className:"text-gray-600",children:"No insights found. Try adjusting your search or add new insights."}),a.jsx("button",{className:"mt-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Share an Insight"})]}):a.jsx("div",{className:"space-y-4",children:M.map(A=>{var te,fe,Ne,pe,Pt,Qt,Hr;return a.jsx("div",{className:`bg-white rounded-xl border ${b===A.id?"border-teal-300 shadow-md":"border-gray-200"} overflow-hidden transition-all`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:"flex-shrink-0",children:Pe((te=A.insights)==null?void 0:te.source)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[q.includes(A.id)&&a.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 text-xs font-medium rounded-full",children:"Important"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString()})]}),a.jsx("p",{className:"text-gray-900 font-medium mb-3",children:(fe=A.insights)==null?void 0:fe.content}),A.note&&a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:A.note}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[((Ne=A.insights)==null?void 0:Ne.source)&&a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-lg",children:A.insights.source}),((pe=A.insights)==null?void 0:pe.sentiment)&&a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-lg ${U(A.insights.sentiment)}`,children:A.insights.sentiment}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-lg flex items-center gap-1",children:[a.jsx(ga,{className:"w-3 h-3"}),"$25,000 ACV"]}),A.tags&&A.tags.map((re,nt)=>a.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-lg flex items-center gap-1",children:[a.jsx(tn,{className:"w-3 h-3"}),re]},nt))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex -space-x-2",children:a.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 border-2 border-white flex items-center justify-center text-teal-600 text-xs font-medium",children:((Qt=(Pt=A.user_profiles_view)==null?void 0:Pt.full_name)==null?void 0:Qt[0])||"U"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>V(A),className:"text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[a.jsx(Le,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:((Hr=A.pod_comments)==null?void 0:Hr.length)||0})]}),a.jsx("button",{onClick:()=>S(A.id),className:`${q.includes(A.id)?"text-amber-600":"text-gray-500 hover:text-amber-600"}`,children:a.jsx(Fi,{className:"w-4 h-4"})}),a.jsx("button",{className:"text-gray-500 hover:text-teal-600",children:a.jsx(Sw,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>J(F===A.id?null:A.id),className:"text-gray-500 hover:text-purple-600",children:a.jsx(xa,{className:"w-4 h-4"})}),F===A.id&&a.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg overflow-hidden z-20",children:a.jsxs("div",{className:"py-1",children:[a.jsxs("button",{onClick:()=>B(A.id),disabled:W,className:"w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 text-left flex items-center gap-2",children:[W?a.jsx(ie,{className:"w-4 h-4 animate-spin"}):a.jsx("img",{src:"https://wac-cdn.atlassian.com/assets/img/favicons/jira/favicon-32x32.png",alt:"Jira",className:"w-4 h-4"}),"Export to Jira"]}),a.jsxs("button",{className:"w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 text-left flex items-center gap-2",children:[a.jsx("img",{src:"https://asset.brandfetch.io/idFdo8ulhr/idzj70KEsX.png",alt:"Linear",className:"w-4 h-4"}),"Export to Linear"]})]})})]})]})]})]})]})})},A.id)})})]}),_&&C&&a.jsxs("div",{className:"col-span-1 bg-white rounded-xl border border-gray-200 overflow-hidden h-fit sticky top-20",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Comments"}),a.jsx("button",{onClick:O,className:"p-1 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Insight"}),a.jsx("p",{className:"text-gray-900",children:(ve=C.insights)==null?void 0:ve.content})]}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Discussion"}),C.pod_comments&&C.pod_comments.length>0?a.jsx("div",{className:"space-y-4 mb-4 max-h-[400px] overflow-y-auto",children:C.pod_comments.map(A=>{var te,fe,Ne;return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 text-xs font-medium flex-shrink-0",children:((fe=(te=A.user_profiles_view)==null?void 0:te.full_name)==null?void 0:fe[0])||"U"}),a.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:((Ne=A.user_profiles_view)==null?void 0:Ne.full_name)||"Unknown User"}),a.jsx("button",{onClick:()=>E(A.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(No,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:A.content}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:new Date(A.created_at).toLocaleString()})]})]},A.id)})}):a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg mb-4",children:[a.jsx("p",{className:"text-gray-500",children:"No comments yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Be the first to comment"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:A=>g(A.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),K(C.id))}}),a.jsx("button",{onClick:()=>K(C.id),disabled:!p.trim()||j,className:"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50",children:j?a.jsx(ie,{className:"w-5 h-5 animate-spin"}):a.jsx(Uw,{className:"w-5 h-5"})})]})]})]})]})]}),Y&&s&&a.jsx(yk,{podId:s.id,podName:s.name,onClose:()=>le(!1)})]}):a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-yellow-800",children:"Workspace not found"}),a.jsx("p",{className:"text-yellow-700",children:"The workspace you're looking for doesn't exist or you don't have access to it."}),a.jsx("button",{onClick:T,className:"mt-2 px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors",children:"Go back to workspaces"})]})]})}function bk(){const[e]=r0(),t=e.get("pod"),[r,n]=x.useState([]),[s,i]=x.useState(!0),[o,c]=x.useState(null);x.useState(!1),x.useState({name:"",description:""});const[l,u]=x.useState(null),[d,h]=x.useState(null),[m,v]=x.useState([]),[w,y]=x.useState([]),[b,f]=x.useState([]);x.useState(""),x.useState("member");const[p,g]=x.useState(!1);x.useState(null);const[j,N]=x.useState([]),[_,k]=x.useState([]);x.useState([]),x.useState([]),x.useState(!1);const[C,D]=x.useState(!1),[F,J]=x.useState({}),[W,$]=x.useState({}),q=je();x.useEffect(()=>{P(),le()},[]),x.useEffect(()=>{if(t&&r.length>0){const T=r.find(V=>V.id===t);T&&h(T)}},[t,r]),x.useEffect(()=>{d&&R(d.id)},[d]),x.useEffect(()=>{r.length>0&&Y()},[r]);const P=async()=>{try{i(!0),c(null);const{data:T,error:V}=await I.from("pods").select("*").order("created_at",{ascending:!1});if(V)throw V;n(T||[])}catch(T){console.error("Error loading pods:",T),c(T instanceof Error?T.message:"Failed to load workspaces")}finally{i(!1)}},Y=async()=>{try{const{data:T,error:V}=await I.from("pod_members").select("pod_id");if(V)throw V;const O={};T==null||T.forEach(U=>{U.pod_id&&(O[U.pod_id]=(O[U.pod_id]||0)+1)}),J(O);const{data:B,error:S}=await I.from("pod_insights").select("pod_id");if(S)throw S;const M={};B==null||B.forEach(U=>{U.pod_id&&(M[U.pod_id]=(M[U.pod_id]||0)+1)}),$(M)}catch(T){console.error("Error loading pod counts:",T)}},le=async()=>{try{const{data:T,error:V}=await I.from("themes").select("id, name, description, priority_score").order("name");if(V)throw V;N(T||[]);const{data:O,error:B}=await I.from("insights").select("id, content, source, sentiment").order("created_at",{ascending:!1}).limit(20);if(B)throw B;k(O||[])}catch(T){console.error("Error loading themes and insights:",T)}},R=async T=>{try{const{data:V,error:O}=await I.from("pod_members").select(`
          id,
          pod_id,
          user_id,
          role,
          user_profiles_view (
            full_name,
            role,
            department
          )
        `).eq("pod_id",T);if(O)throw console.error("Error loading pod members:",O),O;v(V||[]);const{data:B,error:S}=await I.from("pod_insights").select(`
          id,
          pod_id,
          insight_id,
          shared_by,
          note,
          tags,
          created_at,
          insights (
            content,
            source,
            sentiment
          ),
          user_profiles_view (
            full_name,
            role,
            department
          ),
          pod_comments (
            id,
            content,
            created_at,
            user_id,
            user_profiles_view (
              full_name,
              role,
              department
            )
          )
        `).eq("pod_id",T).order("created_at",{ascending:!1});if(S)throw console.error("Error loading pod insights:",S),S;y(B||[]);const{data:M,error:U}=await I.from("pod_invitations").select("*").eq("pod_id",T).eq("status","pending").order("created_at",{ascending:!1});if(U)throw U;f(M||[])}catch(V){console.error("Error loading pod details:",V),c(V instanceof Error?V.message:"Failed to load workspace details")}},z=async()=>{if(!(!l||!l.name.trim()))try{i(!0),c(null);const{error:T}=await I.from("pods").update({name:l.name.trim(),description:l.description.trim()}).eq("id",l.id);if(T)throw T;u(null),await P(),(d==null?void 0:d.id)===l.id&&h({...d,name:l.name.trim(),description:l.description.trim()})}catch(T){console.error("Error updating pod:",T),c(T instanceof Error?T.message:"Failed to update workspace")}finally{i(!1)}},K=async T=>{if(window.confirm("Are you sure you want to delete this workspace? This action cannot be undone."))try{i(!0),c(null);const{error:V}=await I.from("pods").delete().eq("id",T);if(V)throw V;(d==null?void 0:d.id)===T&&h(null),await P()}catch(V){console.error("Error deleting pod:",V),c(V instanceof Error?V.message:"Failed to delete workspace")}finally{i(!1)}},E=T=>{q(`/dashboard/pods/${T}`)};return s&&r.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ie,{className:"w-8 h-8 text-teal-600 animate-spin"})}):t?a.jsx(Cg,{podId:t}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workspaces"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Create and manage collaborative spaces for your team."})]}),a.jsxs("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Create Workspace"]})]}),o&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:o})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.length===0?a.jsxs("div",{className:"col-span-full p-8 text-center bg-white rounded-xl border border-gray-200",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(qe,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Workspaces Yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first workspace to start collaborating with your team."}),a.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Dt,{className:"w-5 h-5 mr-2"}),"Create Workspace"]})]}):r.map(T=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>E(T.id),children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T.name}),T.description&&a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:T.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"w-4 h-4"}),F[T.id]||0]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Le,{className:"w-4 h-4"}),W[T.id]||0]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pa,{className:"w-4 h-4"}),new Date(T.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:V=>{V.stopPropagation(),u(T)},className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(T0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:V=>{V.stopPropagation(),K(T.id)},className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(No,{className:"w-4 h-4"})})]})]})]},T.id))}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit Workspace"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:l.name,onChange:T=>u({...l,name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description||"",onChange:T=>u({...l,description:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:z,disabled:!l.name.trim()||s,className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50",children:"Save Changes"})]})]})]})}),p&&d&&a.jsx(_g,{podId:d.id,insightId:"",onClose:()=>g(!1),onShare:()=>{g(!1),R(d.id)}}),C&&a.jsx(vk,{onClose:()=>D(!1),onWorkspaceCreated:()=>{D(!1),P()}})]})}function wk(){const e=je(),t=r=>{e(r)};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Sources"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Connect to your customer feedback sources to gather insights and analyze Voice of Customer data."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsx(So,{className:"w-8 h-8 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manual Upload"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Upload CSV files with customer feedback"})]})]})}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Di,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"CSV Template"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Upload customer feedback using our standardized template with fields for customer name, email, company, ACV value, and feedback."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Batch Processing"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Upload multiple files at once to process large volumes of feedback efficiently."})]})]})]}),a.jsxs("button",{onClick:()=>t("/dashboard/data-sources/manual"),className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:["Upload Feedback Data",a.jsx(Ut,{className:"w-5 h-5"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(sa,{className:"w-8 h-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Integrations"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Connect to business apps to import feedback"})]})]})}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(jo,{className:"w-5 h-5 text-purple-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Slack"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Connect to Slack channels to capture customer feedback shared by your team."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"HubSpot"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Import customer tickets and feedback from your HubSpot account."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(td,{className:"w-5 h-5 text-purple-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Zoom & MS Teams"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Analyze customer calls and meetings for valuable feedback."})]})]})]}),a.jsxs("button",{onClick:()=>t("/dashboard/data-sources/integrations"),className:"w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:["Connect Integrations",a.jsx(Ut,{className:"w-5 h-5"})]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 text-center text-gray-500",children:[a.jsx(Zu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{children:"No recent data source activity."}),a.jsx("p",{className:"text-sm mt-1",children:"Connect a data source to start gathering customer feedback."})]})})]})]})}const jk=()=>crypto.randomUUID();function Nk(){const e=je(),[t,r]=x.useState([]),[n,s]=x.useState(!1),[i,o]=x.useState(!1),c=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?s(!0):y.type==="dragleave"&&s(!1)},l=y=>{y.preventDefault(),y.stopPropagation(),s(!1),y.dataTransfer.files&&y.dataTransfer.files.length>0&&d(y.dataTransfer.files)},u=y=>{y.target.files&&y.target.files.length>0&&d(y.target.files)},d=y=>{const b=Array.from(y).filter(f=>f.type==="text/csv").map(f=>({id:Math.random().toString(36).substring(2,9),name:f.name,size:f.size,status:"uploading",progress:0}));if(b.length===0){alert("Please upload CSV files only.");return}r(f=>[...f,...b]),o(!0),b.forEach(f=>{h(f.id)})},h=y=>{let b=0;const f=setInterval(()=>{b+=5,r(p=>p.map(g=>g.id===y?{...g,progress:Math.min(b,100)}:g)),b>=100&&(clearInterval(f),r(p=>p.map(g=>g.id===y?{...g,status:"processing"}:g)),setTimeout(()=>{r(p=>p.map(g=>g.id===y?{...g,status:Math.random()>.9?"error":"completed",error:Math.random()>.9?"Invalid CSV format or missing required columns":void 0}:g)),setTimeout(()=>{t.every(g=>g.status==="completed"||g.status==="error")&&o(!1)},500)},1500))},100)},m=y=>{r(b=>b.filter(f=>f.id!==y))},v=()=>{const y=["Customer Name,Email,Company,ACV Value,Feedback",'John Doe,john@example.com,Acme Inc,50000,"The new dashboard is great but loading times could be improved"','Jane Smith,jane@company.com,Tech Corp,75000,"We need better export options for reports"','Bob Johnson,bob@enterprise.com,Enterprise Ltd,120000,"Mobile app crashes frequently when processing large datasets"'].join(`
`),b=new Blob([y],{type:"text/csv"}),f=URL.createObjectURL(b),p=document.createElement("a");p.href=f,p.download="customer_feedback_template.csv",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f)};async function w(y,b,f){const{data:{user:p},error:g}=await I.auth.getUser();if(g||!p){console.error("Unable to get user"),ee.error("User authentication failed.");return}const j=p.id,N=[];for(let _=0;_<f.length;_++){const k=f[_],C=`Customer: ${k["Customer Name"]}, Email: ${k.Email}, Company: ${k["Company Name"]}, ACV: ${k["ACV Value"]}, Feedback: ${k.Feedback}`,D=k["ACV Value"],F=D?parseFloat(D.toString().replace(/,/g,"")):null,{data:J,error:W}=await I.from("csv_uploads").insert({id:jk(),tenant_id:j,file_name:b,row_index:_+1,customer_name:k["Customer Name"],email:k.Email,company:k["Company Name"],acv_value:F,feedback:k.Feedback,content_raw:C,received_at:new Date().toISOString(),metadata:k}).select("id").single();W?(console.error(`Insert failed for row ${_+1}:`,W.message),ee.error(`Insert failed for row ${_+1}`)):J!=null&&J.id&&N.push(J.id)}if(N.length>0){const{error:_}=await I.functions.invoke("prepare_llm_request",{body:{tenant_id:j,upload_ids:N,source:"manual-upload"}});_?(console.error("Failed to trigger prepare_llm_request:",_.message),ee.error("Failed to trigger LLM processing.")):(console.log("✅ prepare_llm_request triggered for IDs:",N),ee.success("LLM processing started successfully."))}}return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("button",{onClick:()=>e("/dashboard/data-sources"),className:"p-2 text-gray-500 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manual Data Upload"}),a.jsx("p",{className:"text-gray-600",children:"Upload CSV files with customer feedback data"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"CSV Template"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Download our template to ensure your data is formatted correctly"})]}),a.jsxs("button",{onClick:v,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[a.jsx(Aw,{className:"w-5 h-5"}),"Download Template"]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex items-start gap-3",children:[a.jsx(Mw,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-900",children:"Required CSV Format"}),a.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Your CSV file must include these columns:"," ",a.jsx("span",{className:"font-semibold",children:"Customer Name, Email, Company, ACV Value, Feedback"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload Files"}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:l,children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(So,{className:"w-8 h-8 text-gray-500"})}),a.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Drag and drop CSV files here"}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"or"}),a.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-flex items-center gap-2",children:[a.jsx(Di,{className:"w-5 h-5"}),"Select CSV Files",a.jsx("input",{type:"file",accept:".csv",multiple:!0,onChange:u,className:"hidden"})]})]})]}),t.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Uploaded Files"}),a.jsx("div",{className:"space-y-4",children:t.map(y=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Di,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-gray-900",children:y.name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="uploading"&&a.jsxs("span",{className:"text-sm text-blue-600 flex items-center gap-1",children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Uploading"]}),y.status==="processing"&&a.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Processing"]}),y.status==="completed"&&a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx($c,{className:"w-4 h-4"}),"Completed"]}),y.status==="error"&&a.jsxs("span",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(Ue,{className:"w-4 h-4"}),"Error"]}),a.jsx("button",{onClick:()=>m(y.id),className:"p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-gray-100",children:a.jsx(No,{className:"w-4 h-4"})})]})]}),y.status==="uploading"&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${y.progress}%`}})}),y.status==="error"&&y.error&&a.jsx("div",{className:"mt-2 text-sm text-red-600",children:y.error}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[(y.size/1024).toFixed(2)," KB"]})]},y.id))}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",onClick:async()=>{var y;for(const b of t)if(b.status==="completed"){const f=document.querySelector('input[type="file"]'),p=(y=f==null?void 0:f.files)==null?void 0:y[0];if(!p){console.warn("No file object found");continue}const j=(await p.text()).trim().split(`
`),N=j[0].split(","),_=j.slice(1).map(k=>{const C=k.split(","),D={};return N.forEach((F,J)=>{var W;D[F.trim()]=(W=C[J])==null?void 0:W.trim()}),D});await w(b.id,b.name,_)}},children:i?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"Process All Files"})})]})]})}function kk(){const e=je(),t=hr(),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,c]=x.useState(null),[l,u]=x.useState([]),[d,h]=x.useState(null);x.useEffect(()=>{m();const f=new URLSearchParams(t.search),p=f.get("integration"),g=f.get("status"),j=f.get("message");p&&g&&(g==="success"?h({type:"success",message:`Successfully connected to ${p}!`}):g==="error"&&h({type:"error",message:j||`Failed to connect to ${p}.`}),e("/dashboard/data-sources/integrations",{replace:!0}));const N=sessionStorage.getItem("highlight_integration");N&&(setTimeout(()=>{const _=document.getElementById(`integration-${N}`);_&&(_.scrollIntoView({behavior:"smooth",block:"center"}),_.classList.add("highlight-integration"),setTimeout(()=>{_.classList.remove("highlight-integration")},3e3))},500),sessionStorage.removeItem("highlight_integration"))},[t,e]);const m=async()=>{try{const{data:f,error:p}=await I.from("integration_settings").select("*");if(p)throw p;const g=[{id:"slack",name:"Slack",description:"Connect to Slack channels to capture customer feedback shared by your team",icon:jo,status:"disconnected",isPopular:!0},{id:"hubspot",name:"HubSpot",description:"Import customer tickets and feedback from your HubSpot account",icon:Qn,status:"disconnected",isPopular:!0},{id:"zoom",name:"Zoom",description:"Analyze customer calls and meetings for valuable feedback",icon:td,status:"disconnected",isPopular:!0},{id:"ms-teams",name:"Microsoft Teams",description:"Capture feedback from team discussions and customer meetings",icon:Le,status:"disconnected",isPopular:!1}];if(f){const j=g.map(N=>{var k;const _=f.find(C=>C.integration_type===N.id);return _?{...N,status:"connected",lastSynced:((k=_.additional_settings)==null?void 0:k.last_synced)||null}:N});u(j)}else u(g)}catch(f){console.error("Error loading integration status:",f),h({type:"error",message:"Failed to load integration status"})}},v=async f=>{n(f),h(null);try{if(f==="hubspot"||f==="slack"){const{data:{session:g}}=await I.auth.getSession();if(!g)throw new Error("User not authenticated");const j=`https://mboefbpirfqxspdsgkue.supabase.co/functions/v1/${f}-auth-init`,N=await fetch(j,{headers:{Authorization:`Bearer ${g.access_token}`}});if(!N.ok){const k=await N.json();throw new Error(k.message||`Failed to initialize ${f} OAuth`)}const{url:_}=await N.json();if(!_)throw new Error("No authorization URL received");window.location.href=_;return}await new Promise(g=>setTimeout(g,2e3));const{data:{session:p}}=await I.auth.getSession();if(p){const{error:g}=await I.from("integration_settings").upsert({user_id:p.user.id,integration_type:f,additional_settings:{status:"connected",last_connected:new Date().toISOString()}});if(g)throw console.error("Error saving integration:",g),g}h({type:"success",message:`Successfully connected to ${f}!`}),ee.success(`Successfully connected to ${f}!`),await m()}catch(p){console.error(`Error connecting to ${f}:`,p),h({type:"error",message:p instanceof Error?p.message:`Failed to connect to ${f}`}),ee.error(`Failed to connect to ${f}`)}finally{n(null)}},w=async f=>{c(f),h(null);try{const{data:{session:p}}=await I.auth.getSession();if(!p)throw new Error("User not authenticated");const{error:g}=await I.from("integration_settings").delete().eq("user_id",p.user.id).eq("integration_type",f);if(g)throw g;h({type:"success",message:`Successfully disconnected from ${f}`}),ee.success(`Successfully disconnected from ${f}`),await m()}catch(p){console.error(`Error disconnecting from ${f}:`,p),h({type:"error",message:p instanceof Error?p.message:`Failed to disconnect from ${f}`}),ee.error(`Failed to disconnect from ${f}`)}finally{c(null)}},y=async f=>{i(f),h(null);try{if(f==="hubspot"){const{data:{session:p}}=await I.auth.getSession();if(!p)throw new Error("User not authenticated");const j=await fetch("https://mboefbpirfqxspdsgkue.supabase.co/functions/v1/hubspot-fetch-companies",{method:"POST",headers:{Authorization:`Bearer ${p.access_token}`,"Content-Type":"application/json"}});if(!j.ok){const k=await j.json();throw new Error(k.message||"Failed to sync data from HubSpot")}const N=await j.json();if(N.error)throw new Error(N.message||"Failed to sync data from HubSpot");const{error:_}=await I.from("integration_settings").update({additional_settings:{last_synced:new Date().toISOString()}}).eq("integration_type",f);_&&console.error("Error updating last synced timestamp:",_),h({type:"success",message:N.message||`Successfully synced data from ${f}`}),ee.success(`Successfully synced data from ${f}`),await m()}else await new Promise(p=>setTimeout(p,2e3)),h({type:"success",message:`Successfully synced data from ${f}`}),ee.success(`Successfully synced data from ${f}`)}catch(p){console.error(`Error syncing data from ${f}:`,p),h({type:"error",message:p instanceof Error?p.message:`Failed to sync data from ${f}`}),ee.error(`Failed to sync data from ${f}`)}finally{i(null)}},b=f=>f?new Date(f).toLocaleString():"Never";return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("button",{onClick:()=>e("/dashboard/data-sources"),className:"p-2 text-gray-500 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),a.jsx("p",{className:"text-gray-600",children:"Connect to business apps to import customer feedback"})]})]}),d&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start gap-3 ${d.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[d.type==="success"?a.jsx($c,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}):a.jsx(Ue,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsx("div",{children:d.message})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Integrations"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.filter(f=>f.isPopular).map(f=>a.jsxs("div",{id:`integration-${f.id}`,className:"border border-gray-200 rounded-lg p-6 hover:border-purple-200 hover:shadow-sm transition-all",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(f.icon,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),f.status==="connected"&&f.lastSynced&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last synced: ",b(f.lastSynced)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:f.status==="connected"?a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx($c,{className:"w-4 h-4"}),"Connected"]}):a.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(Ue,{className:"w-4 h-4"}),"Not connected"]})}),f.status==="connected"?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>y(f.id),disabled:s===f.id||o===f.id,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:s===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Syncing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zh,{className:"w-4 h-4"}),"Sync Data"]})}),a.jsx("button",{onClick:()=>w(f.id),disabled:o===f.id||s===f.id,className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-70 flex items-center gap-2",children:o===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Disconnecting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ui,{className:"w-4 h-4"}),"Disconnect"]})})]}):a.jsx("button",{onClick:()=>v(f.id),disabled:r===f.id,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:r===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"w-4 h-4"}),"Connect"]})})]})]},f.id))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Integrations"}),a.jsx("div",{className:"space-y-4",children:l.filter(f=>!f.isPopular).map(f=>a.jsx("div",{id:`integration-${f.id}`,className:"border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:shadow-sm transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:a.jsx(f.icon,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:f.name}),a.jsx("p",{className:"text-sm text-gray-600",children:f.description}),f.status==="connected"&&f.lastSynced&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Last synced: ",b(f.lastSynced)]})]})]}),f.status==="connected"?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>y(f.id),disabled:s===f.id||o===f.id,className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-70 flex items-center gap-1.5 text-sm",children:s===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-3 h-3 animate-spin"}),"Syncing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zh,{className:"w-3 h-3"}),"Sync Data"]})}),a.jsx("button",{onClick:()=>w(f.id),disabled:o===f.id||s===f.id,className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-70 flex items-center gap-1.5 text-sm",children:o===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-3 h-3 animate-spin"}),"Disconnecting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ui,{className:"w-3 h-3"}),"Disconnect"]})})]}):a.jsx("button",{onClick:()=>v(f.id),disabled:r===f.id,className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-70 flex items-center gap-1.5 text-sm",children:r===f.id?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-3 h-3 animate-spin"}),"Connecting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"w-3 h-3"}),"Connect"]})})]})},f.id))})]}),a.jsx("div",{className:"mt-8 bg-blue-50 p-6 rounded-xl border border-blue-100",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(wo,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"Need a custom integration?"}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"We can build custom integrations for your specific tools and workflows. Contact our support team to discuss your requirements."}),a.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Contact Support"})]})]})})]})}function Sk(){const e=je(),[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(!1),[c,l]=x.useState(null),[u,d]=x.useState(null),[h,m]=x.useState(""),[v,w]=x.useState(""),[y,b]=x.useState(""),[f,p]=x.useState(!1),[g,j]=x.useState(!1),[N,_]=x.useState(!1),[k,C]=x.useState(null),[D,F]=x.useState(null),[J,W]=x.useState(!1),[$,q]=x.useState({dailyDigest:!0,weeklyReport:!0,newInsights:!1,podActivity:!0,productUpdates:!0}),[P,Y]=x.useState("system");x.useEffect(()=>{le()},[]);const le=async()=>{try{s(!0),l(null);const{data:{user:E},error:T}=await I.auth.getUser();if(T)throw T;if(!E){e("/login");return}const{data:V,error:O}=await I.from("user_profiles").select("*").eq("id",E.id).single();if(O)throw O;r({...V,email:E.email})}catch(E){console.error("Error loading user profile:",E),l("Failed to load user profile. Please try again later.")}finally{s(!1)}},R=async()=>{if(t)try{o(!0),l(null),d(null);const{error:E}=await I.from("user_profiles").update({full_name:t.full_name,role:t.role,department:t.department}).eq("id",t.id);if(E)throw E;d("Profile updated successfully!"),setTimeout(()=>{d(null)},3e3)}catch(E){console.error("Error updating profile:",E),l("Failed to update profile. Please try again.")}finally{o(!1)}},z=async()=>{try{if(C(null),F(null),W(!0),!h){C("Current password is required");return}if(!v){C("New password is required");return}if(v.length<6){C("New password must be at least 6 characters");return}if(v!==y){C("New passwords do not match");return}const{error:E}=await I.auth.updateUser({password:v});if(E)throw E;m(""),w(""),b(""),F("Password updated successfully!"),setTimeout(()=>{F(null)},3e3)}catch(E){console.error("Error changing password:",E),C("Failed to update password. Please ensure your current password is correct.")}finally{W(!1)}},K=async()=>{try{await I.auth.signOut(),e("/login")}catch(E){console.error("Error signing out:",E)}};return n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ie,{className:"w-8 h-8 text-blue-600 animate-spin"})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h2",{className:"font-medium text-gray-900",children:"Settings"})}),a.jsxs("nav",{className:"p-2",children:[a.jsxs("a",{href:"#profile",className:"flex items-center gap-2 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg",children:[a.jsx(Dc,{className:"w-5 h-5"}),a.jsx("span",{children:"Profile"})]}),a.jsxs("a",{href:"#security",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg mt-1",children:[a.jsx(bn,{className:"w-5 h-5"}),a.jsx("span",{children:"Security"})]}),a.jsxs("a",{href:"#notifications",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg mt-1",children:[a.jsx(Qn,{className:"w-5 h-5"}),a.jsx("span",{children:"Notifications"})]}),a.jsxs("a",{href:"#appearance",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg mt-1",children:[a.jsx(Iw,{className:"w-5 h-5"}),a.jsx("span",{children:"Appearance"})]})]})]})}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("section",{id:"profile",className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your personal information and job details."})]}),a.jsxs("div",{className:"p-6",children:[c&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:c})]}),u&&a.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[a.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-green-700",children:u})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"fullName",value:(t==null?void 0:t.full_name)||"",onChange:E=>r(T=>T?{...T,full_name:E.target.value}:null),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your full name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Role"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_w,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"role",value:(t==null?void 0:t.role)||"",onChange:E=>r(T=>T?{...T,role:E.target.value}:null),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Product Manager"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Cw,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"department",value:(t==null?void 0:t.department)||"",onChange:E=>r(T=>T?{...T,department:E.target.value}:null),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Product"})]})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx("button",{onClick:R,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(I0,{className:"w-5 h-5"}),"Save Changes"]})})})]})]})]}),a.jsxs("section",{id:"security",className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your password and account security."})]}),a.jsxs("div",{className:"p-6",children:[k&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:k})]}),D&&a.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[a.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-green-700",children:D})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:f?"text":"password",id:"currentPassword",value:h,onChange:E=>m(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your current password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!f),children:f?a.jsx(ai,{className:"h-5 w-5 text-gray-400"}):a.jsx(ii,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:g?"text":"password",id:"newPassword",value:v,onChange:E=>w(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter new password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>j(!g),children:g?a.jsx(ai,{className:"h-5 w-5 text-gray-400"}):a.jsx(ii,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:N?"text":"password",id:"confirmPassword",value:y,onChange:E=>b(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>_(!N),children:N?a.jsx(ai,{className:"h-5 w-5 text-gray-400"}):a.jsx(ii,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx("button",{onClick:z,disabled:J,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:J?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"w-5 h-5"}),"Change Password"]})})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Account Actions"}),a.jsxs("button",{onClick:K,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-2",children:[a.jsx(Ui,{className:"w-5 h-5"}),"Sign Out"]})]})]})]}),a.jsxs("section",{id:"notifications",className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage how and when you receive notifications."})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Daily Digest"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Receive a daily summary of new insights and activity"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:$.dailyDigest,onChange:()=>q(E=>({...E,dailyDigest:!E.dailyDigest}))}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Weekly Report"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Receive a weekly summary of trends and insights"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:$.weeklyReport,onChange:()=>q(E=>({...E,weeklyReport:!E.weeklyReport}))}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"New Insights"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get notified when new insights are added"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:$.newInsights,onChange:()=>q(E=>({...E,newInsights:!E.newInsights}))}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Workspace Activity"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get notified about activity in your workspaces"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:$.podActivity,onChange:()=>q(E=>({...E,podActivity:!E.podActivity}))}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Product Updates"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates about new features and improvements"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:$.productUpdates,onChange:()=>q(E=>({...E,productUpdates:!E.productUpdates}))}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Notification Preferences"})})]})]}),a.jsxs("section",{id:"appearance",className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Appearance"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Customize how Duck AI looks for you."})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer ${P==="light"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>Y("light"),children:[a.jsx("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-md mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Light"})]}),a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer ${P==="dark"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>Y("dark"),children:[a.jsx("div",{className:"w-full h-12 bg-gray-800 border border-gray-700 rounded-md mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Dark"})]}),a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer ${P==="system"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>Y("system"),children:[a.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-white to-gray-800 border border-gray-200 rounded-md mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"System"})]})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"System theme will follow your device's dark/light mode settings."})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Appearance Settings"})})]})})]})]})]})]})}const Tl=({direction:e,percentage:t})=>e==="up"?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(ko,{className:"w-5 h-5 mr-1"}),t&&a.jsxs("span",{children:["+",t.toFixed(1),"%"]})]}):e==="down"?a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(O0,{className:"w-5 h-5 mr-1"}),t&&a.jsxs("span",{children:["-",Math.abs(t).toFixed(1),"%"]})]}):a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(Fw,{className:"w-5 h-5 mr-1"}),t&&a.jsx("span",{children:"0%"})]});function _k({filters:e,onChange:t}){return a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pa,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.dateRange,onChange:r=>t({...e,dateRange:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.customerSegment,onChange:r=>t({...e,customerSegment:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Segments"}),a.jsx("option",{value:"smb",children:"SMB"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.source,onChange:r=>t({...e,source:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Sources"}),a.jsx("option",{value:"slack",children:"Slack"}),a.jsx("option",{value:"hubspot",children:"HubSpot"}),a.jsx("option",{value:"document",children:"Documents"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lc,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e.themeCategory,onChange:r=>t({...e,themeCategory:r.target.value}),className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"feature",children:"Feature Requests"}),a.jsx("option",{value:"bug",children:"Bug Reports"}),a.jsx("option",{value:"ux",children:"User Experience"}),a.jsx("option",{value:"performance",children:"Performance"})]})]})]})}function Ck(){const[e,t]=x.useState("themes"),[r,n]=x.useState([]),[s,i]=x.useState(!0),[o,c]=x.useState(null),[l,u]=x.useState({dateRange:"all",customerSegment:"all",source:"all",themeCategory:"all",minPriorityScore:0});x.useEffect(()=>{d()},[l,e]);const d=async()=>{try{i(!0),c(null);const v=new Date,w=new Date(v.getTime()-7*24*60*60*1e3),y=new Date(v.getTime()-30*24*60*60*1e3);if(e==="themes"){const{data:b,error:f}=await I.from("themes").select(`
            id,
            name,
            insight_themes (
              insight:insights (
                id,
                created_at,
                insight_customers (
                  customer_id,
                  acv_impact
                )
              )
            )
          `).order("created_at",{ascending:!1});if(f)throw f;const p=(b==null?void 0:b.map(g=>{const j=g.insight_themes.filter($=>$.insight).map($=>$.insight),N=j.length,_=j.filter($=>new Date($.created_at)>=w).length,k=j.filter($=>new Date($.created_at)>=y).length,C=N>0?(_/N-.25)*100:0,D=N>0?(k/N-.5)*100:0;let F="flat";C>5?F="up":C<-5&&(F="down");const J=new Set;let W=0;return j.forEach($=>{var q;(q=$.insight_customers)==null||q.forEach(P=>{J.add(P.customer_id),W+=P.acv_impact||0})}),{id:g.id,name:g.name,overallTrend:F,wowTrend:C,momTrend:D,totalAcvImpact:W,uniqueCustomers:J.size}}))||[];n(p)}else{const{data:b,error:f}=await I.from("insights").select(`
            id,
            content,
            created_at,
            insight_customers (
              customer_id,
              acv_impact
            ),
            insight_themes (
              theme:themes (
                name
              )
            )
          `).order("created_at",{ascending:!1});if(f)throw f;const p=(b==null?void 0:b.map(g=>{var $;const j=g.content.length>50?g.content.substring(0,50)+"...":g.content,N=new Set;let _=0;($=g.insight_customers)==null||$.forEach(q=>{N.add(q.customer_id),_+=q.acv_impact||0});const k=new Date(g.created_at),C=k>=w,D=k>=y,F=C?100:-100,J=D?100:-100,W=C?"up":D?"flat":"down";return{id:g.id,name:j,overallTrend:W,wowTrend:F,momTrend:J,totalAcvImpact:_,uniqueCustomers:N.size}}))||[];n(p)}}catch(v){console.error("Error loading trends:",v),c(v instanceof Error?v.message:"An unexpected error occurred")}finally{i(!1)}},h=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(v),m=()=>e==="themes"?"Theme":"Insight";return a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trends Analysis"}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Track and analyze customer feedback trends over time."})]}),a.jsx(_k,{filters:l,onChange:u}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Trends Analysis"}),a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 px-3 py-2",children:[a.jsx(na,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:e,onChange:v=>{t(v.target.value)},className:"border-0 bg-transparent focus:ring-0 text-sm",children:[a.jsx("option",{value:"themes",children:"Themes"}),a.jsx("option",{value:"insights",children:"Insights"})]})]})]}),o&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:o})]}),s?a.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:a.jsx(ie,{className:"w-8 h-8 text-blue-600 animate-spin"})}):r.length===0?a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No trends data available. This could be because there isn't enough historical data yet."})}):a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m()}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Trend"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WoW Trend"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MoM Trend"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total ACV Impact"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unique Customers"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Tl,{direction:v.overallTrend})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Tl,{direction:v.wowTrend>0?"up":v.wowTrend<0?"down":"flat",percentage:v.wowTrend})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Tl,{direction:v.momTrend>0?"up":v.momTrend<0?"down":"flat",percentage:v.momTrend})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:h(v.totalAcvImpact)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:v.uniqueCustomers})})]},v.id))})]})})]})]})})}function Ek(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,c]=x.useState({fullName:"",role:"",goals:[]});x.useEffect(()=>{(async()=>{var w,y;const{data:m}=await I.auth.getUser();(w=m.user)!=null&&w.email&&i(m.user.email);const{data:v}=await I.from("user_profiles").select("full_name, role").eq("id",(y=m.user)==null?void 0:y.id).single();v&&c({...o,fullName:v.full_name||"",role:v.role||""})})()},[]);const l=h=>{c(m=>{const v=m.goals.includes(h)?m.goals.filter(w=>w!==h):[...m.goals,h];return{...m,goals:v}})},u=async()=>{if(!(!o.fullName||!o.role)){n(!0);try{const{data:{user:h}}=await I.auth.getUser();if(!h)throw new Error("No user found");const{error:m}=await I.from("user_profiles").upsert({id:h.id,full_name:o.fullName,role:o.role,department:d(o.role)});if(m)throw m;await t("profile_setup"),e("/onboarding/product-details")}catch(h){console.error("Error updating profile:",h)}finally{n(!1)}}},d=h=>{switch(h){case"Product Manager":return"Product";case"Product Marketer":return"Marketing";case"Sales":return"Sales";case"Customer Success":case"Customer Support":return"Support";default:return"Other"}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:"1"}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Profile"})]}),a.jsx("div",{className:"h-1 w-16 bg-gray-200 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center",children:"2"}),a.jsx("span",{className:"font-medium text-gray-400",children:"Product"})]}),a.jsx("div",{className:"h-1 w-16 bg-gray-200 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center",children:"3"}),a.jsx("span",{className:"font-medium text-gray-400",children:"Data Sources"})]})]}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx(Dc,{className:"w-16 h-16 text-[#00A4B8] mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Let's get to know you"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Tell us a bit about yourself so we can personalize your experience."})]}),a.jsx("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:h=>c({...o,fullName:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Email"}),a.jsx("input",{type:"email",value:s,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Role"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Product Manager","Product Marketer","Sales","Customer Success","Customer Support"].map(h=>a.jsxs("button",{type:"button",onClick:()=>c({...o,role:h}),className:`flex items-center justify-between p-4 border-2 rounded-lg transition-colors ${o.role===h?"border-[#00A4B8] bg-[#00A4B8]/5":"border-gray-200 hover:border-[#00A4B8]/50"}`,children:[a.jsx("span",{className:"font-medium",children:h}),o.role===h&&a.jsx($t,{className:"w-5 h-5 text-[#00A4B8]"})]},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are your goals? (Optional)"}),a.jsx("div",{className:"space-y-3",children:["Prioritize roadmap","Collect customer feedback","Analyze themes","Collaborate with my team"].map(h=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`goal-${h}`,checked:o.goals.includes(h),onChange:()=>l(h),className:"h-5 w-5 text-[#00A4B8] rounded border-gray-300 focus:ring-[#00A4B8]"}),a.jsx("label",{htmlFor:`goal-${h}`,className:"ml-3 text-gray-700",children:h})]},h))})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:u,disabled:!o.fullName||!o.role||r,className:"px-6 py-3 bg-[#00A4B8] text-white rounded-lg text-lg font-semibold hover:bg-[#008a9a] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r?"Saving...":"Next",a.jsx(Ut,{className:"w-5 h-5"})]})})]})}function Pk(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(!1),[s,i]=x.useState({name:"",description:"",segments:[]}),o=l=>{i(u=>{const d=u.segments.includes(l)?u.segments.filter(h=>h!==l):[...u.segments,l];return{...u,segments:d}})},c=async()=>{n(!0);try{const{data:{user:l}}=await I.auth.getUser();if(!l)throw new Error("No user found");if(s.name){const{error:d}=await I.from("product_areas").insert({user_id:l.id,name:s.name,description:s.description});if(d)throw d}const{error:u}=await I.auth.updateUser({data:{customer_segments:s.segments,onboarding_completed_product:!0}});if(u)throw u;await t("product_details"),e("/onboarding/product-themes")}catch(l){console.error("Error saving product details:",l)}finally{n(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Profile"})]}),a.jsx("div",{className:"h-1 w-16 bg-[#00A4B8] rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:"2"}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Product"})]}),a.jsx("div",{className:"h-1 w-16 bg-gray-200 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center",children:"3"}),a.jsx("span",{className:"font-medium text-gray-400",children:"Data Sources"})]})]}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx(Yn,{className:"w-16 h-16 text-[#00A4B8] mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tell us about your product"}),a.jsx("p",{className:"text-lg text-gray-600",children:"This helps us organize your feedback and insights more effectively."})]}),a.jsx("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),a.jsx("input",{type:"text",value:s.name,onChange:l=>i({...s,name:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"e.g., Marketing Analytics Platform"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Description"}),a.jsx("textarea",{value:s.description,onChange:l=>i({...s,description:l.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"e.g., AI-powered QA automation platform for businesses"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Segments (Optional)"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["SMBs","Enterprises","Product Teams","Developers","Marketers","Sales Teams"].map(l=>a.jsxs("div",{onClick:()=>o(l),className:`flex items-center justify-between p-4 border-2 rounded-lg cursor-pointer transition-colors ${s.segments.includes(l)?"border-[#00A4B8] bg-[#00A4B8]/5":"border-gray-200 hover:border-[#00A4B8]/50"}`,children:[a.jsx("span",{className:"font-medium",children:l}),s.segments.includes(l)&&a.jsx($t,{className:"w-5 h-5 text-[#00A4B8]"})]},l))})]})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{onClick:()=>e("/onboarding/profile-setup"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Back"]}),a.jsxs("button",{onClick:c,disabled:!s.name||r,className:"px-6 py-3 bg-[#00A4B8] text-white rounded-lg text-lg font-semibold hover:bg-[#008a9a] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r?"Saving...":"Next",a.jsx(Ut,{className:"w-5 h-5"})]})]})]})}const vn={default:["Onboarding","Performance","User Experience","Integrations","Reporting","API Stability"],ai:["AI Accuracy","Model Training","Prompt Engineering","Response Time","Data Privacy","Integrations"],analytics:["Data Visualization","Report Generation","Data Import","Dashboard Performance","Filtering","Exports"],crm:["Contact Management","Pipeline View","Email Integration","Mobile Experience","Reporting","Automation"],marketing:["Campaign Management","Analytics","Email Templates","Automation","Social Integration","Landing Pages"],developer:["API Documentation","SDK Stability","Developer Experience","Authentication","Rate Limits","Webhooks"]};function Tk(){const e=je(),{completeStep:t}=Yt(),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,c]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState(""),[m,v]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{user:j}}=await I.auth.getUser();if(!j)return;const{data:N}=await I.from("product_areas").select("id, name, description").eq("user_id",j.id).order("created_at",{ascending:!1}).limit(1);N&&N.length>0&&(i(N[0].description||N[0].name||""),v(N[0].id),w(N[0].description||N[0].name||""))}catch(j){console.error("Error loading product details:",j)}})()},[]);const w=g=>{const j=g.toLowerCase();j.includes("ai")||j.includes("machine learning")||j.includes("ml")?c(vn.ai):j.includes("analytics")||j.includes("dashboard")||j.includes("report")?c(vn.analytics):j.includes("crm")||j.includes("customer relationship")?c(vn.crm):j.includes("marketing")||j.includes("campaign")?c(vn.marketing):j.includes("api")||j.includes("developer")||j.includes("sdk")?c(vn.developer):c(vn.default)},y=g=>{u(j=>j.includes(g)?j.filter(N=>N!==g):[...j,g])},b=()=>{d.trim()&&(l.includes(d.trim())||u(g=>[...g,d.trim()]),h(""))},f=()=>{e("/onboarding/product-details")},p=async()=>{if(l.length!==0){n(!0);try{const{data:{user:g}}=await I.auth.getUser();if(!g)throw new Error("No user found");if(m){const j=l.map(_=>({name:_,description:`Feedback related to ${_.toLowerCase()}`,product_area_id:m,created_by:g.id,priority_score:50,status:"active",is_auto_generated:!1})),{error:N}=await I.from("themes").insert(j);if(N)throw N}await t("product_themes"),e("/onboarding/data-sources")}catch(g){console.error("Error saving themes:",g)}finally{n(!1)}}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Profile"})]}),a.jsx("div",{className:"h-1 w-16 bg-[#00A4B8] rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Product"})]}),a.jsx("div",{className:"h-1 w-16 bg-[#00A4B8] rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:"3"}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Data Sources"})]})]}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx(Yn,{className:"w-16 h-16 text-[#00A4B8] mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Let's identify your product's focus areas"}),a.jsx("p",{className:"text-lg text-gray-600",children:"We've suggested themes based on your product description. These help ProduckAI organize insights and surface relevant feedback."})]}),a.jsx("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Your Product"}),a.jsx("p",{className:"text-gray-600 mt-1",children:s||"No product description provided"})]}),a.jsx("button",{onClick:f,className:"text-[#00A4B8] hover:text-[#008a9a] text-sm",children:"Want to update your product description?"})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Suggested Themes"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(g=>a.jsxs("div",{onClick:()=>y(g),className:`flex items-center justify-between p-4 border-2 rounded-lg cursor-pointer transition-colors ${l.includes(g)?"border-[#00A4B8] bg-[#00A4B8]/5":"border-gray-200 hover:border-[#00A4B8]/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:g})]}),l.includes(g)&&a.jsx($t,{className:"w-5 h-5 text-[#00A4B8]"})]},g))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Custom Theme"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(tn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:d,onChange:g=>h(g.target.value),placeholder:"e.g., AI Test Agent",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-[#00A4B8] focus:border-[#00A4B8]",onKeyDown:g=>{g.key==="Enter"&&d.trim()&&(g.preventDefault(),b())}})]}),a.jsxs("button",{onClick:b,disabled:!d.trim(),className:"px-4 py-2 bg-[#00A4B8] text-white rounded-lg hover:bg-[#008a9a] transition-colors disabled:opacity-50 flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Add"]})]})]}),l.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selected Themes (",l.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(g=>a.jsxs("div",{className:"bg-[#00A4B8]/5 text-[#00A4B8] px-3 py-1.5 rounded-full flex items-center gap-1.5",children:[a.jsx(tn,{className:"w-4 h-4"}),a.jsx("span",{children:g}),a.jsx("button",{onClick:()=>y(g),className:"text-[#00A4B8] hover:text-[#008a9a] ml-1",children:a.jsx(Xe,{className:"w-4 h-4"})})]},`selected-${g}`))})]})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{onClick:()=>e("/onboarding/product-details"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Back"]}),a.jsxs("button",{onClick:p,disabled:l.length===0||r,className:"px-6 py-3 bg-[#00A4B8] text-white rounded-lg text-lg font-semibold hover:bg-[#008a9a] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r?"Saving...":"Next",a.jsx(Ut,{className:"w-5 h-5"})]})]})]})}function Ik(){const e=je(),{completeStep:t,skipOnboarding:r}=Yt(),[n,s]=x.useState(!1),[i,o]=x.useState([{id:"slack",name:"Slack",icon:jo,description:"Connect to Slack channels to capture customer feedback shared by your team",selected:!1,path:"/dashboard/data-sources/integrations"},{id:"zoom",name:"Zoom",icon:td,description:"Analyze customer calls and meetings for valuable feedback",selected:!1,path:"/dashboard/data-sources/integrations"},{id:"hubspot",name:"HubSpot",icon:Qn,description:"Import customer tickets and feedback from your HubSpot account",selected:!1,path:"/dashboard/data-sources/integrations"},{id:"csv",name:"CSV Upload",icon:Di,description:"Upload CSV files with customer feedback data",selected:!1,path:"/dashboard/data-sources/manual"}]),c=async u=>{try{await t("data_sources"),localStorage.setItem("selected_integration",u.id),sessionStorage.setItem("from_onboarding","true"),localStorage.setItem("integration_redirect_path",u.path),await r(),e("/dashboard")}catch(d){console.error("Error handling data source click:",d)}},l=async()=>{s(!0);try{const{data:{user:u}}=await I.auth.getUser();if(!u)throw new Error("No user found");const d=i.filter(h=>h.selected);if(d.length>0){const{error:h}=await I.from("feedback_sources").insert(d.map(m=>({user_id:u.id,source_type:m.id==="csv"?"document":m.id,is_active:!0})));if(h)throw h}await t("data_sources"),await r(),e("/dashboard")}catch(u){console.error("Error saving data sources:",u)}finally{s(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Profile"})]}),a.jsx("div",{className:"h-1 w-16 bg-[#00A4B8] rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Product"})]}),a.jsx("div",{className:"h-1 w-16 bg-[#00A4B8] rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#00A4B8] text-white flex items-center justify-center",children:"3"}),a.jsx("span",{className:"font-medium text-[#00A4B8]",children:"Data Sources"})]})]}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx(Zu,{className:"w-16 h-16 text-[#00A4B8] mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Connect your feedback sources"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Import customer feedback from your existing tools to start gathering insights."})]}),a.jsx("div",{className:"space-y-4 mb-8",children:i.map(u=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-[#00A4B8]/50 hover:shadow-sm transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx(u.icon,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:u.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>c(u),className:"px-4 py-2 bg-[#00A4B8] text-white rounded-lg hover:bg-[#008a9a] transition-colors flex items-center gap-2",children:[a.jsx(wo,{className:"w-4 h-4"}),"Configure Now"]})})]},u.id))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{onClick:()=>e("/onboarding/product-themes"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Back"]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-6 py-3 bg-[#00A4B8] text-white rounded-lg text-lg font-semibold hover:bg-[#008a9a] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[n?"Saving...":"Finish Setup",a.jsx(Ut,{className:"w-5 h-5"})]})]})]})}function Ok({onClose:e}){const[t,r]=x.useState({fullName:"",email:"",company:""}),[n,s]=x.useState(!1),[i,o]=x.useState(null),[c,l]=x.useState(!1),u=v=>{const{name:w,value:y}=v.target;r(b=>({...b,[w]:y}))},d=v=>{var b;if(!v)return!1;const w=["gmail.com","yahoo.com","hotmail.com","outlook.com","aol.com","icloud.com"],y=(b=v.split("@")[1])==null?void 0:b.toLowerCase();return y?!w.includes(y):!1},h=()=>t.fullName.trim()?t.email.trim()?t.email.includes("@")?d(t.email)?t.company.trim()?!0:(o("Company name is required"),!1):(o("Please use a business email address"),!1):(o("Please enter a valid email address"),!1):(o("Email is required"),!1):(o("Full name is required"),!1),m=async v=>{if(v.preventDefault(),!!h()){s(!0),o(null);try{const w=Math.random().toString(36).slice(-10)+Math.random().toString(36).slice(-10),{data:y,error:b}=await I.auth.signUp({email:t.email.trim(),password:w,options:{data:{full_name:t.fullName.trim(),company:t.company.trim()}}});if(b)throw b;if(!y.user)throw new Error("Failed to create account");const{error:f}=await I.from("user_profiles").insert({id:y.user.id,full_name:t.fullName.trim(),role:"Product Manager",department:"Product"});f&&console.error("Error creating profile:",f),l(!0),r({fullName:"",email:"",company:""}),setTimeout(()=>{e()},3e3)}catch(w){console.error("Error during signup:",w),o(w instanceof Error?w.message:"An unexpected error occurred")}finally{s(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:a.jsx(Xe,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(Zn,{size:"md",className:"mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Get Started with ProduckAI"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Join Product led companies to transform scattered customer feedback and build what matters!"})]}),c?a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[a.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-green-800",children:"Account created successfully!"}),a.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Please check your email to verify your account and set your password."})]})]}):a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-red-700",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"you@company.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),a.jsx("input",{type:"text",id:"company",name:"company",value:t.company,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A4B8] focus:border-transparent",placeholder:"Your company name"})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-[#00A4B8] text-white rounded-lg hover:bg-[#008a9a] transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Creating Account..."]}):"Create Free Account"})}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})]})})}function Of(){const{user:e}=Qu(),[t,r]=x.useState([{id:"csv-support",title:"CSV Support for Insight Generation",description:"Import customer feedback data from CSV files to generate insights and identify themes automatically.",status:"completed",votes:45,created_at:"2025-01-14T00:00:00Z",user_voted:!1,comments_count:0},{id:"hubspot-integration",title:"HubSpot Integration",description:"Connect with HubSpot to import customer feedback and support tickets for analysis.",status:"completed",votes:38,created_at:"2025-01-19T00:00:00Z",user_voted:!1,comments_count:0},{id:"zoom-integration",title:"Zoom Integration",description:"Analyze customer calls and meetings from Zoom for valuable feedback insights.",status:"in_progress",votes:52,created_at:"2025-02-09T00:00:00Z",user_voted:!1,comments_count:0},{id:"workspace-collaboration",title:"Workspace Collaboration",description:"Collaborate with team members in shared workspaces to analyze and act on customer feedback.",status:"completed",votes:63,created_at:"2025-01-05T00:00:00Z",user_voted:!1,comments_count:0}]),[n,s]=x.useState(!1),[i,o]=x.useState(null),[c,l]=x.useState(!1),[u,d]=x.useState({title:"",description:""}),[h,m]=x.useState(!1),[v,w]=x.useState("all"),[y,b]=x.useState("votes"),[f,p]=x.useState(null),[g,j]=x.useState(""),[N,_]=x.useState(!1);x.useEffect(()=>{},[e]);const k=async $=>{if($.preventDefault(),!u.title.trim()||!u.description.trim()){ee.error("Please fill in all fields");return}if(!e){ee.error("You must be logged in to submit a feature request");return}m(!0);try{const{data:q,error:P}=await I.from("feature_requests").insert({title:u.title.trim(),description:u.description.trim(),status:"requested",votes:1,created_by:e.id}).select().single();if(P)throw P;await I.from("user_votes").insert({feature_id:q.id,user_id:e.id}),ee.success("Feature request submitted successfully!"),d({title:"",description:""}),l(!1),r(Y=>[...Y,{...q,user_voted:!0,comments_count:0}])}catch(q){console.error("Error submitting feature request:",q),ee.error("Failed to submit feature request. Please try again.")}finally{m(!1)}},C=async($,q,P)=>{if(!e){ee.error("You must be logged in to vote");return}try{const Y=P?q-1:q+1;if(r(R=>R.map(z=>z.id===$?{...z,votes:Y,user_voted:!P}:z)),P){const{error:R}=await I.from("user_votes").delete().eq("feature_id",$).eq("user_id",e.id);if(R)throw R}else{const{error:R}=await I.from("user_votes").insert({feature_id:$,user_id:e.id});if(R)throw R}const{error:le}=await I.from("feature_requests").update({votes:Y}).eq("id",$);if(le)throw le}catch(Y){console.error("Error voting for feature:",Y),ee.error("Failed to register your vote. Please try again."),r(le=>le.map(R=>R.id===$?{...R,votes:q,user_voted:P}:R))}},D=async $=>{if(!e){ee.error("You must be logged in to comment");return}if(!g.trim()){ee.error("Comment cannot be empty");return}_(!0);try{const{error:q}=await I.from("comments").insert({feature_id:$,user_id:e.id,content:g.trim()});if(q)throw q;ee.success("Comment added successfully!"),j(""),p(null),r(P=>P.map(Y=>Y.id===$?{...Y,comments_count:(Y.comments_count||0)+1}:Y))}catch(q){console.error("Error adding comment:",q),ee.error("Failed to add comment. Please try again.")}finally{_(!1)}},F=$=>{switch($){case"requested":return a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"Requested"});case"planned":return a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Planned"});case"in_progress":return a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"In Progress"});case"completed":return a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Completed"});case"rejected":return a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Not Planned"});default:return null}},W=[...v==="all"?t:t.filter($=>$.status===v)].sort(($,q)=>y==="votes"?q.votes-$.votes:new Date(q.created_at).getTime()-new Date($.created_at).getTime());return a.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Product Roadmap"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Help shape the future of ProduckAI by voting on features or suggesting new ones. We build in public and prioritize based on your feedback."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${v==="all"?"bg-[#00A0C1] text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>w("requested"),className:`px-4 py-2 rounded-lg text-sm font-medium ${v==="requested"?"bg-gray-700 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Requested"}),a.jsx("button",{onClick:()=>w("planned"),className:`px-4 py-2 rounded-lg text-sm font-medium ${v==="planned"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Planned"}),a.jsx("button",{onClick:()=>w("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium ${v==="in_progress"?"bg-yellow-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"In Progress"}),a.jsx("button",{onClick:()=>w("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium ${v==="completed"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Completed"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsxs("select",{value:y,onChange:$=>b($.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg py-2 pl-4 pr-10 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#00A0C1]",children:[a.jsx("option",{value:"votes",children:"Most Votes"}),a.jsx("option",{value:"recent",children:"Most Recent"})]}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Request Feature"]})]})]}),i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 flex items-start gap-2",children:[a.jsx(Ue,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i})]}),n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(ie,{className:"w-10 h-10 text-[#00A0C1] animate-spin"})}):W.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[a.jsx(Xu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No feature requests yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to suggest a feature for our product roadmap."}),a.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors inline-flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Request a Feature"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map($=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[F($.status),a.jsx("span",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleDateString()})]}),a.jsxs("button",{onClick:()=>C($.id,$.votes,$.user_voted||!1),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium ${$.user_voted?"bg-[#00A0C1] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(kw,{className:"w-4 h-4"}),$.votes]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.title}),a.jsx("p",{className:"text-gray-600 mb-4",children:$.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>p(f===$.id?null:$.id),className:"text-gray-500 hover:text-gray-700 flex items-center gap-1.5",children:[a.jsx(Le,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:[$.comments_count||0," Comments"]})]}),$.status==="in_progress"&&a.jsxs("span",{className:"text-xs text-blue-600 flex items-center gap-1",children:[a.jsx(pa,{className:"w-4 h-4"}),"Coming soon"]}),$.status==="completed"&&a.jsxs("a",{href:"#",className:"text-xs text-green-600 flex items-center gap-1",children:[a.jsx(E0,{className:"w-4 h-4"}),"See it live"]})]}),f===$.id&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("textarea",{value:g,onChange:q=>j(q.target.value),placeholder:"Add your comment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A0C1] focus:border-transparent text-sm",rows:3}),a.jsxs("div",{className:"flex justify-end mt-2 gap-2",children:[a.jsx("button",{onClick:()=>{p(null),j("")},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{onClick:()=>D($.id),disabled:N||!g.trim(),className:"px-3 py-1.5 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors disabled:opacity-50 text-sm flex items-center gap-1.5",children:N?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-3.5 h-3.5 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ew,{className:"w-3.5 h-3.5"}),"Submit"]})})]})]})]})},$.id))})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Request a Feature"}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature Title"}),a.jsx("input",{type:"text",id:"title",value:u.title,onChange:$=>d({...u,title:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A0C1] focus:border-transparent",placeholder:"E.g., Dark Mode Support",required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:u.description,onChange:$=>d({...u,description:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00A0C1] focus:border-transparent",placeholder:"Describe the feature and why it would be valuable...",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h||!u.title.trim()||!u.description.trim(),className:"px-4 py-2 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors disabled:opacity-50 flex items-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Dt,{className:"w-5 h-5"}),"Submit Request"]})})]})]})]})})]})}function Ak(){const e=je(),[t,r]=x.useState(!1),[n,s]=x.useState("pod-spaces"),i={"pod-spaces":{title:"Workspaces",description:"Create dedicated spaces for your product teams to collaborate on feature decisions.",image:"https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",bulletPoints:["Organize insights by product area","Control access per team or stakeholder","Track progress with visual boards"]},"ai-clustering":{title:"AI Clustering",description:"Our AI automatically groups related feedback to reveal patterns and themes.",image:"https://images.pexels.com/photos/7567434/pexels-photo-7567434.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",bulletPoints:["Semantic clustering of similar requests","Volume tracking per theme","Automatic tagging and categorization"]},"insight-scoring":{title:"Insight Scoring",description:"Prioritize features based on impact, sentiment, and customer value.",image:"https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",bulletPoints:["Score by Annual Contract Value","Sentiment analysis per feature","Urgency and frequency tracking"]}};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("nav",{className:"px-4 py-2 bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{size:"lg",className:"w-40 h-40 -mt-4 -mb-4"})," "]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-600 hover:text-[#00A0C1] transition-colors",children:"Features"}),a.jsx("a",{href:"#metrics",className:"text-gray-600 hover:text-[#00A0C1] transition-colors",children:"Metrics"}),a.jsx(Rh,{to:"/roadmap",className:"text-gray-600 hover:text-[#00A0C1] transition-colors",children:"Roadmap"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors",children:"Sign Up"}),a.jsx("button",{onClick:()=>e("/login"),className:"px-4 py-2 bg-[#00A0C1] text-white rounded-lg hover:bg-[#008a9a] transition-colors",children:"Login"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[a.jsxs("div",{className:"md:w-1/2 text-center md:text-left",children:[a.jsx("div",{className:"inline-block mb-4 px-3 py-1 bg-purple-100 rounded-full",children:a.jsxs("span",{className:"text-sm font-medium text-purple-600 flex items-center justify-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 16L12 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9 13L12 16L15 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),"Now in private beta"]})}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Your ",a.jsx("span",{className:"text-purple-600",children:"AI"})," product copilot for ",a.jsx("span",{className:"text-purple-600",children:"insight-driven"})," roadmaps"]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Surface themes, prioritize features, and align your team — all in one space."}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 max-w-md mx-auto md:mx-0",children:a.jsxs("button",{onClick:()=>r(!0),className:"w-full sm:w-auto whitespace-nowrap px-6 py-3 bg-[#00A0C1] text-white rounded-lg font-medium hover:bg-[#008a9a] transition-colors flex items-center justify-center gap-2",children:["Request Demo",a.jsx(Ut,{className:"w-5 h-5"})]})})]}),a.jsx("div",{className:"md:w-1/2",children:a.jsx("img",{src:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Product teams collaborating",className:"rounded-lg shadow-xl"})})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Stop guessing what to build next"}),a.jsxs("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto",children:["Let ",a.jsx("span",{className:"text-purple-600",children:"AI"})," help you make confident product decisions backed by data"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-[#00A0C1]/10 rounded-lg flex items-center justify-center text-[#00A0C1] mb-6 mx-auto",children:a.jsx(Le,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Unified Feedback"}),a.jsx("p",{className:"text-gray-600",children:"Automatically gather customer feedback from Slack, Zoom, CRM, emails, and support tickets into a single source of truth."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 mb-6 mx-auto",children:a.jsx(Lc,{className:"w-6 h-6"})}),a.jsxs("h3",{className:"text-xl font-semibold mb-3",children:[a.jsx("span",{className:"text-purple-600",children:"AI"}),"-Powered Analysis"]}),a.jsx("p",{className:"text-gray-600",children:"Identify key themes, sentiment, and priorities across all customer feedback without manual tagging or sorting."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-[#00A0C1]/10 rounded-lg flex items-center justify-center text-[#00A0C1] mb-6 mx-auto",children:a.jsx(qe,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Collaborative Decisions"}),a.jsx("p",{className:"text-gray-600",children:"Share insights with cross-functional teams in workspaces to align on product priorities and roadmap decisions."})]})]})]})}),a.jsx("div",{id:"metrics",className:"py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-4",children:"Loved by product teams"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#00A0C1]/10 rounded-full flex items-center justify-center text-[#00A0C1] mb-6 mx-auto",children:a.jsx(Lc,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reduction"}),a.jsx("p",{className:"text-gray-600",children:"in Feedback Processing Time"})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mb-6 mx-auto",children:a.jsx(Xu,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Faster"}),a.jsx("p",{className:"text-gray-600",children:"Time to Product Decisions"})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#00A0C1]/10 rounded-full flex items-center justify-center text-[#00A0C1] mb-6 mx-auto",children:a.jsx(qe,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Increase"}),a.jsx("p",{className:"text-gray-600",children:"in Customer-Driven Features"})]})]})]})}),a.jsx("div",{id:"features",className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-4",children:["How ",a.jsx("span",{style:{color:"#00A0C1"},children:"Produck"}),a.jsx("span",{className:"text-purple-600",children:"AI"})," works"]}),a.jsx("p",{className:"text-xl text-gray-600 text-center mb-12 max-w-3xl mx-auto",children:"See how our platform transforms customer feedback into product decisions"}),a.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white",children:[a.jsx("div",{className:"flex border-b border-gray-200",children:Object.keys(i).map(o=>a.jsx("button",{onClick:()=>s(o),className:`px-6 py-4 text-sm font-medium ${n===o?"text-[#00A0C1] border-b-2 border-[#00A0C1] -mb-px":"text-gray-500 hover:text-gray-700"}`,children:i[o].title},o))}),a.jsx("div",{className:"p-6 md:p-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:i[n].title}),a.jsx("p",{className:"text-gray-600 mb-6",children:i[n].description}),a.jsx("ul",{className:"space-y-4",children:i[n].bulletPoints.map((o,c)=>a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-[#00A0C1]/10 flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-4 h-4 text-[#00A0C1]",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M5 12L10 17L19 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsx("span",{children:o})]},c))})]}),a.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg",children:a.jsx("img",{src:i[n].image,alt:i[n].title,className:"w-full h-auto object-cover"})})]})})]})]})}),a.jsx("div",{className:"py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to transform your product feedback?"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join the beta today and be among the first to experience the future of product management."}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:a.jsx("button",{onClick:()=>r(!0),className:"px-8 py-3 bg-[#00A0C1] text-white rounded-lg font-semibold hover:bg-[#008a9a] transition-colors",children:"Request Demo"})})]})}),a.jsx("footer",{className:"bg-gray-900 text-white py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center mb-4",children:a.jsx(Zn,{size:"sm",className:"w-16 h-16"})}),a.jsx("p",{className:"text-gray-400 mb-4",children:"AI-native assistant for product managers."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.26c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"PRODUCT"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#metrics",className:"text-gray-400 hover:text-white",children:"Integrations"})}),a.jsx("li",{children:a.jsx(Rh,{to:"/roadmap",className:"text-gray-400 hover:text-white",children:"Roadmap"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:a.jsx("p",{children:"© 2025 ProduckAI. All rights reserved."})})]})}),t&&a.jsx(Ok,{onClose:()=>r(!1)})]})}function Rk(){const{user:e,loading:t}=Qu(),{hasCompletedOnboarding:r}=Yt();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00A0C1]"})}):a.jsxs(gl,{children:[a.jsx(me,{path:"/",element:e?a.jsx(yr,{to:"/dashboard",replace:!0}):a.jsx(Ak,{})}),a.jsx(me,{path:"/login",element:a.jsx(Bw,{})}),a.jsx(me,{path:"/roadmap",element:a.jsx(Of,{})}),a.jsx(me,{path:"/onboarding/*",element:t?null:e?r?a.jsx(yr,{to:"/dashboard",replace:!0}):a.jsx(Hw,{children:a.jsxs(gl,{children:[a.jsx(me,{path:"welcome",element:a.jsx(Ww,{})}),a.jsx(me,{path:"role",element:a.jsx(qw,{})}),a.jsx(me,{path:"integrations",element:a.jsx(Gw,{})}),a.jsx(me,{path:"pod-setup",element:a.jsx(Jw,{})}),a.jsx(me,{path:"profile-setup",element:a.jsx(Ek,{})}),a.jsx(me,{path:"product-details",element:a.jsx(Pk,{})}),a.jsx(me,{path:"product-themes",element:a.jsx(Tk,{})}),a.jsx(me,{path:"data-sources",element:a.jsx(Ik,{})}),a.jsx(me,{path:"*",element:a.jsx(yr,{to:"welcome",replace:!0})})]})}):a.jsx(yr,{to:"/login",replace:!0})}),a.jsx(me,{path:"/dashboard/*",element:e?a.jsx(Xw,{children:a.jsxs(gl,{children:[a.jsx(me,{index:!0,element:a.jsx(t2,{})}),a.jsx(me,{path:"trends",element:a.jsx(Ck,{})}),a.jsx(me,{path:"product-areas",element:a.jsx(r2,{})}),a.jsx(me,{path:"themes",element:a.jsx(i2,{})}),a.jsx(me,{path:"insights",element:a.jsx(xk,{})}),a.jsx(me,{path:"pods",element:a.jsx(bk,{})}),a.jsx(me,{path:"pods/:id",element:a.jsx(Cg,{})}),a.jsx(me,{path:"data-sources",element:a.jsx(wk,{})}),a.jsx(me,{path:"data-sources/manual",element:a.jsx(Nk,{})}),a.jsx(me,{path:"data-sources/integrations",element:a.jsx(kk,{})}),a.jsx(me,{path:"settings",element:a.jsx(Sk,{})}),a.jsx(me,{path:"roadmap",element:a.jsx(Of,{})})]})}):a.jsx(yr,{to:"/login",replace:!0})}),a.jsx(me,{path:"*",element:a.jsx(yr,{to:"/",replace:!0})})]})}function Mk(){return a.jsx(zw,{children:a.jsx(Rk,{})})}const Lk=qp(document.getElementById("root"));Lk.render(a.jsx(x.StrictMode,{children:a.jsx(Zy,{children:a.jsx(bw,{children:a.jsx(Mk,{})})})}));export{Pg as g};
